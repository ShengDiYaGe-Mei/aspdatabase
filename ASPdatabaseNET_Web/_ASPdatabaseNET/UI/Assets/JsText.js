/* JS Built: 12/16/2014 7:39:00 PM */ 
/*! jQuery v@1.8.0 jquery.com | jquery.org/license */
(function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a,b,c){b=b||0;if(p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=p.grep(a,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bX(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bV.length;while(e--){b=bV[e]+c;if(b in a)return b}return d}function bY(a,b){return a=b||a,p.css(a,"display")==="none"||!p.contains(a.ownerDocument,a)}function bZ(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bY(c)&&(e[f]=p._data(c,"olddisplay",cb(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b$(a,b,c){var d=bO.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function b_(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bU[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bU[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bU[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bU[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bU[e]+"Width"))||0));return f}function ca(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bP.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+b_(a,b,c||(f?"border":"content"),e)+"px"}function cb(a){if(bR[a])return bR[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");b.remove();if(c==="none"||c===""){bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)}return bR[a]=c,c}function ch(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||cd.test(a)?d(a,e):ch(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b)==="object")for(e in b)ch(a+"["+e+"]",b[e],c,d);else d(a,b)}function cy(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cz(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cu;for(;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cz(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cz(a,c,d,e,"*",g)),h}function cA(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cB(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);while(j[0]==="*")j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cC(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cK(){try{return new a.XMLHttpRequest}catch(b){}}function cL(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cT(){return setTimeout(function(){cM=b},0),cM=p.now()}function cU(a,b){p.each(b,function(b,c){var d=(cS[b]||[]).concat(cS["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cV(a,b,c){var d,e=0,f=0,g=cR.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){var b=cM||cT(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;for(;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cM||cT(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cW(k,j.opts.specialEasing);for(;e<g;e++){d=cR[e].call(j,a,k,j.opts);if(d)return d}return cU(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cW(a,b){var c,d,e,f,g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cX(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bY(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cb(a.nodeName)==="inline"?m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cO.exec(f)){delete b[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cY(a,b,c,d,e){return new cY.prototype.init(a,b,c,d,e)}function cZ(a,b){var c,d={height:a},e=0;for(;e<4;e+=2-b)c=bU[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function c_(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=r.test("Â ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e.readyState==="complete"&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,h,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;if(!e.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!=="object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w.test(b.replace(y,"@").replace(z,"]").replace(x,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":a.toString().replace(t,"")},makeArray:function(a,b){var c,d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||f.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=d==null,k=0,l=a.length;if(d&&typeof d=="object"){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null));if(c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d){d=p.Deferred();if(e.readyState==="complete"||e.readyState!=="loading"&&e.addEventListener)setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){p.isFunction(c)&&(!a.unique||!l.has(c))?i.push(c):c&&c.length&&d(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){var c;while((c=p.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return typeof a=="object"?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=k.call(arguments),d=c.length,e=d!==1||a&&p.isFunction(a.promise)?d:0,f=e===1?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length||!d)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:n.className!=="t",enctype:!!e.createElement("form").enctype,html5Clone:e.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue=h.value==="t",h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];if(!i)return;c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/^(?:\{.*\}|\[.*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f,g,h=p.expando,i=typeof c=="string",j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||++p.uuid:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")===0&&(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.shift(),e=p._queueHooks(a,b),f=function(){p.dequeue(a,b)};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),delete e.stop,d.call(a,f,e)),!c.length&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(c=a,a=b),a=a||"fx";while(h--)(d=p._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(s);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(s);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)while(d.indexOf(" "+c[f]+" ")>-1)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=p(this),h=b,i=a.split(s);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(P,""):d==null?"":d);return}return e=p.isFunction(a),this.each(function(d){var f,g=p(this);if(this.nodeType!==1)return;e?f=a.call(this,d,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(s);for(;g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=p._data(a)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a),c=p.trim(_(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m,n,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=[].slice.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click")){g=p(this),g.context=this;for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){i={},k=[],g[0]=f;for(d=0;d<q;d++)l=o[d],m=l.selector,i[m]===b&&(i[m]=g.is(m)),i[m]&&k.push(l);k.length&&u.push({elem:f,matches:k})}}o.length>q&&u.push({elem:this,matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){j=u[d],c.currentTarget=j.elem;for(e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++){l=j.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,h=((p.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,r),h!==b&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{ready:{setup:p.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(this instanceof p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){c++===0&&e.addEventListener(a,d,!0)},teardown:function(){--c===0&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bd(a,b,c,d){var e=0,f=b.length;for(;e<f;e++)Z(a,b[e],c,d)}function be(a,b,c,d,e,f){var g,h=$.setFilters[b.toLowerCase()];return h||Z.error(b),(a||!(g=e))&&bd(a||"*",d,g=[],e),g.length>0?h(g,c,f):[]}function bf(a,c,d,e,f){var g,h,i,j,k,l,m,n,p=0,q=f.length,s=L.POS,t=new RegExp("^"+s.source+"(?!"+r+")","i"),u=function(){var a=1,c=arguments.length-2;for(;a<c;a++)arguments[a]===b&&(g[a]=b)};for(;p<q;p++){s.exec(""),a=f[p],j=[],i=0,k=e;while(g=s.exec(a)){n=s.lastIndex=g.index+g[0].length;if(n>i){m=a.slice(i,g.index),i=n,l=[c],B.test(m)&&(k&&(l=k),k=e);if(h=H.test(m))m=m.slice(0,-5).replace(B,"$&*");g.length>1&&g[0].replace(t,u),k=be(m,g[1],g[2],l,k,h)}}k?(j=j.concat(k),(m=a.slice(i))&&m!==")"?B.test(m)?bd(m,j,d,e):Z(m,c,d,e?e.concat(k):k):o.apply(d,j)):Z(a,c,d,e)}return q===1?d:Z.uniqueSort(d)}function bg(a,b,c){var d,e,f,g=[],i=0,j=D.exec(a),k=!j.pop()&&!j.pop(),l=k&&a.match(C)||[""],m=$.preFilter,n=$.filter,o=!c&&b!==h;for(;(e=l[i])!=null&&k;i++){g.push(d=[]),o&&(e=" "+e);while(e){k=!1;if(j=B.exec(e))e=e.slice(j[0].length),k=d.push({part:j.pop().replace(A," "),captures:j});for(f in n)(j=L[f].exec(e))&&(!m[f]||(j=m[f](j,b,c)))&&(e=e.slice(j.shift().length),k=d.push({part:f,captures:j}));if(!k)break}}return k||Z.error(a),g}function bh(a,b,e){var f=b.dir,g=m++;return a||(a=function(a){return a===e}),b.first?function(b,c){while(b=b[f])if(b.nodeType===1)return a(b,c)&&b}:function(b,e){var h,i=g+"."+d,j=i+"."+c;while(b=b[f])if(b.nodeType===1){if((h=b[q])===j)return b.sizset;if(typeof h=="string"&&h.indexOf(i)===0){if(b.sizset)return b}else{b[q]=j;if(a(b,e))return b.sizset=!0,b;b.sizset=!1}}}}function bi(a,b){return a?function(c,d){var e=b(c,d);return e&&a(e===!0?c:e,d)}:b}function bj(a,b,c){var d,e,f=0;for(;d=a[f];f++)$.relative[d.part]?e=bh(e,$.relative[d.part],b):(d.captures.push(b,c),e=bi(e,$.filter[d.part].apply(null,d.captures)));return e}function bk(a){return function(b,c){var d,e=0;for(;d=a[e];e++)if(d(b,c))return!0;return!1}}var c,d,e,f,g,h=a.document,i=h.documentElement,j="undefined",k=!1,l=!0,m=0,n=[].slice,o=[].push,q=("sizcache"+Math.random()).replace(".",""),r="[\\x20\\t\\r\\n\\f]",s="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",t=s.replace("w","w#"),u="([*^$|!~]?=)",v="\\["+r+"*("+s+")"+r+"*(?:"+u+r+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+t+")|)|)"+r+"*\\]",w=":("+s+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",x=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",y=r+"*([\\x20\\t\\r\\n\\f>+~])"+r+"*",z="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+v+"|"+w.replace(2,7)+"|[^\\\\(),])+",A=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),B=new RegExp("^"+y),C=new RegExp(z+"?(?="+r+"*,|$)","g"),D=new RegExp("^(?:(?!,)(?:(?:^|,)"+r+"*"+z+")*?|"+r+"*(.*?))(\\)|$)"),E=new RegExp(z.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+y,"g"),F=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,G=/[\x20\t\r\n\f]*[+~]/,H=/:not\($/,I=/h\d/i,J=/input|select|textarea|button/i,K=/\\(?!\\)/g,L={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),NAME:new RegExp("^\\[name=['\"]?("+s+")['\"]?\\]"),TAG:new RegExp("^("+s.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+v),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),POS:new RegExp(x,"ig"),needsContext:new RegExp("^"+r+"*[>+~]|"+x,"i")},M={},N=[],O={},P=[],Q=function(a){return a.sizzleFilter=!0,a},R=function(a){return function(b){return b.nodeName.toLowerCase()==="input"&&b.type===a}},S=function(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}},T=function(a){var b=!1,c=h.createElement("div");try{b=a(c)}catch(d){}return c=null,b},U=T(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),V=T(function(a){a.id=q+0,a.innerHTML="<a name='"+q+"'></a><div name='"+q+"'></div>",i.insertBefore(a,i.firstChild);var b=h.getElementsByName&&h.getElementsByName(q).length===2+h.getElementsByName(q+0).length;return g=!h.getElementById(q),i.removeChild(a),b}),W=T(function(a){return a.appendChild(h.createComment("")),a.getElementsByTagName("*").length===0}),X=T(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==j&&a.firstChild.getAttribute("href")==="#"}),Y=T(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||a.getElementsByClassName("e").length===0?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length!==1)}),Z=function(a,b,c,d){c=c||[],b=b||h;var e,f,g,i,j=b.nodeType;if(j!==1&&j!==9)return[];if(!a||typeof a!="string")return c;g=ba(b);if(!g&&!d)if(e=F.exec(a))if(i=e[1]){if(j===9){f=b.getElementById(i);if(!f||!f.parentNode)return c;if(f.id===i)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(i))&&bb(b,f)&&f.id===i)return c.push(f),c}else{if(e[2])return o.apply(c,n.call(b.getElementsByTagName(a),0)),c;if((i=e[3])&&Y&&b.getElementsByClassName)return o.apply(c,n.call(b.getElementsByClassName(i),0)),c}return bm(a,b,c,d,g)},$=Z.selectors={cacheLength:50,match:L,order:["ID","TAG"],attrHandle:{},createPseudo:Q,find:{ID:g?function(a,b,c){if(typeof b.getElementById!==j&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==j&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==j&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:W?function(a,b){if(typeof b.getElementsByTagName!==j)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(K,""),a[3]=(a[4]||a[5]||"").replace(K,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||Z.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&Z.error(a[0]),a},PSEUDO:function(a){var b,c=a[4];return L.CHILD.test(a[0])?null:(c&&(b=D.exec(c))&&b.pop()&&(a[0]=a[0].slice(0,b[0].length-c.length-1),c=b[0].slice(0,-1)),a.splice(2,3,c||a[3]),a)}},filter:{ID:g?function(a){return a=a.replace(K,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(K,""),function(b){var c=typeof b.getAttributeNode!==j&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(K,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=M[a];return b||(b=M[a]=new RegExp("(^|"+r+")"+a+"("+r+"|$)"),N.push(a),N.length>$.cacheLength&&delete M[N.shift()]),function(a){return b.test(a.className||typeof a.getAttribute!==j&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(d){var e=Z.attr(d,a),f=e+"";if(e==null)return b==="!=";switch(b){case"=":return f===c;case"!=":return f!==c;case"^=":return c&&f.indexOf(c)===0;case"*=":return c&&f.indexOf(c)>-1;case"$=":return c&&f.substr(f.length-c.length)===c;case"~=":return(" "+f+" ").indexOf(c)>-1;case"|=":return f===c||f.substr(0,c.length+1)===c+"-"}}:function(b){return Z.attr(b,a)!=null}},CHILD:function(a,b,c,d){if(a==="nth"){var e=m++;return function(a){var b,f,g=0,h=a;if(c===1&&d===0)return!0;b=a.parentNode;if(b&&(b[q]!==e||!a.sizset)){for(h=b.firstChild;h;h=h.nextSibling)if(h.nodeType===1){h.sizset=++g;if(h===a)break}b[q]=e}return f=a.sizset-d,c===0?f===0:f%c===0&&f/c>=0}}return function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b,c,d){var e=$.pseudos[a]||$.pseudos[a.toLowerCase()];return e||Z.error("unsupported pseudo: "+a),e.sizzleFilter?e(b,c,d):e}},pseudos:{not:Q(function(a,b,c){var d=bl(a.replace(A,"$1"),b,c);return function(a){return!d(a)}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!$.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},contains:Q(function(a){return function(b){return(b.textContent||b.innerText||bc(b)).indexOf(a)>-1}}),has:Q(function(a){return function(b){return Z(a,b).length>0}}),header:function(a){return I.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:R("radio"),checkbox:R("checkbox"),file:R("file"),password:R("password"),image:R("image"),submit:S("submit"),reset:S("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return J.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){var d=a.pop();return c?a:[d]},even:function(a,b,c){var d=[],e=c?1:0,f=a.length;for(;e<f;e=e+2)d.push(a[e]);return d},odd:function(a,b,c){var d=[],e=c?0:1,f=a.length;for(;e<f;e=e+2)d.push(a[e]);return d},lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){var d=a.splice(+b,1);return c?a:d}}};$.setFilters.nth=$.setFilters.eq,$.filters=$.pseudos,X||($.attrHandle={href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}}),V&&($.order.push("NAME"),$.find.NAME=function(a,b){if(typeof b.getElementsByName!==j)return b.getElementsByName(a)}),Y&&($.order.splice(1,0,"CLASS"),$.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==j&&!c)return b.getElementsByClassName(a)});try{n.call(i.childNodes,0)[0].nodeType}catch(_){n=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}var ba=Z.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},bb=Z.contains=i.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:i.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc=Z.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=bc(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=bc(b);return c};Z.attr=function(a,b){var c,d=ba(a);return d||(b=b.toLowerCase()),$.attrHandle[b]?$.attrHandle[b](a):U||d?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},Z.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},[0,0].sort(function(){return l=0}),i.compareDocumentPosition?e=function(a,b){return a===b?(k=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:(e=function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],g=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return f(a,b);if(!h)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)g.unshift(j),j=j.parentNode;c=e.length,d=g.length;for(var l=0;l<c&&l<d;l++)if(e[l]!==g[l])return f(e[l],g[l]);return l===c?f(a,g[l],-1):f(e[l],b,1)},f=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),Z.uniqueSort=function(a){var b,c=1;if(e){k=l,a.sort(e);if(k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1)}return a};var bl=Z.compile=function(a,b,c){var d,e,f,g=O[a];if(g&&g.context===b)return g;e=bg(a,b,c);for(f=0;d=e[f];f++)e[f]=bj(d,b,c);return g=O[a]=bk(e),g.context=b,g.runs=g.dirruns=0,P.push(a),P.length>$.cacheLength&&delete O[P.shift()],g};Z.matches=function(a,b){return Z(a,null,null,b)},Z.matchesSelector=function(a,b){return Z(b,null,null,[a]).length>0};var bm=function(a,b,e,f,g){a=a.replace(A,"$1");var h,i,j,k,l,m,p,q,r,s=a.match(C),t=a.match(E),u=b.nodeType;if(L.POS.test(a))return bf(a,b,e,f,s);if(f)h=n.call(f,0);else if(s&&s.length===1){if(t.length>1&&u===9&&!g&&(s=L.ID.exec(t[0]))){b=$.find.ID(s[1],b,g)[0];if(!b)return e;a=a.slice(t.shift().length)}q=(s=G.exec(t[0]))&&!s.index&&b.parentNode||b,r=t.pop(),m=r.split(":not")[0];for(j=0,k=$.order.length;j<k;j++){p=$.order[j];if(s=L[p].exec(m)){h=$.find[p]((s[1]||"").replace(K,""),q,g);if(h==null)continue;m===r&&(a=a.slice(0,a.length-r.length)+m.replace(L[p],""),a||o.apply(e,n.call(h,0)));break}}}if(a){i=bl(a,b,g),d=i.dirruns++,h==null&&(h=$.find.TAG("*",G.test(a)&&b.parentNode||b));for(j=0;l=h[j];j++)c=i.runs++,i(l,b)&&e.push(l)}return e};h.querySelectorAll&&function(){var a,b=bm,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[],f=[":active"],g=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.oMatchesSelector||i.msMatchesSelector;T(function(a){a.innerHTML="<select><option selected></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+r+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),T(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+r+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=e.length&&new RegExp(e.join("|")),bm=function(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a)))if(d.nodeType===9)try{return o.apply(f,n.call(d.querySelectorAll(a),0)),f}catch(i){}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var j=d.getAttribute("id"),k=j||q,l=G.test(a)&&d.parentNode||d;j?k=k.replace(c,"\\$&"):d.setAttribute("id",k);try{return o.apply(f,n.call(l.querySelectorAll(a.replace(C,"[id='"+k+"'] $&")),0)),f}catch(i){}finally{j||d.removeAttribute("id")}}return b(a,d,f,g,h)},g&&(T(function(b){a=g.call(b,"div");try{g.call(b,"[test!='']:sizzle"),f.push($.match.PSEUDO)}catch(c){}}),f=new RegExp(f.join("|")),Z.matchesSelector=function(b,c){c=c.replace(d,"='$1']");if(!ba(b)&&!f.test(c)&&(!e||!e.test(c)))try{var h=g.call(b,c);if(h||a||b.document&&b.document.nodeType!==11)return h}catch(i){}return Z(c,null,null,[b]).length>0})}(),Z.attr=p.attr,p.find=Z,p.expr=Z.selectors,p.expr[":"]=p.expr.pseudos,p.unique=Z.uniqueSort,p.text=Z.getText,p.isXMLDoc=Z.isXML,p.contains=Z.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){c=c&&p.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=(c[0]||c).ownerDocument||c[0]||c,typeof c.createDocumentFragment=="undefined"&&(c=e),a.length===1&&typeof i=="string"&&i.length<512&&c===e&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,q,r,s=0,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=e;for(g=b===e&&bA;(h=a[s])!=null;s++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{g=g||bk(b),l=l||g.appendChild(b.createElement("div")),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(f=n.length-1;f>=0;--f)p.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l=g.lastChild}h.nodeType?t.push(h):t=p.merge(t,h)}l&&(g.removeChild(l),h=l=g=null);if(!p.support.appendChecked)for(s=0;(h=t[s])!=null;s++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(s=0;(h=t[s])!=null;s++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[s+1,0].concat(r)),s+=r.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;for(;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^margin/,bO=new RegExp("^("+q+")(.*)$","i"),bP=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bQ=new RegExp("^([-+])=("+q+")","i"),bR={},bS={position:"absolute",visibility:"hidden",display:"block"},bT={letterSpacing:0,fontWeight:400,lineHeight:1},bU=["Top","Right","Bottom","Left"],bV=["Webkit","O","Moz","ms"],bW=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return bZ(this,!0)},hide:function(){return bZ(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bW.apply(this,arguments):this.each(function(){(c?a:bY(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,h,i=p.camelCase(c),j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bX(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bQ.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bX(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bT&&(f=bT[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(a,b){var c,d,e,f,g=getComputedStyle(a,null),h=a.style;return g&&(c=g[b],c===""&&!p.contains(a.ownerDocument.documentElement,a)&&(c=p.style(a,b)),bP.test(c)&&bN.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=g.width,h.width=d,h.minWidth=e,h.maxWidth=f)),c}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return e==null&&f&&f[b]&&(e=f[b]),bP.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0||bH(a,"display")!=="none"?ca(a,b,d):p.swap(a,bS,function(){return ca(a,b,d)})},set:function(a,c,d){return b$(a,c,d?b_(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bP.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bU[d]+b]=e[d]||e[d-2]||e[0];return f}},bN.test(a)||(p.cssHooks[a+b].set=b$)});var cc=/%20/g,cd=/\[\]$/,ce=/\r?\n/g,cf=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,cg=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||cg.test(this.nodeName)||cf.test(this.type))}).map(function(a,b){var c=p(this).val();return c==null?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(ce,"\r\n")}}):{name:b.name,value:c.replace(ce,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ch(d,a[d],c,f);return e.join("&").replace(cc,"+")};var ci,cj,ck=/#.*$/,cl=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cm=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,cn=/^(?:GET|HEAD)$/,co=/^\/\//,cp=/\?/,cq=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cr=/([?&])_=[^&]*/,cs=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ct=p.fn.load,cu={},cv={},cw=["*/"]+["*"];try{ci=f.href}catch(cx){ci=e.createElement("a"),ci.href="",ci=ci.href}cj=cs.exec(ci.toLowerCase())||[],p.fn.load=function(a,c,d){if(typeof a!="string"&&ct)return ct.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):typeof c=="object"&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cq,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cA(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cA(a,b),a},ajaxSettings:{url:ci,isLocal:cm.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cw},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cy(cu),ajaxTransport:cy(cv),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cB(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cC(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=""+(c||y),k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f){f={};while(c=cl.exec(e))f[c[1].toLowerCase()]=c[2]}c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(ck,"").replace(co,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),l.crossDomain==null&&(i=cs.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]==cj[1]&&i[2]==cj[2]&&(i[3]||(i[1]==="http:"?80:443))==(cj[3]||(cj[1]==="http:"?80:443)))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cz(cu,l,c,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!cn.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cp.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===!1){var z=p.now(),A=l.url.replace(cr,"$1_="+z);l.url=A+(A===l.url?(cp.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cw+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cz(cv,l,c,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var cD=[],cE=/\?/,cF=/(=)\?(?=&|$)|\?\?/,cG=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cD.pop()||p.expando+"_"+cG++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cF.test(j),m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cF.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cF,"$1"+f):m?c.data=i.replace(cF,"$1"+f):k&&(c.url+=(cE.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cD.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cH,cI=a.ActiveXObject?function(){for(var a in cH)cH[a](0,1)}:!1,cJ=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cK()||cL()}:cK,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cI&&delete cH[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?i.readyState===4?setTimeout(d,0):(g=++cJ,cI&&(cH||(cH={},p(a).unload(cI)),cH[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cM,cN,cO=/^(?:toggle|show|hide)$/,cP=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cQ=/queueHooks$/,cR=[cX],cS={"*":[function(a,b){var c,d,e,f=this.createTween(a,b),g=cP.exec(b),h=f.cur(),i=+h||0,j=1;if(g){c=+g[2],d=g[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&i){i=p.css(f.elem,a,!0)||c||1;do e=j=j||".5",i=i/j,p.style(f.elem,a,i+d),j=f.cur()/h;while(j!==1&&j!==e)}f.unit=d,f.start=i,f.end=g[1]?i+(g[1]+1)*c:c}return f}]};p.Animation=p.extend(cV,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cS[c]=cS[c]||[],cS[c].unshift(b)},prefilter:function(a,b){b?cR.unshift(a):cR.push(a)}}),p.Tween=cY,cY.prototype={constructor:cY,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cY.propHooks[this.prop];return a&&a.get?a.get(this):cY.propHooks._default.get(this)},run:function(a){var b,c=cY.propHooks[this.prop];return this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration),this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cY.propHooks._default.set(this),this}},cY.prototype.init.prototype=cY.prototype,cY.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cY.propHooks.scrollTop=cY.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(cZ(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bY).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cV(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cQ.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:cZ("show"),slideUp:cZ("hide"),slideToggle:cZ("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cY.prototype.init,p.fx.tick=function(){var a,b=p.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cN&&(cN=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cN),cN=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c$=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j,k,l,m=this[0],n=m&&m.ownerDocument;if(!n)return;return(e=n.body)===m?p.offset.bodyOffset(m):(d=n.documentElement,p.contains(d,m)?(c=m.getBoundingClientRect(),f=c_(n),g=d.clientTop||e.clientTop||0,h=d.clientLeft||e.clientLeft||0,i=f.pageYOffset||d.scrollTop,j=f.pageXOffset||d.scrollLeft,k=c.top+i-g,l=c.left+j-h,{top:k,left:l}):{top:0,left:0})},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0],b=this.offsetParent(),c=this.offset(),d=c$.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||e.body;while(a&&!c$.test(a.nodeName)&&p.css(a,"position")==="static")a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=c_(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||typeof e!="boolean"),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null";
}var type=typeof o;
if(type==="undefined"){return undefined;
}if(type==="number"||type==="boolean"){return""+o;
}if(type==="string"){return $.quoteString(o);
}if(type==="object"){if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON());
}if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();
if(month<10){month="0"+month;
}if(day<10){day="0"+day;
}if(hours<10){hours="0"+hours;
}if(minutes<10){minutes="0"+minutes;
}if(seconds<10){seconds="0"+seconds;
}if(milli<100){milli="0"+milli;
}if(milli<10){milli="0"+milli;
}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"';
}if(o.constructor===Array){var ret=[];
for(var i=0;
i<o.length;
i++){ret.push($.toJSON(o[i])||"null");
}return"["+ret.join(",")+"]";
}var name,val,pairs=[];
for(var k in o){type=typeof k;
if(type==="number"){name='"'+k+'"';
}else{if(type==="string"){name=$.quoteString(k);
}else{continue;
}}type=typeof o[k];
if(type==="function"||type==="undefined"){continue;
}val=$.toJSON(o[k]);
pairs.push(name+":"+val);
}return"{"+pairs.join(",")+"}";
}};
$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")");
};
$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");
if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")");
}else{throw new SyntaxError("Error parsing JSON, source is not valid.");
}};
$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];
if(typeof c==="string"){return c;
}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);
})+'"';
}return'"'+string+'"';
};
})(jQuery);
/*! jQuery UI - v1.10.4 - 2014-03-01
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),D={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),x=u+f+s(this,"marginRight")+k.width,C=d+_+s(this,"marginBottom")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=d:"center"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(l.horizontal="center"),d>g&&g>r(n+a)&&(l.vertical="middle"),l.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()})(jQuery);(function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data("ui-draggable"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,"outer"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],undefined):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return o>=c&&d>=l&&r>=u&&p>=h;case"intersect":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),a.length&&(s=t.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(jQuery);(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data("ui-resizable"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})})(jQuery);(function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):"fit"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);if(typeof($Inherit)=="undefined"){var $Inherit=function(a,b){if(typeof(Object.getOwnPropertyNames)=="undefined"){for(var d in b.prototype){if(typeof(a.prototype[d])=="undefined"||a.prototype[d]==Object.prototype[d]){a.prototype[d]=b.prototype[d];
}}for(var d in b){if(typeof(a[d])=="undefined"){a[d]=b[d];
}}a.$baseCtor=b;
}else{var e=Object.getOwnPropertyNames(b.prototype);
for(var c=0;
c<e.length;
c++){if(typeof(Object.getOwnPropertyDescriptor(a.prototype,e[c]))=="undefined"){Object.defineProperty(a.prototype,e[c],Object.getOwnPropertyDescriptor(b.prototype,e[c]));
}}for(var d in b){if(typeof(a[d])=="undefined"){a[d]=b[d];
}}a.$baseCtor=b;
}};
}if(typeof(ASPdb)=="undefined"){var ASPdb={};
}if(typeof(ASPdb.Ajax)=="undefined"){ASPdb.Ajax={};
}ASPdb.Ajax.AjaxHelper=function(){this.IsClientCode=false;
this.Parameters=[];
this.ParameterIndex=0;
try{var b=Typeof(System.Int32.ctor).toString();
this.IsClientCode=false;
}catch(a){this.IsClientCode=true;
}};
ASPdb.Ajax.AjaxHelper.get_New=function(){return new ASPdb.Ajax.AjaxHelper();
};
ASPdb.Ajax.AjaxHelper.prototype.ToJson=function(obj){try{return(new System.Web.Script.Serialization.JavaScriptSerializer.ctor()).Serialize$$Object(obj);
}catch($$e25){}var rtn="";
var o=obj;
eval("rtn = $.toJSON(o);");
return rtn;
};
ASPdb.Ajax.AjaxHelper.prototype.FromJson=function(json){if(!this.IsClientCode){try{return(new System.Web.Script.Serialization.JavaScriptSerializer.ctor()).Deserialize$1$$String(T,json);
}catch(exc){ASPdb.Framework.Debug.RecordException(exc);
return null;
}}else{var rtn=null;
eval("rtn = $.evalJSON(json);");
return rtn;
}};
ASPdb.Ajax.AjaxHelper.prototype._Json=function(){var b=null;
try{b=this.FromJson(this.Parameters[this.ParameterIndex].toString());
}catch(a){ASPdb.Framework.Debug.RecordException(a);
}this.ParameterIndex++;
return b;
};
ASPdb.Ajax.AjaxHelper.prototype._Json2=function(a){var b=Typeof(ASPdb.Ajax.AjaxHelper).GetMethod$$String("_Json");
var c=b.MakeGenericMethod(System.Type.GetType$$String(a));
var d=c.Invoke$$Object$$Object$Array(this,null);
return d;
};
ASPdb.Ajax.AjaxHelper.prototype.get__Int32=function(){var b=-1;
try{b=System.Int32.Parse$$String(this.Parameters[this.ParameterIndex].toString().trim());
}catch(a){}this.ParameterIndex++;
return b;
};
ASPdb.Ajax.AjaxHelper.prototype.get__Boolean=function(){var b=false;
try{b=System.Boolean.Parse(this.Parameters[this.ParameterIndex].toString().trim());
}catch(a){}this.ParameterIndex++;
return b;
};
ASPdb.Ajax.AjaxHelper.prototype.get__DateTime=function(){var b=null;
try{b=System.DateTime.Parse$$String(this.Parameters[this.ParameterIndex].toString().trim());
}catch(a){}this.ParameterIndex++;
return b;
};
ASPdb.Ajax.AjaxHelper.prototype.get__String=function(){var b="";
try{b=this.Parameters[this.ParameterIndex].toString();
}catch(a){}this.ParameterIndex++;
return b;
};
ASPdb.Ajax.AjaxRequest=function(){this.DoEncryption=false;
this.AjaxUrl=null;
this.RemoteMethod=null;
this.ReturnInfo=null;
this.Parameters=null;
};
ASPdb.Ajax.AjaxRequest.New=function(a,b,c){var d=new ASPdb.Ajax.AjaxRequest();
d.AjaxUrl=a;
d.RemoteMethod=b;
d.ReturnInfo=c;
d.Parameters=[];
return d;
};
ASPdb.Ajax.AjaxRequest.New2=function(a,d,c,b){var e=new ASPdb.Ajax.AjaxReturnInfo();
e.Callback_Object=c;
e.Callback_Method=b;
return ASPdb.Ajax.AjaxRequest.New(a,d,e);
};
ASPdb.Ajax.AjaxRequest.prototype.Send=function(){var ajaxRequest_This=this;
var ajaxRequest_ToSend=new ASPdb.Ajax.AjaxRequest();
try{ajaxRequest_ToSend.AjaxUrl=this.AjaxUrl;
ajaxRequest_ToSend.RemoteMethod=this.RemoteMethod;
ajaxRequest_ToSend.Parameters=this.Parameters;
var ajaxSender=ASPdb.Security.AjaxSender.GetObj();
if(this.DoEncryption){if(!ajaxSender.IsReady){alert("Required Ajax Encryption could not be established.");
return null;
}var json="";
eval("json = $.toJSON(ajaxRequest_ToSend);");
json=ASPdb.Security.AESLogic.EncryptClient(ajaxSender.Get_AESKey(),json);
var aesIndex=ajaxSender.AESIndex;
eval("\r\n                        var jsonRequestMap = { AjaxRequest: json, AESIndex: aesIndex };\r\n                        $.post(\r\n                            this.AjaxUrl, \r\n                            jsonRequestMap, \r\n                            function (responseString) \r\n                            { \r\n                                ASPdb.Ajax.AjaxRequest.AjaxReturnMethod_AES(ajaxRequest_This, responseString, aesIndex); \r\n                            });\r\n                        ");
}else{eval("\r\n                        var jsonRequestMap = { AjaxRequest: $.toJSON(ajaxRequest_ToSend) };\r\n                        $.post(\r\n                            this.AjaxUrl, \r\n                            jsonRequestMap, \r\n                            function (responseString) \r\n                            { \r\n                                ASPdb.Ajax.AjaxRequest.AjaxReturnMethod(ajaxRequest_This, responseString); \r\n                            });\r\n                        ");
}return null;
}catch(exc){alert("Error in AjaxRequest.Send()");
console.log("AjaxRequest.Send() -- Exception: "+exc);
return exc;
}};
ASPdb.Ajax.AjaxRequest.AjaxReturnMethod=function(ajaxRequest,ajaxResponseString){if(ajaxRequest.ReturnInfo!=null){var ajaxResponse=ASPdb.Ajax.AjaxResponse.GetFromJson(ajaxResponseString);
ajaxResponse.AjaxRequest=ajaxRequest;
if(ajaxRequest.ReturnInfo.Callback_Object!=null){var objToCallOn=ajaxRequest.ReturnInfo.Callback_Object;
eval("objToCallOn."+ajaxRequest.ReturnInfo.Callback_Method+"(ajaxResponse);");
}else{eval(ajaxRequest.ReturnInfo.Callback_Method+"(ajaxResponse);");
}}};
ASPdb.Ajax.AjaxRequest.AjaxReturnMethod_AES=function(b,c,a){var d=ASPdb.Security.AjaxSender.GetObj();
c=ASPdb.Security.AESLogic.DecryptClient(d.Get_AESKey(),c);
ASPdb.Ajax.AjaxRequest.AjaxReturnMethod(b,c);
};
ASPdb.Ajax.AjaxResponse=function(){this._returnType=null;
this.Error=null;
this.DoLogout=false;
this.AjaxRequest=null;
this.ReturnObj=null;
};
ASPdb.Ajax.AjaxResponse.prototype.get_ReturnType=function(){if(this._returnType!=null){return this._returnType;
}try{return this.ReturnObj.GetType().toString();
}catch(a){return"";
}};
ASPdb.Ajax.AjaxResponse.prototype.set_ReturnType=function(a){this._returnType=a;
};
ASPdb.Ajax.AjaxResponse.prototype.ToJson=function(){return(new ASPdb.Ajax.AjaxHelper()).ToJson(this);
};
ASPdb.Ajax.AjaxResponse.GetFromJson=function(json){var obj=(new ASPdb.Ajax.AjaxHelper()).FromJson(json);
var returnType="";
eval("returnType = obj.ReturnType;");
var rtn=new ASPdb.Ajax.AjaxResponse();
rtn.ReturnObj=obj.ReturnObj;
rtn.set_ReturnType(returnType);
rtn.Error=obj.Error;
rtn.AjaxRequest=obj.AjaxRequest;
return rtn;
};
ASPdb.Ajax.AjaxResponse.prototype.Send=function(){System.Web.HttpContext.get_Current().get_Response().Write$$String(this.ToJson());
};
ASPdb.Ajax.AjaxResponse.prototype.Send_AES=function(a){var b=ASPdatabaseNET.Users.UserSessionLogic.EncryptAES(a,this.ToJson());
System.Web.HttpContext.get_Current().get_Response().Write$$String(b);
};
ASPdb.Ajax.AjaxResponse.prototype.SetException=function(a){this.Error=(function(){var b=new ASPdb.FrameworkUI.ErrorInfo();
b.Message=a.get_Message();
b.StackTrace=a.get_StackTrace();
return b;
}).call(this);
};
ASPdb.Ajax.AjaxResponse_Generic=function(){this.ReturnObj=null;
this.ReturnType=null;
this.Error=null;
this.AjaxRequest=null;
};
ASPdb.Ajax.AjaxReturnInfo=function(){this.Callback_Object=null;
this.Callback_Method=null;
this.DataObj=null;
};
ASPdb.Ajax.AjaxReturnInfo.New=function(b,a){var c=new ASPdb.Ajax.AjaxReturnInfo();
c.Callback_Object=b;
c.Callback_Method=a;
c.DataObj=null;
return c;
};
ASPdb.Ajax.AjaxServiceProxy=function(){this.IsClientCode=true;
this.AjaxUrl="";
this.aj=new ASPdb.Ajax.AjaxHelper();
this.Ajax=null;
try{this.AjaxUrl=ASPdb.FrameworkUI.Cookies.get_ASPdb_AjaxGatewayUrl();
}catch(a){var b=a;
}if(this.AjaxUrl==null||this.AjaxUrl==""){alert("In AjaxServiceProxy() -- Cookie not found ");
}};
ASPdb.Ajax.AjaxServiceProxy.prototype.SetCallback=function(c,b,a){this.Ajax=ASPdb.Ajax.AjaxRequest.New2(this.AjaxUrl,"",c,b);
this.Ajax.ReturnInfo.DataObj=a;
};
ASPdb.Ajax.AjaxServiceProxy.prototype.Bind=function(){var rtn=null;
var thisObj=this;
eval("rtn = thisObj");
return rtn;
};
ASPdb.Ajax.AjaxServiceProxy.prototype.IgnoreError=function(){var rtn=null;
var thisObj=this;
eval("rtn = thisObj");
return rtn;
};
if(typeof(ASPdb.Authentication)=="undefined"){ASPdb.Authentication={};
}ASPdb.Authentication.UserInfo=function(){};
if(typeof(ASPdb.FrameworkUI)=="undefined"){ASPdb.FrameworkUI={};
}ASPdb.FrameworkUI.Arr=function(){};
ASPdb.FrameworkUI.Arr.Len=function(arrayObj){var len=0;
try{eval("len = arrayObj.length;");
}catch($$e31){}return len;
};
ASPdb.FrameworkUI.Arr.GetNewGenericArray=function(tmpNullObj){var rtn=tmpNullObj;
eval("rtn = new Array();");
return rtn;
};
ASPdb.FrameworkUI.MRBPattern=function(){this.ModelBindingHelper=null;
this._model=null;
this._previousModel=null;
this._viewModel=null;
this.IsInstantiated=false;
this.IsOpen=false;
this.OnInstantiation=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnOpen=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnChange=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnClose=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.jRoot=null;
this.ModelBindingHelper=new ASPdb.FrameworkUI.MRB.ModelBindingHelper(this);
};
ASPdb.FrameworkUI.MRBPattern.prototype.get_Model=function(){this.OnModel_Get();
return this._model;
};
ASPdb.FrameworkUI.MRBPattern.prototype.set_Model=function(a){this._previousModel=this._model;
this._model=a;
this.OnModel_Set();
};
Object.defineProperty(ASPdb.FrameworkUI.MRBPattern.prototype,"Model",{get:ASPdb.FrameworkUI.MRBPattern.prototype.get_Model,set:ASPdb.FrameworkUI.MRBPattern.prototype.set_Model});
ASPdb.FrameworkUI.MRBPattern.prototype.OnModel_Get=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.OnModel_Set=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.get_ViewModel=function(){this.OnViewModel_Get();
return this._viewModel;
};
ASPdb.FrameworkUI.MRBPattern.prototype.set_ViewModel=function(a){this._viewModel=a;
this.OnViewModel_Set();
};
Object.defineProperty(ASPdb.FrameworkUI.MRBPattern.prototype,"ViewModel",{get:ASPdb.FrameworkUI.MRBPattern.prototype.get_ViewModel,set:ASPdb.FrameworkUI.MRBPattern.prototype.set_ViewModel});
ASPdb.FrameworkUI.MRBPattern.prototype.OnViewModel_Get=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.OnViewModel_Set=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.Get_jRoot=function(){return this.jRoot;
};
ASPdb.FrameworkUI.MRBPattern.prototype.Get_IsInstantiated=function(){return this.IsInstantiated;
};
ASPdb.FrameworkUI.MRBPattern.prototype.Get_IsOpen=function(){return this.IsOpen;
};
ASPdb.FrameworkUI.MRBPattern.prototype.SetModel=function(a){this.set_Model(a.ReturnObj);
return this.get_Model();
};
ASPdb.FrameworkUI.MRBPattern.prototype.GetModelWithoutFiringEvents=function(){return this._model;
};
ASPdb.FrameworkUI.MRBPattern.prototype.jF=function(b){try{return this.jRoot.find(b);
}catch(a){return null;
}};
ASPdb.FrameworkUI.MRBPattern.prototype.jF2=function(l){try{var h=this.jF(".jRoot").find(l);
var f=this.jF(l);
var d=0;
var g=[];
for(var b=0;
b<f.length;
b++){var e=true;
for(var c=0;
c<h.length;
c++){if(h[c]==f[b]){e=false;
c=h.length+1;
}}if(e){g[d++]=f[b];
}}return $(g);
}catch(a){return null;
}};
ASPdb.FrameworkUI.MRBPattern.prototype.Instantiate=function(){this.OnInstantiation.Before.Fire();
this.Instantiate_Sub();
this.ConnectEvents();
this.IsInstantiated=true;
this.OnInstantiation.After.Fire();
};
ASPdb.FrameworkUI.MRBPattern.prototype.Instantiate_Sub=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.ConnectEvents=function(){ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.BindEvents(this);
this.ConnectEvents_Sub();
};
ASPdb.FrameworkUI.MRBPattern.prototype.ConnectEvents_Sub=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.BindUI=function(){if(this.ModelBindingHelper==null){return;
}this.ModelBindingHelper.Bind_ModelToUI(this,"*");
};
ASPdb.FrameworkUI.MRBPattern.prototype.BindUI_Single=function(a){if(this.ModelBindingHelper==null){return;
}this.ModelBindingHelper.Bind_ModelToUI(this,a);
};
ASPdb.FrameworkUI.MRBPattern.prototype.Open=function(){this.OnOpen.Before.Fire();
this.jRoot.show();
this.Open_Sub();
this.IsOpen=true;
this.OnOpen.After.Fire();
};
ASPdb.FrameworkUI.MRBPattern.prototype.Open_Sub=function(){};
ASPdb.FrameworkUI.MRBPattern.prototype.Close=function(){this.OnClose.Before.Fire();
this.jRoot.hide();
this.Close_Sub();
this.IsOpen=false;
this.OnClose.After.Fire();
};
ASPdb.FrameworkUI.MRBPattern.prototype.Close_Sub=function(){};
ASPdb.FrameworkUI.MRBPattern.GetCssTree=function(){var a="";
a+=ASPdb.FrameworkUI.MRBPattern.GetCssRoot();
return a;
};
ASPdb.FrameworkUI.MRBPattern.GetCssRoot=function(){return"";
};
ASPdb.FrameworkUI.MRBPattern.prototype.GetHtmlRoot=function(){return this.GetHtml_FromTemplate();
};
ASPdb.FrameworkUI.MRBPattern.prototype.GetTemplate=function(){return"";
};
ASPdb.FrameworkUI.MRBPattern.prototype.GetHtml_FromTemplate=function(){var k="";
var a=ASPdb.FrameworkUI.st.New(this.GetTemplate()).Split("<html>",true);
if(a.length<1){return"";
}var h=a[1].Split("\n",false);
var m=null;
var j=null;
for(var f=0;
f<h.length;
f++){var g=h[f].Trim();
if(g.StartsWith("-",false)){var e=new ASPdb.FrameworkUI.ElementHolder();
e.Parse(g);
if(m==null){m=e;
m.IsRoot=true;
m.ClassesString=ASPdb.FrameworkUI.st.New(m.ClassesString+" jRoot").Trim().TheString;
}else{if(e.TreeLevel<j.TreeLevel){var d=j.TreeLevel-e.TreeLevel;
var l=j;
if(d<=50){for(var c=0;
c<d;
c++){if(l.Parent!=null){l=l.Parent;
}}}if(l!=null){l.AppendSibling(e);
}}else{if(e.TreeLevel==j.TreeLevel){j.AppendSibling(e);
}else{if(e.TreeLevel>j.TreeLevel){j.AppendChild(e);
}}}}j=e;
}}k+=m.ToHtmlString();
if(false){return"<div style='font-size: .65em; line-height: 1em;'>"+ASPdb.FrameworkUI.st.New(k).Replace("<","&lt;").Replace(">","&gt;").Replace("\n","<br />").TheString+"</div>";
}else{return k;
}};
if(typeof(ASPdb.FrameworkUI.Coms)=="undefined"){ASPdb.FrameworkUI.Coms={};
}ASPdb.FrameworkUI.Coms.RadioMenu=function(a){this.RadioGroupName=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.RadioGroupName=a;
this.Instantiate();
};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Coms_RadioMenu jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.OnModel_Set=function(){if(this.IsOpen){this.UpdateUI();
}};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.Open_Sub=function(){this.jRoot.html("");
if(this.get_ViewModel()==null||this.get_ViewModel().List==null||this.get_ViewModel().List.length<1){return;
}for(var b=0;
b<this.get_ViewModel().List.length;
b++){var d=this.get_ViewModel().List[b];
var c="ItemIndex_"+b;
var a=ASPdb.FrameworkUI.JsStr.StrFormat4("\r\n                    <div class='Item {0}'>\r\n                        <input type='radio' name='{1}' value='{2}' /> \r\n                        {3}\r\n                    </div>",c,this.RadioGroupName,d.Value,d.Text);
this.jRoot.append(a);
ASPdb.FrameworkUI.Evt.Attach_Click(this,c,"Div_Click",b);
}this.UpdateUI();
};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.UpdateUI=function(){this.jF2(".Item").removeClass("Selected");
this.jF2(".Item input").attr("checked",false);
for(var b=0;
b<this.get_ViewModel().List.length;
b++){var c=this.get_ViewModel().List[b];
if(c.Value==this.get_Model()){var a=this.jF2(".ItemIndex_"+b);
a.addClass("Selected");
a.find("input").attr("checked",true);
b=this.get_ViewModel().List.length+1;
}}};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.Div_Click=function(a){this.OnChange.Before.Fire();
var b=a.PassThruDataObj;
this.set_Model(this.get_ViewModel().List[b].Value);
this.UpdateUI();
this.OnChange.After.Fire();
};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.GetSelectedValue=function(){var c=this.jF("input[type=radio]");
for(var a=0;
a<c.length;
a++){var b=$(c[a]);
if(b.attr("checked")=="checked"){return b.val();
}}return null;
};
ASPdb.FrameworkUI.Coms.RadioMenu.GetCssTree=function(){var a="";
a+=ASPdb.FrameworkUI.Coms.RadioMenu.GetCssRoot();
return a;
};
ASPdb.FrameworkUI.Coms.RadioMenu.GetCssRoot=function(){return"\r\n                .Coms_RadioMenu { }\r\n                ";
};
ASPdb.FrameworkUI.Coms.RadioMenu.prototype.GetHtmlRoot=function(){return"";
};
$Inherit(ASPdb.FrameworkUI.Coms.RadioMenu,ASPdb.FrameworkUI.MRBPattern);
ASPdb.FrameworkUI.Cookies=function(){};
ASPdb.FrameworkUI.Cookies.Get=function(d){var f=d+"=";
var b=document.cookie.split(";");
for(var e=0;
e<b.length;
e++){var a=b[e];
while(a.charAt(0)==" "){a=a.substring(1,a.length);
}if(a.indexOf(f)==0){return a.substring(f.length,a.length);
}}return null;
};
ASPdb.FrameworkUI.Cookies.Set=function(a,e,c){var d="";
if(c<-1||c>0){var b=new Date();
b.setTime(b.getTime()+(c*24*60*60*1000));
d="; expires="+b.toGMTString();
}document.cookie=a+"="+e+d+"; path=/";
};
ASPdb.FrameworkUI.Cookies.Erase=function(a){ASPdb.FrameworkUI.Cookies.Set(a,"",-2);
};
ASPdb.FrameworkUI.Cookies.get_ASPdb_BaseUrl=function(){return ASPdb.FrameworkUI.Cookies.Get("ASPdb_BaseUrl");
};
ASPdb.FrameworkUI.Cookies.get_ASPdb_AjaxGatewayUrl=function(){return ASPdb.FrameworkUI.Cookies.Get("ASPdb_AjaxGatewayUrl");
};
ASPdb.FrameworkUI.ErrorHandler=function(){};
ASPdb.FrameworkUI.ErrorHandler.Check=function(a){if(a==null){return false;
}else{alert("Error\n"+a.Message+"\n\n"+a.StackTrace);
return true;
}};
ASPdb.FrameworkUI.ErrorInfo=function(){this.Message="";
this.StackTrace="";
};
ASPdb.FrameworkUI.ErrorInfo.New=function(a){var b=new ASPdb.FrameworkUI.ErrorInfo();
b.Message=a.get_Message();
b.StackTrace=a.get_StackTrace();
return b;
};
ASPdb.FrameworkUI.EventInfo=function(){this.ElementAttachedTo=null;
this.EventType="";
this.ObjectToCallOn=null;
this.MethodToCall="";
this.EventObj=null;
this.PassThruDataObj=null;
};
ASPdb.FrameworkUI.Evt=function(){};
ASPdb.FrameworkUI.Evt.Attach_Click=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("click",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_Click2=function(d,a,c){var b=a+"_Click";
ASPdb.FrameworkUI.Evt.Attach("click",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_DblClick=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("dblclick",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_DoubleClick=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("doubleclick",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_KeyDown=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("keydown",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_KeyPress=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("keypress",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_KeyUp=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("keyup",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_GotFocus=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("gotfocus",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_LostFocus=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("lostfocus",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_Blur=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("blur",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_Change=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("change",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_Change2=function(d,a,c){var b=a+"_Change";
ASPdb.FrameworkUI.Evt.Attach("change",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseDown=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mousedown",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseEnter=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mouseenter",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseLeave=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mouseleave",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseMove=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mousemove",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseOver=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mouseover",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseOut=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mouseout",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach_MouseUp=function(d,a,b,c){ASPdb.FrameworkUI.Evt.Attach("mouseup",d,a,b,c);
};
ASPdb.FrameworkUI.Evt.Attach=function(c,g,a,e,f){a="."+a;
var b=null;
try{var h=g;
if(h.jRoot!=null){b=h.jRoot.find(a)[0];
}else{if(h._jRoot!=null){b=h._jRoot.find(a)[0];
}}ASPdb.FrameworkUI.Evt.Attach_ToElement(c,g,b,e,f);
}catch(d){alert("Error in Evt.Attach('"+c+"', ?, '"+a+"', '"+e+"', ?)  \n"+d);
}};
ASPdb.FrameworkUI.Evt.Attach_ToElement=function(eventType,theControlObj,element,methodToCall,passThruDataObj){try{var eventInfo=new ASPdb.FrameworkUI.EventInfo();
eventInfo.EventType=eventType;
eventInfo.ObjectToCallOn=theControlObj;
eventInfo.MethodToCall=methodToCall;
eventInfo.PassThruDataObj=passThruDataObj;
eventInfo.ElementAttachedTo=element;
var propName="EventInfoObject_"+eventType;
$(eventInfo.ElementAttachedTo).prop(propName,eventInfo);
var functionToCall=null;
eval("functionToCall = function(evt) { ASPdb.FrameworkUI.Evt.DynamicEvents_ForwardToHandler(evt, '"+eventInfo.EventType+"', false); }");
var isIE=false;
eval("isIE = $.browser.msie");
if(isIE){eval("eventInfo.ElementAttachedTo.attachEvent('on"+eventInfo.EventType+"', functionToCall);");
}else{eventInfo.ElementAttachedTo.addEventListener(eventInfo.EventType,functionToCall,false);
}}catch(exc1){alert("Error in Evt.Attach_ToElement('"+eventType+"', ?, ?, '"+methodToCall+"', ?)  \n"+exc1);
}};
ASPdb.FrameworkUI.Evt.Attach_NonJRootElement=function(element,eventType,objToCallOn,methodToCall,passThruDataObj){try{var isIE=false;
eval("isIE = $.browser.msie");
var elementIsWindow=(element==window);
var eventInfo=new ASPdb.FrameworkUI.EventInfo();
eventInfo.ElementAttachedTo=element;
eventInfo.EventType=eventType;
eventInfo.ObjectToCallOn=objToCallOn;
eventInfo.MethodToCall=methodToCall;
eventInfo.PassThruDataObj=passThruDataObj;
var propName="EventInfoObject_"+eventType;
$(eventInfo.ElementAttachedTo).prop(propName,eventInfo);
var functionToCall=null;
eval("functionToCall = function(evt) { ASPdb.FrameworkUI.Evt.DynamicEvents_ForwardToHandler(evt, '"+eventInfo.EventType+"', "+elementIsWindow+"); }");
if(isIE){eval("eventInfo.ElementAttachedTo.attachEvent('on"+eventInfo.EventType+"', functionToCall);");
}else{eventInfo.ElementAttachedTo.addEventListener(eventInfo.EventType,functionToCall,false);
}}catch(exc1){alert("Error in Evt.Attach_NonJRootElement(?, '"+eventType+"', ?, '"+methodToCall+"', ?)  \n"+exc1);
}};
ASPdb.FrameworkUI.Evt.DynamicEvents_ForwardToHandler=function(evt,eventType,elementIsWindow){try{var isIE=false;
eval("isIE = $.browser.msie");
var element=null;
if(elementIsWindow){element=window;
}if(element==null){if(isIE){element=$(evt).prop("srcElement");
}else{element=$(evt).prop("currentTarget");
}}var propertyName="EventInfoObject_"+eventType;
var eventInfo=$(element).prop(propertyName);
if(eventInfo!=null){eventInfo.EventObj=evt;
if(eventInfo.ObjectToCallOn==null){eval(eventInfo.MethodToCall+"(eventInfo);");
}else{eval("eventInfo.ObjectToCallOn."+eventInfo.MethodToCall+"(eventInfo);");
}}else{alert("Error in DynamicEvents_ForwardToHandler(evt, '"+eventType+"') \nEventInfo is null.");
}}catch(exc1){alert("Error in DynamicEvents_ForwardToHandler(evt, '"+eventType+"') \n"+exc1);
}};
ASPdb.FrameworkUI.Evt_TempClass_CastHelper=function(){this.jRoot=null;
this._jRoot=null;
this.clientX=-1;
this.clientY=-1;
};
ASPdb.FrameworkUI.Evt_TempClass_CastHelper.Get_IE_Event=function(evt){var rtn=null;
eval("rtn = evt.event;");
return rtn;
};
ASPdb.FrameworkUI.IntStatic=function(){};
ASPdb.FrameworkUI.IntStatic.Parse=function(d,b){try{var c=parseInt(d);
if($.isNumeric(c)){return c;
}}catch(a){}return b;
};
ASPdb.FrameworkUI.JsEventDelegate=function(){this.CallBack_Objects=null;
this.CallBack_Methods=null;
this.CallBack_NumbOfParams=null;
this.PassThruObj1=null;
this.PassThruObj2=null;
this.PassThruObj3=null;
this.PassThruObj4=null;
this.PassThruObj5=null;
this.CallBack_Objects=ASPdb.FrameworkUI.Arr.GetNewGenericArray(null);
this.CallBack_Methods=ASPdb.FrameworkUI.Arr.GetNewGenericArray(null);
this.CallBack_NumbOfParams=ASPdb.FrameworkUI.Arr.GetNewGenericArray(null);
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.AddHandler=function(c,a,b){if(this.CallBack_Objects==null){this.CallBack_Objects=[];
}if(this.CallBack_Methods==null){this.CallBack_Methods=[];
}if(this.CallBack_NumbOfParams==null){this.CallBack_NumbOfParams=[];
}var d=ASPdb.FrameworkUI.Arr.Len(this.CallBack_Objects);
this.CallBack_Objects[d]=c;
this.CallBack_Methods[d]=a;
this.CallBack_NumbOfParams[d]=b;
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.Fire=function(){this.Fire5(null,null,null,null,null);
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.Fire1=function(a){this.Fire5(a,null,null,null,null);
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.Fire2=function(a,b){this.Fire5(a,b,null,null,null);
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.Fire3=function(a,b,c){this.Fire5(a,b,c,null,null);
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.Fire4=function(a,b,c,d){this.Fire5(a,b,c,d,null);
};
ASPdb.FrameworkUI.JsEventDelegate.prototype.Fire5=function(obj1,obj2,obj3,obj4,obj5){for(var i=0;
i<ASPdb.FrameworkUI.Arr.Len(this.CallBack_Objects);
i++){var callObj=this.CallBack_Objects[i];
var callMethod=this.CallBack_Methods[i];
var numbParams=this.CallBack_NumbOfParams[i];
var o1=obj1;
var o2=obj2;
var o3=obj3;
var o4=obj4;
var o5=obj5;
if(o1==null){o1=this.PassThruObj1;
}if(o2==null){o2=this.PassThruObj2;
}if(o3==null){o3=this.PassThruObj3;
}if(o4==null){o4=this.PassThruObj4;
}if(o5==null){o5=this.PassThruObj5;
}var evalStr="callObj."+callMethod+"();";
switch(numbParams){case 1:evalStr="callObj."+callMethod+"(o1);";
break;
case 2:evalStr="callObj."+callMethod+"(o1, o2);";
break;
case 3:evalStr="callObj."+callMethod+"(o1, o2, o3);";
break;
case 4:evalStr="callObj."+callMethod+"(o1, o2, o3, o4);";
break;
case 5:evalStr="callObj."+callMethod+"(o1, o2, o3, o4, o5);";
break;
}eval(evalStr);
}};
ASPdb.FrameworkUI.JsEvent_BeforeAfter=function(){this.Before=null;
this.After=null;
this.Before=new ASPdb.FrameworkUI.JsEventDelegate();
this.After=new ASPdb.FrameworkUI.JsEventDelegate();
};
ASPdb.FrameworkUI.JsHelper=function(){};
ASPdb.FrameworkUI.JsHelper.IsVisible1=function(b){try{if(ASPdb.FrameworkUI.JsHelper.GetCalculatedStyle(b,"display")!="none"){return true;
}}catch(a){}return false;
};
ASPdb.FrameworkUI.JsHelper.IsVisible2=function(c,b){try{if(!ASPdb.FrameworkUI.StringStatic.StartsWith(b,".",false)){b="."+b;
}return ASPdb.FrameworkUI.JsHelper.IsVisible1(c.find(b)[0]);
}catch(a){}return false;
};
ASPdb.FrameworkUI.JsHelper.GetCalculatedStyle=function(element,styleProperty){var rtn=null;
var evalString="\r\n\t                if (element.currentStyle)\r\n                    {\r\n\t\t                rtn = element.currentStyle[styleProperty];\r\n                    }\r\n\t                else if (window.getComputedStyle)\r\n                    {\r\n                        var computedStyle = document.defaultView.getComputedStyle(element, null);\r\n\t\t                rtn = computedStyle.getPropertyValue(styleProperty);\r\n                    }\r\n            ";
eval(evalString);
return rtn;
};
ASPdb.FrameworkUI.JsObj=function(){this.Object=null;
};
ASPdb.FrameworkUI.JsObj.O=function(a){var b=new ASPdb.FrameworkUI.JsObj();
b.Object=a;
return b;
};
ASPdb.FrameworkUI.JsObj.prototype.CloneInto=function(c){var b=ASPdb.FrameworkUI.JsObj.O(c);
var e=this.PropertyNames();
for(var a=0;
a<e.length;
a++){var d=e[a];
b.Property_Set(d,this.Property_Get(d,false),false);
}return c;
};
ASPdb.FrameworkUI.JsObj.prototype.PropertyNames=function(){var rtn=[];
var obj=this.Object;
var i=0;
try{eval("for(var propName in obj) { rtn[i++] = propName; }");
}catch($$e37){}return rtn;
};
ASPdb.FrameworkUI.JsObj.prototype.Property=function(propertyName){try{var rtn="";
var obj=this.Object;
var propName=propertyName;
eval("rtn = obj[propName];");
return rtn;
}catch($$e38){return null;
}};
ASPdb.FrameworkUI.JsObj.prototype.Property2=function(propertyName,defaultValue){var rtn=null;
try{var obj=this.Object;
var propName=propertyName;
eval("rtn = obj[propName];");
}catch($$e39){}if(rtn==null){rtn=defaultValue;
}return rtn;
};
ASPdb.FrameworkUI.JsObj.prototype.Property3=function(propertyName,defaultValue,useDefaultIfEmptyString){var rtn=null;
try{var obj=this.Object;
var propName=propertyName;
eval("rtn = obj[propName];");
}catch($$e40){}if(rtn==null){rtn=defaultValue;
}else{if(useDefaultIfEmptyString&&rtn==""){rtn=defaultValue;
}}return rtn;
};
ASPdb.FrameworkUI.JsObj.prototype.Property_Get=function(propertyName,useGetterMethod){var rtn=null;
try{var obj=this.Object;
var propName=propertyName;
if(useGetterMethod){eval("rtn = obj.get_"+propName+"();");
}else{eval("rtn = obj[propName];");
}}catch($$e41){rtn=null;
}return rtn;
};
ASPdb.FrameworkUI.JsObj.prototype.Property_Set=function(propertyName,value,useSetterMethod){try{var obj=this.Object;
var propName=propertyName;
var val=value;
if(useSetterMethod){eval("rtn = obj.set_"+propName+"(val);");
}else{eval("rtn = obj[propName] = val;");
}return true;
}catch($$e42){return false;
}};
ASPdb.FrameworkUI.JsStr=function(){this.String=null;
};
ASPdb.FrameworkUI.JsStr.S=function(a){var b=new ASPdb.FrameworkUI.JsStr();
b.String=a;
return b;
};
ASPdb.FrameworkUI.JsStr.Replace=function(a,c,b){return a.split(c).join(b);
};
ASPdb.FrameworkUI.JsStr.prototype.Replace1=function(b,a){return ASPdb.FrameworkUI.JsStr.Replace(this.String,b,a);
};
ASPdb.FrameworkUI.JsStr.prototype.Replace2=function(b,a){this.String=ASPdb.FrameworkUI.JsStr.Replace(this.String,b,a);
return this;
};
ASPdb.FrameworkUI.JsStr.prototype.ToLower=function(){this.String=this.String.toLowerCase();
return this;
};
ASPdb.FrameworkUI.JsStr.prototype.ToUpper=function(){this.String=this.String.toUpperCase();
return this;
};
ASPdb.FrameworkUI.JsStr.prototype.Trim=function(){this.String=this.String.trim();
return this;
};
ASPdb.FrameworkUI.JsStr.StrFormat1=function(b,a){return ASPdb.FrameworkUI.JsStr.S(b).Replace2("{0}",a).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat2=function(c,a,b){return ASPdb.FrameworkUI.JsStr.S(c).Replace2("{0}",a).Replace2("{1}",b).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat3=function(d,a,b,c){return ASPdb.FrameworkUI.JsStr.S(d).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat4=function(e,a,b,c,d){return ASPdb.FrameworkUI.JsStr.S(e).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).Replace2("{3}",d).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat5=function(f,a,b,c,d,e){return ASPdb.FrameworkUI.JsStr.S(f).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).Replace2("{3}",d).Replace2("{4}",e).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat6=function(g,a,b,c,d,e,f){return ASPdb.FrameworkUI.JsStr.S(g).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).Replace2("{3}",d).Replace2("{4}",e).Replace2("{5}",f).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat7=function(h,a,b,c,d,e,f,g){return ASPdb.FrameworkUI.JsStr.S(h).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).Replace2("{3}",d).Replace2("{4}",e).Replace2("{5}",f).Replace2("{6}",g).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat8=function(i,a,b,c,d,e,f,g,h){return ASPdb.FrameworkUI.JsStr.S(i).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).Replace2("{3}",d).Replace2("{4}",e).Replace2("{5}",f).Replace2("{6}",g).Replace2("{7}",h).String;
};
ASPdb.FrameworkUI.JsStr.StrFormat9=function(j,a,b,c,d,e,f,g,h,i){return ASPdb.FrameworkUI.JsStr.S(j).Replace2("{0}",a).Replace2("{1}",b).Replace2("{2}",c).Replace2("{3}",d).Replace2("{4}",e).Replace2("{5}",f).Replace2("{6}",g).Replace2("{7}",h).Replace2("{8}",i).String;
};
ASPdb.FrameworkUI.ElementHolder=function(){this.MarkdownLine=null;
this.ElementType=0;
this.IsRoot=false;
this.ElementName="";
this.ModelKey="";
this.IdClass="";
this.ClassesString="";
this.Value="";
this.InnerHtml="";
this.InputType="";
this.EventNames=null;
this.AttributesStr="";
this.TreeLevel=-1;
this.Parent=null;
this.Children=null;
};
ASPdb.FrameworkUI.ElementHolder.prototype.Parse=function(g){this.MarkdownLine=g;
this.TreeLevel=this.CountHyphens(g);
g=g.TruncateLeft(this.TreeLevel).Trim();
if(g.StartsWith("'",false)){this.ElementName="";
this.ElementType=1;
g=g.TruncateLeft(1);
if(g.EndsWith("'",false)){g=g.TruncateRight(1);
}this.InnerHtml=g.TheString;
}else{this.ElementType=4;
if(g.Contains("html=",false)){var j="";
var f=false;
for(var d=0;
d<g.Length();
d++){var a=g.Substring(d,1);
if(a=="'"){f=!f;
}if(a==" "&&f){j+="(---[[[SPACE].].]---)";
}else{j+=a;
}}g.TheString=j;
}var l=g.Split(" ",false);
if(l[0].StartsWith("i",true)){this.ElementType=2;
this.ElementName="input";
this.InputType="text";
var e=l[0].Split(":",false);
if(e.length>1){switch(e[1].TheString){case"":this.InputType="text";
break;
case"t":this.InputType="text";
break;
case"b":this.InputType="button";
break;
case"s":this.InputType="submit";
break;
case"c":this.InputType="checkbox";
break;
case"r":this.InputType="radio";
break;
case"f":this.InputType="file";
break;
case"h":this.InputType="hidden";
break;
default:this.InputType=e[1].TheString;
break;
}}}else{switch(l[0].TheString){case"d":this.ElementName="div";
break;
case"s":this.ElementName="span";
break;
case"br":this.ElementName="br";
this.ElementType=2;
break;
case"t":this.ElementName="table";
break;
case"tr":this.ElementName="tr";
break;
case"td":this.ElementName="td";
break;
default:this.ElementName=l[0].TheString;
break;
}}this.ClassesString="";
for(var d=1;
d<l.length;
d++){var k=l[d].Trim();
k=k.Replace("(---[[[SPACE].].]---)"," ");
if(k.Length()>0){if(k.StartsWith("#",false)){this.IdClass=k.TruncateLeft(1).Trim().TheString;
}else{if(k.StartsWith(".",true)){this.ClassesString+=" "+k.TruncateLeft(1).Replace("."," ").TheString;
}else{if(k.StartsWith("evt.",true)){if(this.EventNames==null){this.EventNames=[];
}this.EventNames[this.EventNames.length]=k.TruncateLeft(4).Trim().TheString;
}else{if(k.StartsWith("m=",true)){var h=k.TruncateLeft(2).Trim();
if(h.StartsWith("'",false)){h=h.TruncateLeft(1);
}if(h.EndsWith("'",false)){h=h.TruncateRight(1);
}this.ModelKey=h.TheString;
}else{if(k.StartsWith("html=",true)){var b=k.TruncateLeft(5).Trim();
if(b.StartsWith("'",false)){b=b.TruncateLeft(1);
}if(b.EndsWith("'",false)){b=b.TruncateRight(1);
}this.InnerHtml=b.TheString;
}else{if(k.StartsWith("v=",true)){var m=k.TruncateLeft(2).Trim();
if(m.StartsWith("'",false)){m=m.TruncateLeft(1);
}if(m.EndsWith("'",false)){m=m.TruncateRight(1);
}this.Value=m.TheString;
}else{if(k.Contains("=",false)){this.AttributesStr+=" "+k.TheString+" ";
}}}}}}}}}if(this.IdClass.length>0){this.ClassesString+=" "+this.IdClass;
}this.ClassesString=ASPdb.FrameworkUI.st.New(this.ClassesString).Trim().TheString;
if(this.EventNames!=null&&this.IdClass.length>0){for(var d=0;
d<this.EventNames.length;
d++){this.AttributesStr+=ASPdb.FrameworkUI.st.New(" On_{0}='{1}_{0}'").Format2(this.EventNames[0],this.IdClass).TheString;
}}}};
ASPdb.FrameworkUI.ElementHolder.prototype.CountHyphens=function(b){var c=50;
if(b.Length()<c){c=b.Length()-1;
}for(var a=0;
a<c;
a++){if(b.Substring(a,1)!="-"){return a;
}}return -1;
};
ASPdb.FrameworkUI.ElementHolder.prototype.AppendChild=function(a){if(this.Children==null){this.Children=[];
}this.Children[this.Children.length]=a;
a.Parent=this;
};
ASPdb.FrameworkUI.ElementHolder.prototype.AppendSibling=function(a){if(this.Parent!=null){this.Parent.AppendChild(a);
}};
ASPdb.FrameworkUI.ElementHolder.prototype.ToHtmlString=function(){var d="";
if(this.ElementType==4&&(this.Children==null||this.Children.length<0)){this.ElementType=3;
}var c="";
for(var b=1;
b<this.TreeLevel;
b++){c+="&nbsp;&nbsp;&nbsp;&nbsp;";
}var e="\n";
if(true){c="";
e="";
}var a=ASPdb.FrameworkUI.st.New("");
if(this.InputType.length>0){a.AppendST(ASPdb.FrameworkUI.st.New(" type='{0}'").Format1(this.InputType));
}if(this.ModelKey.length>0){a.AppendST(ASPdb.FrameworkUI.st.New(" ModelKey='{0}'").Format1(this.ModelKey));
}if(this.IdClass.length>0){a.AppendST(ASPdb.FrameworkUI.st.New(" IdClass='{0}'").Format1(this.IdClass));
}if(this.ClassesString.length>0){a.AppendST(ASPdb.FrameworkUI.st.New(" class='{0}'").Format1(this.ClassesString));
}if(this.Value.length>0){a.AppendST(ASPdb.FrameworkUI.st.New(" value='{0}'").Format1(this.Value));
}a=a.Trim();
if(this.AttributesStr!=""){a.Append(" "+this.AttributesStr);
}if(a.Length()>0){a.TheString=" "+a.TheString;
}if(this.ElementType==4){d+=ASPdb.FrameworkUI.st.New("{0}<{1}{2}>{3}").Format4(c,this.ElementName,a.TheString,e).TheString;
for(var b=0;
b<this.Children.length;
b++){d+=this.Children[b].ToHtmlString();
}d+=ASPdb.FrameworkUI.st.New("{0}</{1}>{2}").Format3(c,this.ElementName,e).TheString;
}else{if(this.ElementType==3){d+=ASPdb.FrameworkUI.st.New("{0}<{1}{2}>{3}</{1}>{4}").Format5(c,this.ElementName,a.TheString,this.InnerHtml,e).TheString;
}else{if(this.ElementType==2){d+=ASPdb.FrameworkUI.st.New("{0}<{1}{2} />{3}").Format4(c,this.ElementName,a.TheString,e).TheString;
}else{if(this.ElementType==1){d+=ASPdb.FrameworkUI.st.New("{0}{1}{2}").Format3(c,this.InnerHtml,e).TheString;
}}}}return d;
};
if(typeof(ASPdb.FrameworkUI.MRB)=="undefined"){ASPdb.FrameworkUI.MRB={};
}ASPdb.FrameworkUI.MRB.GenericUIList=function(){this.IsClientCode=false;
this.List=null;
this._internalList=null;
try{var b=System.Web.HttpContext.get_Current().get_Application();
}catch(a){this.IsClientCode=true;
}this.List=[];
if(!this.IsClientCode){this._internalList=new System.Collections.Generic.List$1.ctor(ASPdb.FrameworkUI.MRB.GenericUIListItem);
}};
ASPdb.FrameworkUI.MRB.GenericUIList.prototype.Add0=function(a){if(this.IsClientCode){this.List[this.List.length]=a;
}else{this._internalList.Add(a);
this.List=this._internalList.ToArray();
}};
ASPdb.FrameworkUI.MRB.GenericUIList.prototype.Add1=function(a){if(this.IsClientCode){this.Add0(ASPdb.FrameworkUI.MRB.GenericUIListItem.New1(a));
}};
ASPdb.FrameworkUI.MRB.GenericUIList.prototype.Add2=function(b,a){if(this.IsClientCode){this.Add0(ASPdb.FrameworkUI.MRB.GenericUIListItem.New2(b,a));
}};
ASPdb.FrameworkUI.MRB.GenericUIList.prototype.Add3=function(c,b,a){if(this.IsClientCode){this.Add0(ASPdb.FrameworkUI.MRB.GenericUIListItem.New3(c,b,a));
}};
ASPdb.FrameworkUI.MRB.GenericUIListItem=function(){this.Value="";
this.Text="";
this.Style="";
};
ASPdb.FrameworkUI.MRB.GenericUIListItem.New1=function(b){var a=new ASPdb.FrameworkUI.MRB.GenericUIListItem();
a.Value=b;
a.Text=b;
return a;
};
ASPdb.FrameworkUI.MRB.GenericUIListItem.New2=function(c,b){var a=new ASPdb.FrameworkUI.MRB.GenericUIListItem();
a.Value=c;
a.Text=b;
return a;
};
ASPdb.FrameworkUI.MRB.GenericUIListItem.New3=function(d,c,b){var a=new ASPdb.FrameworkUI.MRB.GenericUIListItem();
a.Value=d;
a.Text=c;
a.Style=b;
return a;
};
ASPdb.FrameworkUI.MRB.ModelBindingHelper=function(a){this.MRB=null;
this.MRB=a;
};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.Bind_ModelToUI=function(b,a){this.Bind_ModelListElements(b,a);
this.Bind_ModelKeyElements(b,a);
};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.Bind_ModelListElements=function(g,e){var c=g.jF2("[ModelList]");
if(c==null){return;
}for(var b=0;
b<c.length;
b++){var d=$(c[b]);
if(e=="*"||e==d.attr("ModelKey")){var f=d.attr("ModelList");
var a=ASPdb.FrameworkUI.MRB.ModelListCommand.New1(f);
var j=ASPdb.FrameworkUI.JsObj.O(g).Property_Get(a.Model_Name,a.UseGetterMethod_Model_Name);
var h=ASPdb.FrameworkUI.JsObj.O(j).Property_Get(a.Model_Collection,a.UseGetterMethod_Model_Collection);
if(h!=null&&h.length>0){this.Populate_SelectOptions(d,a.Model_Collection,h,a);
}}}};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.Populate_SelectOptions=function(c,d,f,a){c.html("");
for(var b=0;
b<f.length;
b++){var e=ASPdb.FrameworkUI.JsObj.O(f[b]);
var k=e.Property2(a.Item_Value,"");
var j=e.Property2(a.Item_Text,"");
var g=e.Property2(a.Item_Style,"");
var h="";
if(g.length>0){h="style='"+g+"'";
}c.append(ASPdb.FrameworkUI.JsStr.StrFormat3("<option value='{0}' {1} >{2}</option>",k,h,j));
}};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.Bind_ModelKeyElements=function(g,e){var d=g.GetModelWithoutFiringEvents();
if(d==null){return;
}var c=g.jF2("[ModelKey]");
if(c==null){return;
}for(var a=0;
a<c.length;
a++){var f=$(c[a]).attr("ModelKey").split("|");
for(var b=0;
b<f.length;
b++){var h=f[b];
if(e=="*"||e==h){switch(c[a].tagName.toUpperCase()){case"DIV":this.ProcessModelKey_ForDivOrSpan(d,c[a],h);
break;
case"SPAN":this.ProcessModelKey_ForDivOrSpan(d,c[a],h);
break;
case"INPUT":this.ProcessModelKey_ForInput(d,c[a],h);
break;
case"TEXTAREA":this.ProcessModelKey_ForInput(d,c[a],h);
break;
case"SELECT":this.ProcessModelKey_ForSelect(d,c[a],h);
break;
}}}}};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.ProcessModelKey_ForDivOrSpan=function(c,f,e){var a=e.trim().split(":");
if(a.length<2){var d=a[0].trim();
var g=ASPdb.FrameworkUI.JsObj.O(c).Property(d);
$(f).html(g);
}else{var b=a[0].trim();
var d=a[1].trim();
var g=ASPdb.FrameworkUI.JsObj.O(c).Property(d);
$(f).attr(b,g);
}};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.ProcessModelKey_ForInput=function(c,f,e){var a=e.trim().split(":");
if(a.length<2){var d=a[0].trim();
var g=ASPdb.FrameworkUI.JsObj.O(c).Property(d);
$(f).val(g);
}else{var b=a[0].trim();
var d=a[1].trim();
var g=ASPdb.FrameworkUI.JsObj.O(c).Property(d);
$(f).attr(b,g);
}};
ASPdb.FrameworkUI.MRB.ModelBindingHelper.prototype.ProcessModelKey_ForSelect=function(c,e,d){if(c!=null&&e!=null&&d!=null&&d.length>0){var g=e;
var b=c;
var h=ASPdb.FrameworkUI.JsObj.O(c).Property_Get(d,false);
if(h!=null){for(var a=0;
a<g.options.length;
a++){var f=g.options[a];
if(h==f.value){f.selected=true;
return;
}}}}};
ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper=function(){};
ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.BindEvents=function(a){ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.GenericBinder(a,"On_Click","click");
ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.GenericBinder(a,"On_Change","change");
ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.GenericBinder(a,"On_Focus","focus");
ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.GenericBinder(a,"On_Blur","blur");
};
ASPdb.FrameworkUI.MRB.ModelBinding_EventsHelper.GenericBinder=function(f,e,a){var g=f.jF2("["+e+"]");
for(var b=0;
b<g.length;
b++){var c=g[b];
var d=$(c).attr(e);
ASPdb.FrameworkUI.Evt.Attach_ToElement(a,f,c,d,null);
}};
ASPdb.FrameworkUI.MRB.ModelListCommand=function(){this.ModelList_CommandText=null;
this.UseGetterMethod_Model_Name=false;
this.UseGetterMethod_Model_Collection=false;
this.Model_Name="ViewModel";
this.Model_Collection="";
this.Item_Value="Value";
this.Item_Text="Text";
this.Item_Style="Style";
};
ASPdb.FrameworkUI.MRB.ModelListCommand.prototype.ParseCommandText=function(){var a=this.ModelList_CommandText.split(".");
if(a.length<2){return;
}var c=a[0].trim();
var d=a[1];
var b=d.split("|");
var e=b[0].trim();
var f="";
var g="";
var h="";
if(b.length>1){f=b[1].trim();
}if(b.length>2){g=b[2].trim();
}if(b.length>3){h=b[3].trim();
}if(c.length<1){c="ViewModel";
}if(f.length<1){f="Value";
}if(g.length<1){g="Text";
}if(h.length<1){h="Style";
}this.Model_Name=c;
this.Model_Collection=e;
this.Item_Value=f;
this.Item_Text=g;
this.Item_Style=h;
};
ASPdb.FrameworkUI.MRB.ModelListCommand.New1=function(a){var b=new ASPdb.FrameworkUI.MRB.ModelListCommand();
b.ModelList_CommandText=a;
b.ParseCommandText();
return b;
};
ASPdb.FrameworkUI.MRB.ModelPropertyInfo=function(){this.PropertyName="";
this.DataType=0;
this.UseGetterSetter=false;
};
ASPdb.FrameworkUI.MRB.ModelPropertyInfo.New1=function(b,a,d){var c=new ASPdb.FrameworkUI.MRB.ModelPropertyInfo();
c.PropertyName=b;
c.DataType=a;
c.UseGetterSetter=d;
return c;
};
ASPdb.FrameworkUI.QueryString=function(){};
ASPdb.FrameworkUI.QueryString.Get=function(key){var rtn="";
try{var name=key;
var location_search=location.search;
var results=[];
var eval1='    name = name.replace(/[\\[]/, "\\\\\\[").replace(/[\\]]/, "\\\\\\]");                 ';
var eval2='    var regex = new RegExp("[\\\\?&]" + name + "=([^&#]*)", "i");                      ';
var eval3="    var results = regex.exec(location_search);                                               ";
var eval4='    rtn = results == null ? "" : decodeURIComponent(results[1].replace(/\\+/g, " "));    ';
eval(eval1);
eval(eval2);
eval(eval3);
eval(eval4);
}catch($$e44){rtn="";
}return rtn;
};
ASPdb.FrameworkUI.QueryString.Get_AsBool=function(a){var b=ASPdb.FrameworkUI.QueryString.Get(a);
b=b.toLowerCase().trim();
if(b=="true"||b=="1"){return true;
}return false;
};
ASPdb.FrameworkUI.QueryString.GetFirstValue_NonKeyParameter=function(){var b="";
var a=window.location.search.split("&")[0].replace("?","");
if(!ASPdb.FrameworkUI.StringStatic.Contains(a,"=",false)){b=a;
}return b;
};
ASPdb.FrameworkUI.st=function(){this.TheString=null;
};
ASPdb.FrameworkUI.st.IsServerSide=false;
ASPdb.FrameworkUI.st.IsServerSide_StaticCheck=false;
ASPdb.FrameworkUI.st.New=function(b){var c=new ASPdb.FrameworkUI.st();
c.TheString=b;
if(!ASPdb.FrameworkUI.st.IsServerSide_StaticCheck){ASPdb.FrameworkUI.st.IsServerSide=false;
try{var d=("ABC").toLowerCase();
}catch(a){ASPdb.FrameworkUI.st.IsServerSide=true;
}ASPdb.FrameworkUI.st.IsServerSide_StaticCheck=true;
}return c;
};
ASPdb.FrameworkUI.st.prototype.AsJsString=function(){return this.TheString;
};
ASPdb.FrameworkUI.st.prototype.Replace=function(b,a){var c=new ASPdb.FrameworkUI.st();
if(ASPdb.FrameworkUI.st.IsServerSide){c.TheString=this.TheString.Replace$$String$$String(b,a);
}else{c.TheString=this.AsJsString().split(b).join(a);
}return c;
};
ASPdb.FrameworkUI.st.prototype.Format1=function(a){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object(this.TheString,a));
}else{return this.Replace("{0}",a);
}};
ASPdb.FrameworkUI.st.prototype.Format2=function(a,b){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$$Object(this.TheString,a,b));
}else{return this.Replace("{0}",a).Replace("{1}",b);
}};
ASPdb.FrameworkUI.st.prototype.Format3=function(a,b,c){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$$Object$$Object(this.TheString,a,b,c));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c);
}};
ASPdb.FrameworkUI.st.prototype.Format4=function(a,b,c,d){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$Array(this.TheString,[a,b,c,d]));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c).Replace("{3}",d);
}};
ASPdb.FrameworkUI.st.prototype.Format5=function(a,b,c,d,e){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$Array(this.TheString,[a,b,c,d,e]));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c).Replace("{3}",d).Replace("{4}",e);
}};
ASPdb.FrameworkUI.st.prototype.Format6=function(a,b,c,d,e,f){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$Array(this.TheString,[a,b,c,d,e,f]));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c).Replace("{3}",d).Replace("{4}",e).Replace("{5}",f);
}};
ASPdb.FrameworkUI.st.prototype.Format7=function(a,b,c,d,e,f,g){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$Array(this.TheString,[a,b,c,d,e,f,g]));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c).Replace("{3}",d).Replace("{4}",e).Replace("{5}",f).Replace("{6}",g);
}};
ASPdb.FrameworkUI.st.prototype.Format8=function(a,b,c,d,e,f,g,h){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$Array(this.TheString,[a,b,c,d,e,f,g,h]));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c).Replace("{3}",d).Replace("{4}",e).Replace("{5}",f).Replace("{6}",g).Replace("{7}",h);
}};
ASPdb.FrameworkUI.st.prototype.Format9=function(a,b,c,d,e,f,g,h,i){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(System.String.Format$$String$$Object$Array(this.TheString,[a,b,c,d,e,f,g,h,i]));
}else{return this.Replace("{0}",a).Replace("{1}",b).Replace("{2}",c).Replace("{3}",d).Replace("{4}",e).Replace("{5}",f).Replace("{6}",g).Replace("{7}",h).Replace("{8}",i);
}};
ASPdb.FrameworkUI.st.prototype.IndexOf=function(a){if(ASPdb.FrameworkUI.st.IsServerSide){return this.TheString.indexOf(a);
}else{return this.AsJsString().indexOf(a);
}};
ASPdb.FrameworkUI.st.prototype.Substring=function(b,a){if(ASPdb.FrameworkUI.st.IsServerSide){return this.TheString.substr(b,a);
}else{return this.AsJsString().substr(b,a);
}};
ASPdb.FrameworkUI.st.prototype.StartsWith=function(b,a){if(!a){return(this.IndexOf(b)==0);
}else{return this.ToLower().IndexOf(ASPdb.FrameworkUI.st.New(b).ToLower().TheString)==0;
}};
ASPdb.FrameworkUI.st.prototype.EndsWith=function(c,a){if(c.length>this.TheString.length){return false;
}var b=this.TheString.substr(this.TheString.length-c.length,c.length);
if(!a){return(c==b);
}else{return(ASPdb.FrameworkUI.st.New(c).ToLower().TheString==ASPdb.FrameworkUI.st.New(b).ToLower().TheString);
}};
ASPdb.FrameworkUI.st.prototype.TruncateLeft=function(a){var b=new ASPdb.FrameworkUI.st();
if(a>this.TheString.length){return ASPdb.FrameworkUI.st.New("");
}b.TheString=this.Substring(a,this.TheString.length-a);
return b;
};
ASPdb.FrameworkUI.st.prototype.TruncateRight=function(a){var b=new ASPdb.FrameworkUI.st();
if(a>this.TheString.length){return ASPdb.FrameworkUI.st.New("");
}b.TheString=this.Substring(0,this.TheString.length-a);
return b;
};
ASPdb.FrameworkUI.st.prototype.IfStartsWith_Truncate=function(b,a){if(this.StartsWith(b,a)){return this.TruncateLeft(b.length);
}else{return ASPdb.FrameworkUI.st.New(this.TheString);
}};
ASPdb.FrameworkUI.st.prototype.IfEndsWith_Truncate=function(b,a){if(this.EndsWith(b,a)){return this.TruncateRight(b.length);
}else{return ASPdb.FrameworkUI.st.New(this.TheString);
}};
ASPdb.FrameworkUI.st.prototype.Split=function(b,e){if(ASPdb.FrameworkUI.st.IsServerSide){if(e){var f=this.TheString;
var g=f.toLowerCase();
var c=b.toLowerCase();
var a=g.Split$$String$Array$$StringSplitOptions([c],0);
var h=[];
var j=0;
for(var d=0;
d<a.length;
d++){h[d]=new ASPdb.FrameworkUI.st();
h[d].TheString=f.substr(j,a[d].length);
j+=a[d].length+b.length;
}return h;
}else{var a=this.TheString.Split$$String$Array$$StringSplitOptions([b],0);
var h=[];
for(var d=0;
d<a.length;
d++){h[d]=new ASPdb.FrameworkUI.st();
h[d].TheString=a[d];
}return h;
}}else{if(e){var f=this.AsJsString();
var g=f.toLowerCase();
var c=b.toLowerCase();
var a=g.split(c);
var h=[];
var j=0;
for(var d=0;
d<a.length;
d++){h[d]=new ASPdb.FrameworkUI.st();
h[d].TheString=f.substr(j,a[d].length);
j+=a[d].length+b.length;
}return h;
}else{var a=this.AsJsString().split(b);
var h=[];
for(var d=0;
d<a.length;
d++){h[d]=new ASPdb.FrameworkUI.st();
h[d].TheString=a[d];
}return h;
}}};
ASPdb.FrameworkUI.st.prototype.Trim=function(){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(this.TheString.trim());
}else{return ASPdb.FrameworkUI.st.New(this.AsJsString().trim());
}};
ASPdb.FrameworkUI.st.prototype.ToLower=function(){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(this.TheString.toLowerCase());
}else{return ASPdb.FrameworkUI.st.New(this.AsJsString().toLowerCase());
}};
ASPdb.FrameworkUI.st.prototype.ToUpper=function(){if(ASPdb.FrameworkUI.st.IsServerSide){return ASPdb.FrameworkUI.st.New(this.TheString.toUpperCase());
}else{return ASPdb.FrameworkUI.st.New(this.AsJsString().toUpperCase());
}};
ASPdb.FrameworkUI.st.prototype.Append=function(a){if(this.TheString==null){this.TheString="";
}this.TheString+=a;
return this;
};
ASPdb.FrameworkUI.st.prototype.AppendST=function(a){return this.Append(a.TheString);
};
ASPdb.FrameworkUI.st.prototype.Contains=function(b,a){if(ASPdb.FrameworkUI.st.IsServerSide){if(!a){return this.TheString.indexOf(b)>=0;
}else{return this.TheString.toLowerCase().indexOf(b.toLowerCase())>=0;
}}else{if(!a){return this.AsJsString().indexOf(b)>=0;
}else{return this.AsJsString().toLowerCase().indexOf(b.toLowerCase())>=0;
}}};
ASPdb.FrameworkUI.st.prototype.Length=function(){return this.TheString.length;
};
ASPdb.FrameworkUI.st.TestUnit=function(){var f="ASPdb.FrameworkUI.st";
var b="Failed";
var c="";
var d=null;
var e="";
d=ASPdb.FrameworkUI.st.New("AAAaaa BBBbbb CCCccc"+e);
d=d.Replace("BBbb","--");
if(d.TheString!="AAAaaa B--b CCCccc"){c+="01) Replace() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb "+e);
if(d.Format1("AA").TheString!="aa AA bb "){c+="02) Format1() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc "+e);
if(d.Format2("AA","BB").TheString!="aa AA bb BB cc "){c+="02) Format2() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd "+e);
if(d.Format3("AA","BB","CC").TheString!="aa AA bb BB cc CC dd "){c+="02) Format3() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd {3} ee "+e);
if(d.Format4("AA","BB","CC","DD").TheString!="aa AA bb BB cc CC dd DD ee "){c+="02) Format4() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd {3} ee {4} ff "+e);
if(d.Format5("AA","BB","CC","DD","EE").TheString!="aa AA bb BB cc CC dd DD ee EE ff "){c+="02) Format5() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd {3} ee {4} ff {5} gg "+e);
if(d.Format6("AA","BB","CC","DD","EE","FF").TheString!="aa AA bb BB cc CC dd DD ee EE ff FF gg "){c+="02) Format6() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd {3} ee {4} ff {5} gg {6} hh "+e);
if(d.Format7("AA","BB","CC","DD","EE","FF","GG").TheString!="aa AA bb BB cc CC dd DD ee EE ff FF gg GG hh "){c+="02) Format7() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd {3} ee {4} ff {5} gg {6} hh {7} ii "+e);
if(d.Format8("AA","BB","CC","DD","EE","FF","GG","HH").TheString!="aa AA bb BB cc CC dd DD ee EE ff FF gg GG hh HH ii "){c+="02) Format8() \n";
}d=ASPdb.FrameworkUI.st.New("aa {0} bb {1} cc {2} dd {3} ee {4} ff {5} gg {6} hh {7} ii {8} jj "+e);
if(d.Format9("AA","BB","CC","DD","EE","FF","GG","HH","II").TheString!="aa AA bb BB cc CC dd DD ee EE ff FF gg GG hh HH ii II jj "){c+="02) Format9() \n";
}d=ASPdb.FrameworkUI.st.New("AAaa 1234567890 bbBB"+e);
if(d.StartsWith("AAaa 12",false)!=true){c+="03.a) StartsWith() \n";
}if(d.StartsWith("aaaa 12",false)!=false){c+="03.b) StartsWith() \n";
}if(d.StartsWith("aaaa 12",true)!=true){c+="03.c) StartsWith() \n";
}if(d.EndsWith("90 bbBB",false)!=true){c+="03.d) EndsWith() \n";
}if(d.EndsWith("90 bbbb",false)!=false){c+="03.e) EndsWith() \n";
}if(d.EndsWith("90 bbbb",true)!=true){c+="03.f) EndsWith() \n";
}d=ASPdb.FrameworkUI.st.New("12345678901234567890"+e);
if(d.TruncateLeft(0).TheString!="12345678901234567890"){c+="04.a) TruncateLeft() \n";
}if(d.TruncateLeft(21).TheString!=""){c+="04.b) TruncateLeft() \n";
}if(d.TruncateLeft(5).TheString!="678901234567890"){c+="04.c) TruncateLeft() \n";
}if(d.TruncateRight(0).TheString!="12345678901234567890"){c+="04.d) TruncateRight() \n";
}if(d.TruncateRight(21).TheString!=""){c+="04.e) TruncateRight() \n";
}if(d.TruncateRight(5).TheString!="123456789012345"){c+="04.f) TruncateRight() \n";
}d=ASPdb.FrameworkUI.st.New("a12345678901234567890z"+e);
if(d.IfStartsWith_Truncate("A12345",true).TheString!="678901234567890z"){c+="05.a) IfStartsWith_Truncate() \n";
}if(d.IfStartsWith_Truncate("A12345",false).TheString!="a12345678901234567890z"){c+="05.b) IfStartsWith_Truncate() \n";
}if(d.IfStartsWith_Truncate("a12345",false).TheString!="678901234567890z"){c+="05.c) IfStartsWith_Truncate() \n";
}if(d.IfEndsWith_Truncate("7890Z",true).TheString!="a1234567890123456"){c+="05.d) IfEndsWith_Truncate() \n";
}if(d.IfEndsWith_Truncate("7890Z",false).TheString!="a12345678901234567890z"){c+="05.d) IfEndsWith_Truncate() \n";
}if(d.IfEndsWith_Truncate("7890z",false).TheString!="a1234567890123456"){c+="05.d) IfEndsWith_Truncate() \n";
}d=ASPdb.FrameworkUI.st.New("AAAxBBBxCCCXDDDXEEE"+e);
var a=d.Split("x",false);
if(a.length!=3){c+="06.a) Split() \n";
}a=d.Split("x",true);
if(a.length!=5){c+="06.b) Split() \n";
}if(a[0].TheString!="AAA"){c+="06.c) Split() \n";
}if(a[4].TheString!="EEE"){c+="06.d) Split() \n";
}d=ASPdb.FrameworkUI.st.New("   Aa Aa   "+e);
if(d.Trim().TheString!="Aa Aa"){c+="07.a) Trim() \n";
}if(d.ToUpper().TheString!="   AA AA   "){c+="07.b) ToUpper() \n";
}if(d.ToLower().TheString!="   aa aa   "){c+="07.c) ToLower() \n";
}d=ASPdb.FrameworkUI.st.New("aaa aaa"+e);
d.Append(" aaa");
if(d.TheString!="aaa aaa aaa"){c+="08.a) Append() \n";
}d.AppendST(ASPdb.FrameworkUI.st.New(" bbb"));
if(d.TheString!="aaa aaa aaa bbb"){c+="08.b) AppendST() \n";
}if(c==""){b="Passed";
}return ASPdb.FrameworkUI.st.New("{0} : {1} \n{2}").Format3(f,b,c).TheString;
};
ASPdb.FrameworkUI.StringClass=function(a){this._stringValue="";
this.set_StringValue(a);
};
ASPdb.FrameworkUI.StringClass.prototype.get_StringValue=function(){return this._stringValue;
};
ASPdb.FrameworkUI.StringClass.prototype.set_StringValue=function(a){this._stringValue=a;
};
ASPdb.FrameworkUI.StringClass.prototype.Contains=function(b,a){return ASPdb.FrameworkUI.StringStatic.Contains(this.get_StringValue(),b,a);
};
ASPdb.FrameworkUI.StringClass.prototype.RemoveNonNumericChars=function(a){return ASPdb.FrameworkUI.StringStatic.RemoveNonNumericChars(this.get_StringValue(),a);
};
ASPdb.FrameworkUI.StringClass.prototype.IsNullOrEmpty=function(){return ASPdb.FrameworkUI.StringStatic.IsNullOrEmpty(this.get_StringValue());
};
ASPdb.FrameworkUI.StringClass.prototype.IsNullOrWhiteSpace=function(){return ASPdb.FrameworkUI.StringStatic.IsNullOrWhiteSpace(this.get_StringValue());
};
ASPdb.FrameworkUI.StringStatic=function(){};
ASPdb.FrameworkUI.StringStatic.Contains=function(b,c,a){if(a){b=b.toLowerCase();
c=c.toLowerCase();
}if(b==null||b==""){return false;
}if(c==null||c==""){return false;
}return(b.indexOf(c)>=0);
};
ASPdb.FrameworkUI.StringStatic.RemoveNonNumericChars=function(inputString,defaultIfError){var rtn=-1;
try{eval("rtn = inputString.replace(/\\D/g,'');");
}catch($$e46){rtn=defaultIfError;
}return rtn;
};
ASPdb.FrameworkUI.StringStatic.IsNullOrEmpty=function(a){if(a==null){return true;
}if(a.length<1){return true;
}return false;
};
ASPdb.FrameworkUI.StringStatic.IsNullOrWhiteSpace=function(a){if(a!=null){a=a.trim();
}return ASPdb.FrameworkUI.StringStatic.IsNullOrEmpty(a);
};
ASPdb.FrameworkUI.StringStatic.StartsWith=function(b,c,a){if(a){return(b.toLowerCase().slice(0,c.length)==c.toLowerCase());
}else{return(b.slice(0,c.length)==c);
}};
ASPdb.FrameworkUI.StringStatic.EndsWith=function(b,c,a){if(a){return(b.toLowerCase().slice(-c.length)==c.toLowerCase());
}else{return(b.slice(-c.length)==c);
}};
ASPdb.FrameworkUI.StringStatic.Replace_StartOfString=function(a,b,c){alert("Not Implemented");
return"";
};
ASPdb.FrameworkUI.StringStatic.Replace_EndOfString=function(a,b,c){alert("Not Implemented");
return"";
};
if(typeof(ASPdb.Security)=="undefined"){ASPdb.Security={};
}ASPdb.Security.AESKeyInfo=function(){this.A=null;
this.Pass=null;
this.B=null;
this.Key=null;
this.C=null;
this.IV=null;
this.D=null;
};
ASPdb.Security.AESKeyInfo.prototype.ToJson=function(){var rtn=null;
eval("rtn = $.toJSON(this);");
return rtn;
};
ASPdb.Security.AESLogic=function(){};
ASPdb.Security.AESLogic.CreateNewAES=function(){var c=new ASPdb.Security.AESKeyInfo();
c.A=ASPdb.Security.AESLogic.RandomBase64(1,23);
c.B=ASPdb.Security.AESLogic.RandomBase64(0,11);
c.C=ASPdb.Security.AESLogic.RandomBase64(0,11);
c.D=ASPdb.Security.AESLogic.RandomBase64(1,23);
c.Pass=ASPdb.Security.AESLogic.RandomBase64(25,30);
var d=ASPdb.Security.AESLogic.CryptoJS_lib_WordArray_random(16);
var b=ASPdb.Security.AESLogic.CryptoJS_PBKDF2(c.Pass,d,4,200);
c.Key=""+ASPdb.Security.AESLogic.CryptoJS_enc_Base64_stringify(b);
var e=ASPdb.Security.AESLogic.CryptoJS_lib_WordArray_random(16);
var a=ASPdb.Security.AESLogic.CryptoJS_PBKDF2(c.Pass,e,4,200);
c.IV=""+ASPdb.Security.AESLogic.CryptoJS_enc_Base64_stringify(a);
return c;
};
ASPdb.Security.AESLogic.EncryptClient=function(a,e){var d=ASPdb.Security.AESLogic.CryptoJS_enc_Base64_parse(a.Key);
var c=ASPdb.Security.AESLogic.CryptoJS_enc_Base64_parse(a.IV);
var f=ASPdb.Security.AESLogic.CryptoJS_enc_Utf8_parse(e);
var b=ASPdb.Security.AESLogic.CryptoJS_AES_encrypt(f,d,16,c);
return b;
};
ASPdb.Security.AESLogic.DecryptClient=function(a,b){var e=ASPdb.Security.AESLogic.CryptoJS_enc_Base64_parse(a.Key);
var d=ASPdb.Security.AESLogic.CryptoJS_enc_Base64_parse(a.IV);
var c=ASPdb.Security.AESLogic.CryptoJS_AES_decrypt(b,e,16,d);
var f=ASPdb.Security.AESLogic.ToString_UTF8(c);
return f;
};
ASPdb.Security.AESLogic.RandomBase64=function(min,max){var i=32;
eval("i = Math.floor(Math.random()*(max-min+1)+min);");
var tmp=ASPdb.Security.AESLogic.CryptoJS_lib_WordArray_random(i);
return ASPdb.Security.AESLogic.CryptoJS_enc_Base64_stringify(tmp);
};
ASPdb.Security.AESLogic.CryptoJS_lib_WordArray_random=function(i){var rtn=null;
var tmp=i;
eval("rtn = CryptoJS.lib.WordArray.random(tmp);");
return rtn;
};
ASPdb.Security.AESLogic.CryptoJS_PBKDF2=function(secretPassphrase,salt,keySize,iterations){var rtn=null;
keySize=1*keySize;
iterations=1*iterations;
eval("rtn = CryptoJS.PBKDF2(secretPassphrase, salt, { keySize: "+keySize+", iterations: "+iterations+" });");
return rtn;
};
ASPdb.Security.AESLogic.CryptoJS_enc_Base64_stringify=function(input){var rtn=null;
eval("rtn = CryptoJS.enc.Base64.stringify(input);");
return rtn;
};
ASPdb.Security.AESLogic.CryptoJS_enc_Base64_parse=function(input){var rtn=null;
eval("rtn = CryptoJS.enc.Base64.parse(input);");
return rtn;
};
ASPdb.Security.AESLogic.CryptoJS_enc_Utf8_parse=function(input){var rtn=null;
eval("rtn = CryptoJS.enc.Utf8.parse(input);");
return rtn;
};
ASPdb.Security.AESLogic.CryptoJS_AES_encrypt=function(inputText,key,keySize,iv){keySize=1*keySize;
var encryptedCiphertext="";
eval("\r\n                var encrypted = CryptoJS.AES.encrypt(inputText, key,\r\n                {\r\n                    keySize: "+keySize+",\r\n                    iv: iv,\r\n                    mode: CryptoJS.mode.CBC,\r\n                    padding: CryptoJS.pad.Pkcs7\r\n                });\r\n                encryptedCiphertext = encrypted.ciphertext;\r\n            ");
return ASPdb.Security.AESLogic.CryptoJS_enc_Base64_stringify(encryptedCiphertext);
};
ASPdb.Security.AESLogic.CryptoJS_AES_decrypt=function(cipherText,key,keySize,iv){var rtn=null;
keySize=1*keySize;
eval("\r\n                rtn = CryptoJS.AES.decrypt(cipherText, key,\r\n                {\r\n                    keySize: "+keySize+",\r\n                    iv: iv,\r\n                    mode: CryptoJS.mode.CBC,\r\n                    padding: CryptoJS.pad.Pkcs7\r\n                });\r\n            ");
return rtn;
};
ASPdb.Security.AESLogic.ToString_UTF8=function(input){var rtn=null;
eval("rtn = input.toString(CryptoJS.enc.Utf8);");
return rtn;
};
ASPdb.Security.AjaxSender=function(){this.OnReady=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.IsReady=false;
this.PublicKeyPem=null;
this.AESIndex=null;
this.AESKey=null;
this.IsReady=false;
};
ASPdb.Security.AjaxSender.GetObj=function(){var rtn=null;
try{eval("rtn = document.ASPdb_Security_AjaxSender;");
}catch($$e47){}if(rtn==null){rtn=new ASPdb.Security.AjaxSender();
eval("document.ASPdb_Security_AjaxSender = rtn;");
}return rtn;
};
ASPdb.Security.AjaxSender.prototype.Get_AESKey=function(){return this.AESKey;
};
ASPdb.Security.AjaxSender.prototype.Initialize=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetSessionPublicKey_Return").NoEncryption().Authentication__GetSessionPublicKey();
};
ASPdb.Security.AjaxSender.prototype.GetSessionPublicKey_Return=function(a){if(this.HandleError(a,"GetSessionPublicKey_Return")){return;
}var b=a.ReturnObj;
this.AESIndex=b[0];
this.PublicKeyPem=b[1];
this.Create_and_Send_AESKey();
};
ASPdb.Security.AjaxSender.prototype.Create_and_Send_AESKey=function(){this.AESKey=ASPdb.Security.AESLogic.CreateNewAES();
var json=this.AESKey.ToJson();
var base64="";
var pem=this.PublicKeyPem;
eval("\r\n                var jsEncrypt = new JSEncrypt();\r\n                jsEncrypt.setKey(pem);\r\n                base64 = jsEncrypt.encrypt(json);\r\n            ");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"SendAESKey_Return").NoEncryption().Authentication__SendAESKey(this.AESIndex,base64);
};
ASPdb.Security.AjaxSender.prototype.SendAESKey_Return=function(a){if(this.HandleError(a,"SendAESKey_Return")){return;
}var b=a.ReturnObj;
this.OnReady.Before.Fire();
this.IsReady=true;
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"SendAESTest_Return").YesEncryption().Authentication__SendAESTest("Hello Secure World!");
};
ASPdb.Security.AjaxSender.prototype.SendAESTest_Return=function(a){if(this.HandleError(a,"SendAESTest_Return")){return;
}var c=a.ReturnObj;
var b=c.split(" ... ");
if(b[0]=="Your message: Hello Secure World!"){this.OnReady.After.Fire();
}else{alert("Error in SendAESTest_Return()");
}};
ASPdb.Security.AjaxSender.prototype.HandleError=function(a,b){if(a.Error!=null){alert("An error occurred while exchanging security keys.\r\nThis is normal and is just a precaution to ensure security.\r\n\r\nPlease refresh your browser and the error should resolve.\r\n\r\nThank you!");
console.log("------------ In SendAESKey_Return() ---------------------");
console.log("Error      : "+a.Error.Message);
console.log("StackTrace : "+a.Error.StackTrace);
return true;
}else{return false;
}};
ASPdb.Security.RSALogic=function(){};
ASPdb.Security.RSALogic.GetNew_RSAProvider=function(){return new System.Security.Cryptography.RSACryptoServiceProvider.ctor$$Int32(3048);
};
ASPdb.Security.RSALogic.Get_PublicPEM=function(a){return ASPdb.Security.RSAHelpers.RsaKeyConverter.XmlToPem(a.ToXmlString(false));
};
ASPdb.Security.RSALogic.Get_PrivateXML=function(a){return a.ToXmlString(true);
};
ASPdb.Security.RSALogic.Get_RSA=function(a){var b=new System.Security.Cryptography.RSACryptoServiceProvider.ctor();
b.FromXmlString(a);
return b;
};
ASPdb.Security.RSALogic.Encrypt=function(d,c){var f=ASPdatabaseNET.Security.RsaKeyConverter.RsaKeyConverter.PemToXml(d);
var e=new System.Security.Cryptography.RSACryptoServiceProvider.ctor();
try{e.FromXmlString(f);
var a=System.Text.Encoding.get_UTF8().GetBytes$$String(c);
var b=e.Encrypt(a,false);
return System.Convert.ToBase64String$$Byte$Array(b);
}finally{e.Dispose();
}};
ASPdb.Security.RSALogic.Decrypt=function(d,a){var e=new System.Security.Cryptography.RSACryptoServiceProvider.ctor();
try{e.FromXmlString(d);
var b=System.Convert.FromBase64String(a);
var c=e.Decrypt(b,false);
return System.Text.Encoding.get_Default().GetString$$Byte$Array(c);
}finally{e.Dispose();
}};
ASPdb.Security.Util=function(){};
ASPdb.Security.Util.TempTest=function(){eval("$(document).ready(function() { ASPdb.Security.Util.TempTest2(); });");
};
ASPdb.Security.Util.TempTest2=function(){var b=new ASPdb.Security.Util();
var a=ASPdb.Security.AjaxSender.GetObj();
if(!a.IsReady){a.OnReady.After.AddHandler(b,"AjaxSender_OnReady",0);
a.Initialize();
}};
ASPdb.Security.Util.prototype.AjaxSender_OnReady=function(){var a=ASPdb.Security.AjaxSender.GetObj();
var b=a.PublicKeyPem;
$(".Text1").val(a.AESIndex+"\n\n"+b);
};
ASPdb.Security.Util.GetRandomBase64=function(b,a){return"aaa";
};
if(typeof($Inherit)=="undefined"){var $Inherit=function(a,b){if(typeof(Object.getOwnPropertyNames)=="undefined"){for(var d in b.prototype){if(typeof(a.prototype[d])=="undefined"||a.prototype[d]==Object.prototype[d]){a.prototype[d]=b.prototype[d];
}}for(var d in b){if(typeof(a[d])=="undefined"){a[d]=b[d];
}}a.$baseCtor=b;
}else{var e=Object.getOwnPropertyNames(b.prototype);
for(var c=0;
c<e.length;
c++){if(typeof(Object.getOwnPropertyDescriptor(a.prototype,e[c]))=="undefined"){Object.defineProperty(a.prototype,e[c],Object.getOwnPropertyDescriptor(b.prototype,e[c]));
}}for(var d in b){if(typeof(a[d])=="undefined"){a[d]=b[d];
}}a.$baseCtor=b;
}};
}if(typeof(ASPdatabaseNET)=="undefined"){var ASPdatabaseNET={};
}if(typeof(ASPdatabaseNET.UI)=="undefined"){ASPdatabaseNET.UI={};
}if(typeof(ASPdatabaseNET.UI.Errors)=="undefined"){ASPdatabaseNET.UI.Errors={};
}ASPdatabaseNET.UI.Errors.ExceptionHandler=function(){};
ASPdatabaseNET.UI.Errors.ExceptionHandler.Check=function(a){if(a.Error==null){return false;
}console.log("Error: "+a.Error.Message);
console.log("StackTrace: "+a.Error.StackTrace);
alert("Error: "+a.Error.Message);
if(a.Error.Message=="User Session Expired"){window.location=("ASPdatabase.NET.aspx?Login"+window.location.hash);
}return true;
};
if(typeof(ASPdatabaseNET.UI.GlobalParts)=="undefined"){ASPdatabaseNET.UI.GlobalParts={};
}ASPdatabaseNET.UI.GlobalParts.LogoBox=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.GlobalParts.LogoBox.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='LogoBox jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.GlobalParts.LogoBox.prototype.Open_Sub=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Return").Global__GetLogoBoxModel();
};
ASPdatabaseNET.UI.GlobalParts.LogoBox.prototype.Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
switch(this.get_Model().CustomLogoType){case 0:break;
case 1:this.jF(".LogoLink").hide();
this.jF(".CustomLogoBox").show();
this.jF(".LogoImg")[0].style.display="block";
this.jF(".LogoImg")[0].style.background=ASPdb.FrameworkUI.st.New("url('{0}') no-repeat").Format1(this.get_Model().LogoURL).TheString;
this.jF(".LogoImg").attr("title",this.get_Model().LogoText);
break;
case 2:this.jF(".LogoLink").hide();
this.jF(".CustomLogoBox").show();
this.jF(".LogoTxt")[0].style.display="block";
this.jF(".LogoTxt").html(this.get_Model().LogoText).attr("title",this.get_Model().LogoText);
break;
}};
ASPdatabaseNET.UI.GlobalParts.LogoBox.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.LogoBox.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.GlobalParts.LogoBox.GetCssRoot=function(){return"\r\n                .LogoBox { }\r\n                .LogoBox .LogoLink { float: left; display:block; width: auto; line-height: 40px; margin-top: 18px; \r\n                                     margin-left: 15px; padding: 0px 14px; font-size: 1.25em; color:#fff; }\r\n                .LogoBox .LogoLink:hover { background: #0f366b; }\r\n\r\n                .LogoBox .CustomLogoBox { display:none; float:left; }\r\n                .LogoBox .CustomLogoBox a { color: #fff; }\r\n                .LogoBox .CustomLogoBox a:hover { background: #0f366b; }\r\n                .LogoBox .CustomLogoBox .LogoImg { display:none; height: 40px; width: 300px; background: url('') no-repeat;\r\n                                                   margin: 0.5625em 0em 0em 1.4375em; }\r\n                .LogoBox .CustomLogoBox .LogoTxt { display:none; line-height: 40px; max-width: 400px; font-size: 1.4em; margin-left: .55em; padding-left: .55em; padding-top: .1em; overflow:hidden; white-space:nowrap }\r\n                .LogoBox .CustomLogoBox .ByASPdatabaseNET { display:block; width: 17.08em; font-size: .75em; line-height: 2em; margin-left: 1.916em; padding-left: 1em; background: #14498f; }\r\n            ";
};
ASPdatabaseNET.UI.GlobalParts.LogoBox.prototype.GetHtmlRoot=function(){return"\r\n                <a href='http://www.aspdatabase.net/' target='_blank' class='LogoLink'>ASPdatabase.NET</a>\r\n\r\n                <div class='CustomLogoBox'>\r\n                    <a class='LogoImg' href='ASPdatabase.NET.aspx'>&nbsp;</a>\r\n                    <a class='LogoTxt' href='ASPdatabase.NET.aspx'>Logo Text</a>\r\n                    <a class='ByASPdatabaseNET' href='https://www.aspdatabase.net/' target='_blank'>powered by ASPdatabase.NET</a>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.GlobalParts.LogoBox,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.GlobalParts.Objs)=="undefined"){ASPdatabaseNET.UI.GlobalParts.Objs={};
}ASPdatabaseNET.UI.GlobalParts.Objs.LogoBoxModel=function(){this.CustomLogoType=0;
this.LogoURL=null;
this.LogoText=null;
};
if(typeof(ASPdatabaseNET.UI.PageParts)=="undefined"){ASPdatabaseNET.UI.PageParts={};
}if(typeof(ASPdatabaseNET.UI.PageParts.About)=="undefined"){ASPdatabaseNET.UI.PageParts.About={};
}if(typeof(ASPdatabaseNET.UI.PageParts.About.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.About.Objs={};
}ASPdatabaseNET.UI.PageParts.About.Objs.AboutPageInfo=function(){this.SubscriptionAgreement=null;
this.CompanyName=null;
this.CopyrightYear=null;
this.Version=null;
this.VersionDate=null;
this.CopyrightLine=null;
};
if(typeof(ASPdatabaseNET.UI.PageParts.Install)=="undefined"){ASPdatabaseNET.UI.PageParts.Install={};
}ASPdatabaseNET.UI.PageParts.Install.InstallMainUI=function(){this.AjaxSender=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(new ASPdatabaseNET.UI.PageParts.Install.Objs.InstallViewModel());
this.get_ViewModel().IsFirstAttempt_AddingConnectionString=true;
this.get_ViewModel().LegalHasBeenAccepted=false;
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='InstallMainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.Open_Sub=function(){window.location.hash="#";
this.jF(".Screen").hide();
this.jF(".Screen_Loading").show();
this.AjaxSender=ASPdb.Security.AjaxSender.GetObj();
this.AjaxSender.OnReady.After.AddHandler(this,"AjaxSender_Ready",0);
if(!this.AjaxSender.IsReady){this.AjaxSender.Initialize();
}};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.AjaxSender_Ready=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInstallState_Return").Install__GetInstallState();
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.GetInstallState_Return=function(a){if(a.Error!=null){this.jF(".Screen").hide();
this.jF(".Screen_Error").show().html(a.Error.Message+"<br /><br />To try again, refresh your browser.");
return;
}this.set_Model(a.ReturnObj);
this.jF(".SubscriptionAgreement").html(this.get_Model().AboutPageInfo.SubscriptionAgreement);
if(!this.get_ViewModel().LegalHasBeenAccepted){this.get_Model().InstallState=1;
}this.jF(".Screen").hide();
switch(this.get_Model().InstallState){case 1:this.jF(".Screen_GetStarted").show();
break;
case 2:if(this.get_ViewModel().IsFirstAttempt_AddingConnectionString){this.get_ViewModel().IsFirstAttempt_AddingConnectionString=false;
this.jF(".Screen_NeedConnectionString").show();
}else{this.jF(".Screen_ConnectionStringNotFound").show();
this.jF(".Label_InvalidConnectionString").html(this.get_Model().ResponseMsg);
}break;
case 3:this.jF(".Screen_ConnectionStringNotFound").show();
this.jF(".Label_InvalidConnectionString").html(this.get_Model().ResponseMsg);
break;
case 4:if(!this.AjaxSender.IsReady){this.AjaxSender.Initialize();
}else{this.jF(".Screen_GetUserInfo").show();
}break;
case 5:this.jF(".Screen_InstallComplete").show();
break;
}};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.Bttn_GetStarted_Click=function(){this.jF(".Screen_GetStarted").hide();
this.jF(".Screen_Legal").show();
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.Bttn_LegalNo_Click=function(){alert("You have clicked to not accept to this subscription agreement.\n\nThis page will now disappear.");
$(".InstallMainUI").html("");
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.Bttn_LegalAccept_Click=function(){this.get_ViewModel().LegalHasBeenAccepted=true;
this.AjaxSender_Ready();
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.NextBttn1_Click=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInstallState_Return").Install__GetInstallState();
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.NextBttn2_Click=function(){this.jF(".Screen").hide();
this.jF(".Screen_Loading").show();
this.AjaxSender.IsReady=false;
var thisObj=this;
eval("setTimeout(function() { thisObj.NextBttn1_Click() }, 500);");
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.NextBttn3_Click=function(){if(!this.ValidateInfo()){return;
}this.jF(".Screen_GetUserInfo").hide();
this.jF(".Screen_InstallSQL").show();
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.NextBttn4_Click=function(){if(!this.ValidateInfo()){return;
}var e=this.jF(".T_U").val();
var d=this.jF(".T_P").val();
var b=this.jF(".T_FirstName").val()+"";
var c=this.jF(".T_LastName").val()+"";
var a=this.jF(".T_Email").val()+"";
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInstallState_Return").YesEncryption().Install__InstallSQL(e,d,b,c,a);
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.ValidateInfo=function(){var c=this.jF(".T_U").val();
var a=this.jF(".T_P").val();
var b=this.jF(".T_P2").val();
if(c==null||c.length<1){alert("Please enter a Username");
this.jF(".T_U").focus();
return false;
}if(a==null||a.length<1){alert("Password must be at least 8 characters.\nPassword must contain letters and numbers.");
this.jF(".T_P").focus();
return false;
}if(a!=b){alert("Password do not match");
this.jF(".T_P").focus();
return false;
}return true;
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.GetCssRoot=function(){return"\r\n                .InstallMainUI { }\r\n                .InstallMainUI .TopBar { height: 75px; line-height: 75px; background: #14498f; color: #fff; }\r\n                .InstallMainUI .TopBar .LogoLink { float: left; display:block; width: auto; line-height: 40px; margin-top: 18px; \r\n                                                 margin-left: 15px; padding: 0px 14px; font-size: 1.25em; color:#fff; }\r\n                .InstallMainUI .TopBar .LogoLink:hover { background: #0f366b; }\r\n\r\n                .InstallMainUI .InstallBoxWrap { margin: auto; width: 38em; max-width: 38em; min-width: 38em; }\r\n\r\n                .InstallMainUI .TopTitleSpace { margin-top: 2em; color:#5d5d5d; }\r\n                .InstallMainUI .BodySpace { background: #5d5d5d; color: #fff; min-height: 15em; }\r\n\r\n                .InstallMainUI .TopTitleSpace .InnerDiv1 { font-size: 1.8em; margin-bottom: .2em; }\r\n                .InstallMainUI .BodySpace .InnerDiv2 { font-size: .8em; padding: 1.3em 0em; line-height: 1.4em; }\r\n                .InstallMainUI .BodySpace .InnerDiv2 .SubHead { font-size: 1.7em; margin-bottom: 1.8em; }\r\n\r\n                .InstallMainUI .Screen { display:none; }\r\n                .InstallMainUI .Screen_Loading { }\r\n                .InstallMainUI .Screen_Legal { }\r\n                .InstallMainUI .Screen_Legal a { color: #fff; background: #777; padding: 0em .3em; margin: .5em 0em; float:left; display:block; }\r\n                .InstallMainUI .Screen_Legal a:hover { background: #bbb; }\r\n                .InstallMainUI .Screen_Legal .SubscriptionAgreement { overflow-y:scroll; max-height: 22em; background: #fff; color: #000; padding: .7em; }\r\n                .InstallMainUI .Screen_NeedConnectionString { }\r\n                .InstallMainUI .Screen_ConnectionStringNotFound { }\r\n                .InstallMainUI .Screen_GetUserInfo { }\r\n                .InstallMainUI .Screen_InstallSQL { }\r\n                .InstallMainUI .Screen_Error { }\r\n                .InstallMainUI .Screen_InstallComplete { }\r\n\r\n                .InstallMainUI .Bttn { float:left; padding: .6em 2em; background: #ddd; color: #000; cursor:pointer; margin-right: 1em; }\r\n                .InstallMainUI .Bttn:hover { background: #5d5d5d; color: #fff; }\r\n\r\n                .InstallMainUI .Screen_GetUserInfo span { color: #999; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopBar'>\r\n                    <a href='http://www.aspdatabase.net/' target='_blank' class='LogoLink'>ASPdatabase.NET</a>\r\n                </div>\r\n\r\n                <div class='TopTitleSpace'>\r\n                    <div class='InstallBoxWrap'>\r\n                        <div class='InnerDiv1'>Install</div>\r\n                    </div>\r\n                </div>\r\n                <div class='BodySpace'>\r\n                    <div class='InstallBoxWrap'>\r\n                        <div class='InnerDiv2'>\r\n                            <div class='SubHead'>Hello! Welcome to ASPdatabase.NET</div>\r\n\r\n                            <div class='Screen Screen_Loading'>\r\n                                Loading ...\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_GetStarted'>\r\n                                This installer will:<br />\r\n                                 - Ask you to accept the Agreement<br />\r\n                                 - Confirm you have a database connection string in the app's Web.config<br />\r\n                                 - Create application tables<br />\r\n                                 - Create an admin user<br />\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <div class='Bttn' On_Click='Bttn_GetStarted_Click'>Start &gt;&gt;</div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_Legal'>\r\n                                Do you accept this Subscription Agreement? <i>(applies to both free & paid accounts)</i> \r\n                                <br />\r\n                                <a href='ASPdatabase.NET.aspx?SubscriptionAgreement' target='_blank'>[Open in new window]</a>\r\n                                <div class='clear'></div>\r\n                                \r\n                                <div class='SubscriptionAgreement'></div>\r\n                                <br />\r\n                                <div class='Bttn Bttn_LegalNo' On_Click='Bttn_LegalNo_Click'>No</div>\r\n                                <div class='Bttn Bttn_LegalAccept' On_Click='Bttn_LegalAccept_Click'>I Accept</div>\r\n                                <div class='clear'></div>\r\n                                <br />\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_NeedConnectionString'>\r\n                                To get started, please add a SQL Server connection string in the Web.config file.\r\n                                <br /><br />\r\n                                ASPdatabase.NET needs a SQL Server database to store application settings. You can either create a new SQL Server database for this purpose, or use an existing one. All application tables will be created using the schema name \"ASPdb\".\r\n                                <br /><br />\r\n                                If you have questions about this, please contact us.\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <div class='Bttn NextBttn1' On_Click='NextBttn1_Click'>Click Here When Ready &gt;&gt;</div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_ConnectionStringNotFound'>\r\n                                <div class='Label_InvalidConnectionString'></div>\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <div class='Bttn NextBttn1' On_Click='NextBttn2_Click'>Try Again &gt;&gt;</div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_GetUserInfo'>\r\n                                Username<br />\r\n                                <input type='text' class='T_U' />\r\n                                <br />\r\n                                <br />\r\n                                Password<br />\r\n                                <input type='password' class='T_P' />\r\n                                <br />\r\n                                <br />\r\n                                Repeat Password<br />\r\n                                <input type='password' class='T_P2' />\r\n                                <br />\r\n                                <br />\r\n                                First Name<br />\r\n                                <input type='text' class='T_FirstName' /> <span>(optional)</span>\r\n                                <br />\r\n                                <br />\r\n                                Last Name<br />\r\n                                <input type='text' class='T_LastName' /> <span>(optional)</span>\r\n                                <br />\r\n                                <br />\r\n                                Email<br />\r\n                                <input type='text' class='T_Email' /> <span>(optional)</span>\r\n                                <br />\r\n                                <br />\r\n                                <div class='Bttn NextBttn3' On_Click='NextBttn3_Click'>Next &gt;&gt;</div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_InstallSQL'>\r\n                                SQL tables will now be created.\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <br />\r\n                                <div class='Bttn NextBttn4' On_Click='NextBttn4_Click'>Next &gt;&gt;</div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_Error'>\r\n                            </div>\r\n\r\n                            <div class='Screen Screen_InstallComplete'>\r\n                                ASPdatabase.NET is installed.<br />\r\n                                Please refresh your browser.\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Install.InstallMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Install.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.Install.Objs={};
}ASPdatabaseNET.UI.PageParts.Install.Objs.InstallInfo=function(){this.InstallState=0;
this.AboutPageInfo=null;
this.ConnectionString="";
this.ResponseMsg=null;
};
ASPdatabaseNET.UI.PageParts.Install.Objs.InstallViewModel=function(){this.LegalHasBeenAccepted=false;
this.IsFirstAttempt_AddingConnectionString=false;
};
if(typeof(ASPdatabaseNET.UI.PageParts.MyAccount)=="undefined"){ASPdatabaseNET.UI.PageParts.MyAccount={};
}if(typeof(ASPdatabaseNET.UI.PageParts.MyAccount.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.MyAccount.Objs={};
}ASPdatabaseNET.UI.PageParts.MyAccount.Objs.MyAccountInfo=function(){this.UserId=0;
this.Username=null;
this.FirstName=null;
this.LastName=null;
this.Email=null;
};
if(typeof(ASPdatabaseNET.UI.PageParts.Record)=="undefined"){ASPdatabaseNET.UI.PageParts.Record={};
}ASPdatabaseNET.UI.PageParts.Record.FieldUI=function(){this.InputType=0;
this.Column=null;
this.EditModel=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='FieldUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.EditModel=new ASPdatabaseNET.UI.PageParts.Record.Objs.FieldValue();
this.EditModel.Index=this.get_Model().Index;
this.EditModel.Value=this.get_Model().Value;
this.EditModel.IsNull=this.get_Model().IsNull;
this.Column=this.get_ViewModel().RecordInfo.Columns[this.get_Model().Index];
this.InputType=1;
var isFixedText=false;
switch(this.Column.DataType_Name.toLowerCase()){case"bit":this.InputType=4;
break;
case"ntext":this.InputType=3;
break;
case"text":this.InputType=3;
break;
case"image":this.InputType=3;
break;
case"xml":this.InputType=3;
break;
case"nvarchar":this.InputType=1;
break;
case"nchar":this.InputType=1;
break;
case"char":this.InputType=1;
break;
case"varbinary":this.InputType=1;
break;
case"varchar":this.InputType=1;
break;
}if(isFixedText){if(this.Column.MaxLength>99){this.InputType=2;
}}this.jF(".NameDiv").html(this.Column.ColumnName);
this.jF(".ValueDiv").text(this.get_Model().Value);
var value=this.jF(".ValueDiv").html();
value=ASPdb.FrameworkUI.JsStr.S(value).Replace1("\n","<br />");
this.jF(".ValueDiv").html(value);
if(this.Column.IsPrimaryKey){this.jF(".NameDiv").addClass("PrimaryKeyDiv");
}if(!this.Column.AllowNulls){this.jF(".NullHolder").hide();
}else{if(this.EditModel.IsNull){this.EditModel.IsNull=false;
this.Null_Click();
}}var thisObj=this;
var jRootObj=this.jRoot;
eval("jRootObj.find('.TextInput').keyup(function(event) { thisObj.Input_Changed(event, true) });");
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.EditModeChanged=function(){if(this.get_ViewModel().EditMode==0){this.jF(".EditSection").hide();
this.jF(".ValueDiv").show();
this.jF(".IdentityLabel").hide();
}else{this.jF(".ValueDiv").hide();
this.jF(".EditSection").show();
this.jF(".EditSection").removeClass("EditSection_Altered");
var a=this.CheckFor_DropdownList();
if(a!=null){this.InputType=5;
}switch(this.InputType){case 1:this.jF(".Txt_SingleLine").show().val(this.get_Model().Value);
break;
case 2:this.jF(".Txt_MultiLineSmall").show().val(this.get_Model().Value);
break;
case 3:this.jF(".Txt_MultiLineLarge").show().val(this.get_Model().Value);
break;
case 4:this.jF(".Div_TrueFalse").show();
this.EditModel.Value=this.get_Model().Value.toLowerCase().trim();
this.TrueFalse_Update();
break;
case 5:this.jF(".NullHolder").hide();
if(this.EditModel.IsNull){this.EditModel.IsNull=false;
}var c=this.jF(".SelectDropdown").show().html("");
for(var b=0;
b<a.Items.length;
b++){if(a.Items[b]==this.get_Model().Value){c.append("<option selected='selected'>"+a.Items[b]+"</option>");
}else{c.append("<option>"+a.Items[b]+"</option>");
}}break;
}if(this.Column.IsIdentity){this.jF(".Txt_SingleLine").hide();
this.jF(".IdentityLabel").show().html("[Identity]");
if(this.get_Model().Value!=null&&this.get_Model().Value.length>0){this.jF(".IdentityLabel").html("[Identity] : "+this.get_Model().Value);
}}}};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.CheckFor_DropdownList=function(){var b=this.get_ViewModel().AppPropertiesInfo;
if(b==null){return null;
}var c=ASPdb.FrameworkUI.st.New(this.Column.ColumnName).Trim().ToLower().TheString;
var a=null;
for(var d=0;
d<b.Columns.length;
d++){if(ASPdb.FrameworkUI.st.New(b.Columns[d].ColumnName).Trim().ToLower().TheString==c){a=b.Columns[d];
}}if(a!=null&&a.AppColumnType==2&&b.DropdownListItems!=null){for(var d=0;
d<b.DropdownListItems.length;
d++){if(ASPdb.FrameworkUI.st.New(b.DropdownListItems[d].ColumnName).Trim().ToLower().TheString==c){return b.DropdownListItems[d];
}}}return null;
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.CheckForValueChange=function(){var a=this.GetValueForSave();
if(a.IsNull!=this.get_Model().IsNull){return true;
}if(this.InputType==4){if(a.Value.toLowerCase()!=this.get_Model().Value.toLowerCase()){return true;
}}else{if(a.Value!=this.get_Model().Value){return true;
}}return false;
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.GetValueForSave=function(){var a=this.EditModel;
if(!a.IsNull){switch(this.InputType){case 1:a.Value=this.jF(".Txt_SingleLine").val();
break;
case 2:a.Value=this.jF(".Txt_MultiLineSmall").val();
break;
case 3:a.Value=this.jF(".Txt_MultiLineLarge").val();
break;
case 4:a.Value=this.EditModel.Value;
break;
case 5:a.Value=this.jF(".SelectDropdown").val();
break;
}}return a;
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.Input_Changed=function(b,a){if(this.CheckForValueChange()){this.jF(".EditSection").addClass("EditSection_Altered");
}else{this.jF(".EditSection").removeClass("EditSection_Altered");
}if(a){if(this.EditModel.IsNull){this.Null_Click();
}}};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.Null_Click=function(){this.EditModel.IsNull=!this.EditModel.IsNull;
if(this.EditModel.IsNull){this.jF(".NullHolder").addClass("NullHolder_On");
this.jF(".Checkbox_Null").attr("checked",true);
}else{this.jF(".NullHolder").removeClass("NullHolder_On");
this.jF(".Checkbox_Null").removeAttr("checked");
}this.Input_Changed(null,false);
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.TrueFalse_Click=function(){if(this.EditModel.Value=="true"){this.EditModel.Value="false";
}else{this.EditModel.Value="true";
}this.TrueFalse_Update();
this.Input_Changed(null,true);
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.TrueFalse_Update=function(){if(this.EditModel.Value=="true"){this.jF(".Div_TrueFalse").addClass("Div_TrueFalse_On");
this.jF(".Checkbox_TrueFalse").attr("checked",true);
this.jF(".Label_TrueFalse").html("True");
}else{if(this.EditModel.Value=="false"){this.jF(".Div_TrueFalse").removeClass("Div_TrueFalse_On");
this.jF(".Checkbox_TrueFalse").removeAttr("checked");
this.jF(".Label_TrueFalse").html("False");
}else{this.jF(".Div_TrueFalse").removeClass("Div_TrueFalse_On");
this.jF(".Checkbox_TrueFalse").removeAttr("checked");
this.jF(".Label_TrueFalse").html("&nbsp;");
}}};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Record.FieldUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.GetCssRoot=function(){return"\r\n                .FieldUI { line-height: 1.875em; border-bottom: 0.125em solid #fff; background: #f4f4f4; }\r\n                .FieldUI .NameTd { background: #eee; font-size: .8em; line-height: 2.34375em; width: 18em; max-width: 18em; min-width: 18em; overflow:hidden; }\r\n                .FieldUI .ValueTd { font-size: .8em; }\r\n\r\n                .FieldUI .NameTd .NameDiv { padding-left: .75em; }\r\n                .FieldUI .NameTd .PrimaryKeyDiv { border-left: .35em solid #eb640a; padding-left: .45em; }\r\n\r\n                .FieldUI .ValueTd .ValueDiv { line-height: 1.54em; margin: 0.384615em 0em; }\r\n                .FieldUI .ValueTd .IdentityLabel { display:none; }\r\n\r\n                .FieldUI .ValueTd .EditSection { display:none; padding-left: .75em; }\r\n                .FieldUI .ValueTd .EditSection_Altered { border-left: .35em solid #0da218; padding-left: .45em; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder { float:left; width: 42.6em; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Txt_SingleLine { display:none; width: 40em; padding: 0.4em; border: 1px solid #093a79; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Txt_MultiLineSmall { display:none; width: 38.3906em; padding: 0.4em; height: 4em;   border: 1px solid #093a79; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Txt_MultiLineLarge { display:none; width: 38.3906em; padding: 0.4em; height: 20em;  border: 1px solid #093a79; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Div_TrueFalse { display:none; cursor:pointer; border-radius: .35em; color: #888; width: 8em; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Div_TrueFalse:hover { background: #0b346a; color: #fff; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Div_TrueFalse_On { background: #3172c8; color: #fff; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Div_TrueFalse .Checkbox_TrueFalse { float: left; margin: 0.703125em 0.625em 0em 0.78125em; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .Div_TrueFalse .Label_TrueFalse { float:left; }\r\n                .FieldUI .ValueTd .EditSection .InputHolder .SelectDropdown { display:none; }\r\n\r\n                .FieldUI .ValueTd .EditSection .NullHolder { float:left; position:relative; width: 5.5em; cursor:pointer; color: #656565; border: 1px solid #f4f4f4; border-radius: .4em; }\r\n                .FieldUI .ValueTd .EditSection .NullHolder:hover { background: #aabace; color: #fff; }\r\n                .FieldUI .ValueTd .EditSection .NullHolder input { position:absolute; top: 0.625em; left: 0.625em; }\r\n                .FieldUI .ValueTd .EditSection .NullHolder span { padding-left: 2.1875em; }\r\n                .FieldUI .ValueTd .EditSection .NullHolder_On { background: #fffeb4; color: #000; border-color: #aabace; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Record.FieldUI.prototype.GetHtmlRoot=function(){return"\r\n                <td class='NameTd'><div class='NameDiv'></div></td>\r\n                <td class='ValueTd'>\r\n                    <div class='ValueDiv'></div>\r\n                    <div class='IdentityLabel' title='Auto-Increment Number'></div>\r\n                    <div class='EditSection'>\r\n                        <div class='InputHolder'>\r\n                            <input type='text' class='Txt_SingleLine TextInput' />\r\n                            <textarea class='Txt_MultiLineSmall TextInput'></textarea>\r\n                            <textarea class='Txt_MultiLineLarge TextInput'></textarea>\r\n                            <div class='Div_TrueFalse' On_Click='TrueFalse_Click'>\r\n                                <input type='checkbox' class='Checkbox_TrueFalse' />\r\n                                <div class='Label_TrueFalse'></div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n                            <select class='SelectDropdown'></select>\r\n                        </div>\r\n                        <div class='NullHolder' On_Click='Null_Click'>\r\n                            <input type='checkbox' class='Checkbox_Null' />\r\n                            <span>Null</span>\r\n                        </div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                </td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Record.FieldUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Record.HistoryUI)=="undefined"){ASPdatabaseNET.UI.PageParts.Record.HistoryUI={};
}ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI=function(){this.UniqueRowKey=null;
this.MenuItems=null;
this.SubModel=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.Open_Sub=function(){if(this.UniqueRowKey==null||this.UniqueRowKey.TableType!=1){alert("Invalid Row Key");
this.Close();
return;
}this.jF(".Label2").html("Loading...");
this.jF(".MenuTable").html("");
this.jF(".EmptyPanel").show();
this.jF(".Loading2").hide();
this.jF(".CompareTbl").hide();
this.jF(".FieldView").hide();
var b=this.UniqueRowKey.Id;
var a=this.UniqueRowKey.Values;
ASPdatabaseNET.AjaxService.ASPdatabaseService.Bind(this).History__GetSummary(b,a,100);
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.SetModel(a);
var e="";
var f="";
var b=false;
for(var c=0;
c<this.get_Model().KeyValue.length;
c++){if(c>0){e+=", ";
f+=", ";
}var d=this.get_Model().KeyValue[c];
e+=d;
f+='"'+d+'"';
if(ASPdb.FrameworkUI.st.New(d).Contains(",",false)){b=true;
}}if(b){e=f;
}var g=ASPdb.FrameworkUI.st.New("[{0}].[{1}].[{2}] : {3}").Format4(this.get_Model().ConnectionName,this.get_Model().Schema,this.get_Model().TableName,e).TheString;
this.jF(".Label2").html(g);
var h=this.jF(".MenuTable").html("");
this.MenuItems=[];
for(var c=0;
c<this.get_Model().HistoryRecords.length;
c++){this.MenuItems[c]=new ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem();
this.MenuItems[c].set_Model(this.get_Model().HistoryRecords[c]);
this.MenuItems[c].Instantiate();
this.MenuItems[c].OnChange.After.AddHandler(this,"HistoryMenuItem_Change",1);
h.append(this.MenuItems[c].jRoot);
}if(this.get_Model().HistoryRecords.length<1){this.jF(".EmptyPanel").html("This record does not have any saved history.");
}else{this.jF(".EmptyPanel").html("(Select a Time Point)");
}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.Div_BG_Click=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.CloseBttn_Click=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.HistoryMenuItem_Change=function(b){for(var a=0;
a<this.MenuItems.length;
a++){this.MenuItems[a].Deselect();
}this.jF(".EmptyPanel").hide();
this.jF(".Loading2").show();
this.jF(".CompareTbl").hide();
this.jF(".FieldView").hide();
ASPdatabaseNET.AjaxService.ASPdatabaseService.Bind2(this,"AjaxReturn2").History__GetRecord(b.get_Model().TableId,b.get_Model().HistoryId);
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.AjaxReturn2=function(ajaxResponse){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(ajaxResponse)){return;
}this.jF(".EmptyPanel").hide();
this.jF(".Loading2").hide();
this.jF(".CompareTbl").show();
this.jF(".FieldView").hide();
this.SubModel=ajaxResponse.ReturnObj;
var compareTbl=this.jF(".CompareTbl");
compareTbl.find(".TrRow").detach();
for(var i=0;
i<this.SubModel.Fields_3ValArr.length;
i++){var item=this.SubModel.Fields_3ValArr[i];
var v1=item.v1;
var v2=item.v2;
var v3=item.v3;
if(v1==null){v1="&nbsp;";
}if(v2==null){v2="&nbsp;";
}if(v3==null){v3="&nbsp;";
}var matchTDsClass="";
if(!item.match){matchTDsClass="Hightlight";
}var altClass="TrRow1";
if(i%2==1){altClass="TrRow2";
}compareTbl.append(ASPdb.FrameworkUI.st.New("\r\n                    <tr class='TrRow {0}' Index='{1}'>\r\n                        <td><div>{2}</div></td>\r\n                        <td class='{6}'><div>{3}</div></td>\r\n                        <td class='{6}'><div>{4}</div></td>\r\n                        <td><div>{5}</div></td>\r\n                    </tr>").Format7(altClass,i,item.ColumnName_OrigCasing,v1,v2,v3,matchTDsClass).TheString);
}var thisObj=this;
eval(" compareTbl.find('.TrRow').click(function(){ thisObj.FieldItem_Click( $(this).attr('Index') ); }); ");
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.FieldItem_Click=function(a){var b=this.SubModel.Fields_3ValArr[a];
this.jF(".CompareTbl").hide();
this.jF(".FieldView").show();
this.jF(".Label_cn").html(b.ColumnName_OrigCasing);
this.jF(".Label_v1").html(b.v1);
this.jF(".Label_v2").html(b.v2);
this.jF(".Label_v3").html(b.v3);
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.Label3_Click=function(){this.jF(".CompareTbl").show();
this.jF(".FieldView").hide();
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.GetCssTree=function(){return ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.GetCssTree()+ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.GetCssRoot();
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.GetCssRoot=function(){return"\r\n            .HistoryMainUI { }\r\n            .HistoryMainUI .Div_BG { background: #464f5b; opacity: 0.65; position:fixed; width: 100%; height: 8000px; top: 0px; left: 0px; }\r\n            .HistoryMainUI .InFrontBox { position:absolute; background: #fff; min-height: 35em; box-shadow: 0.125em 0.125em .2em #777; left: 0px; width: 100%; }\r\n            .HistoryMainUI .InFrontBox .TopDiv { background: #e4e4e4; color: #444; line-height: 4em; margin-bottom: 0em; }\r\n            .HistoryMainUI .InFrontBox .TopDiv .Label1 { float:left; padding: 0em 2em; border-right: 1px solid #fff; }\r\n            .HistoryMainUI .InFrontBox .TopDiv .Label2 { float:left; padding: 0em 0em 0em 2em; }\r\n            .HistoryMainUI .InFrontBox .TopDiv .CloseBttn { float:right; cursor:pointer; padding: 0em 2em; border-left: 1px solid #fff; }\r\n            .HistoryMainUI .InFrontBox .TopDiv .CloseBttn:hover { background: #555; color: #fff; }\r\n\r\n            .HistoryMainUI .InFrontBox .LabelSub { font-size: .7em; color: #777; padding-left: 2.9em; line-height: 2.3em; border-bottom: 1px solid #e4e4e4; margin-bottom: .7em; }\r\n\r\n            .HistoryMainUI .InFrontBox .MainTbl1 { width: 100% }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 td { }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd1 { width: 25em; padding: 0em .5em; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd1 .MenuTable { width: 100%; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 { padding-right: .5em; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .EmptyPanel { color: #6993ae; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .Loading2 {  }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl { width: 100%; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl th { background: #888; color: #fff; font-weight: normal; border-right: 1px solid #fff; line-height: 2.4em; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl td { font-size: .75em; border-right: 1px solid #fff; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .CompTd1 { width: 25%; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .CompTd2 { width: 25%; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .CompTd3 { width: 25%; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .CompTd4 { width: 25%; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .TrRow:hover td { background: #0a598c; color: #fff; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .TrRow1 td { background: #f9f9f9; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .TrRow2 td { background: #eaeaea; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl td div { white-space:nowrap; max-width: 18em; max-height: 1.5em; line-height: 1.5em; overflow:hidden; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .TrRow1 .Hightlight { background: #fffbd7; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .CompareTbl .TrRow2 .Hightlight { background: #fff59c; }\r\n\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .FieldView { }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .FieldView .Label3 { background: #e4e4e4; cursor:pointer; padding-left: 1.5em; line-height: 2.4em; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .FieldView .Label3:hover { background: #0a598c; color: #fff; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .FieldView .IndentDiv { padding: .2em 0em 0em 3em; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .FieldView .Label4 { background: #888; color: #fff; padding-left: .8em; line-height: 1.8em; }\r\n            .HistoryMainUI .InFrontBox .MainTbl1 .MainTd2 .FieldView .Label5 { padding: .2em 0em 1em .8em; min-height: 1.2em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.prototype.GetTemplate=function(){return"\r\n<css>\r\n\r\n<html>\r\n-d #HistoryMainUI\r\n--d #Div_BG .NoSelect evt.Click html='&nbsp;'\r\n--d #InFrontBox\r\n---d #TopDiv\r\n----d #Label1 html='History Tracking'\r\n----d #Label2 html='&nbsp;'\r\n----d #CloseBttn evt.Click html='Close'\r\n----d .clear\r\n\r\n---d #LabelSub html='History Tracking is only able to track changes made within ASPdatabase.NET. Changes made outside of this system are not tracked.'\r\n---t #MainTbl1\r\n----tr\r\n-----td #MainTd1\r\n------d .AutoResize\r\n-------t #MenuTable\r\n-----td #MainTd2\r\n------d #EmptyPanel html='(Select a Time Point)'\r\n------d #Loading2 html='Loading...'\r\n------d .AutoResize\r\n-------t #CompareTbl\r\n--------tr .HeadTr\r\n---------th .CompTd1 html='Field Name'\r\n---------th .CompTd2 html='Before Change'\r\n---------th .CompTd3 html='After Change'\r\n---------th .CompTd4 html='Current Value'\r\n-------d #FieldView\r\n--------d #Label3 evt.Click html='&lt;&lt; Fields Chart'\r\n--------d #IndentDiv\r\n---------d .Label4 html='Field Name'\r\n---------d #Label_cn .Label5\r\n---------d .Label4 html='Before Change'\r\n---------d #Label_v1 .Label5\r\n---------d .Label4 html='After Change'\r\n---------d #Label_v2 .Label5\r\n---------d .Label4 html='Current Value'\r\n---------d #Label_v3 .Label5\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.prototype.Instantiate_Sub=function(){this.jRoot=$(this.GetHtmlRoot());
this.jF(".Td_Revision").html(this.get_Model().Revision+"");
this.jF(".Td_TimeLapsed").html(this.get_Model().TimeLapsedString);
this.jF(".Td_TimeSaved").html(this.get_Model().TimeSaved_String);
this.jF(".Td_ByUsername").html(this.get_Model().ByUsername);
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.prototype.Click=function(){this.OnChange.After.Fire1(this);
this.jRoot.addClass("HistoryMenuItem_On");
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.prototype.Deselect=function(){this.jRoot.removeClass("HistoryMenuItem_On");
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.GetCssRoot=function(){return"\r\n            .HistoryMenuItem { font-size: .7em; line-height: 1.9em; cursor:pointer; }\r\n            .HistoryMenuItem:hover { background: #ccc; }\r\n            .HistoryMenuItem_On { background: #0a598c; color: #fff; }\r\n            .HistoryMenuItem_On:hover { background: #444; color: #fff; }\r\n            .HistoryMenuItem td { padding: 0em .3em 0em .5em; }\r\n            .HistoryMenuItem .Td_Revision { }\r\n            .HistoryMenuItem .Td_TimeSaved { width: 40%; }\r\n            .HistoryMenuItem .Td_TimeLapsed { width: 27%; }\r\n            .HistoryMenuItem .Td_ByUsername { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem.prototype.GetTemplate=function(){return"\r\n<css>\r\n\r\n<html>\r\n-tr #HistoryMenuItem\r\n--td #Td_Revision   On_Click='Click'\r\n--td #Td_TimeSaved  On_Click='Click'\r\n--td #Td_TimeLapsed On_Click='Click'\r\n--td #Td_ByUsername On_Click='Click'\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMenuItem,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Record.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.Record.Objs={};
}ASPdatabaseNET.UI.PageParts.Record.Objs.FieldValue=function(){this.Index=0;
this.Value=null;
this.IsNull=false;
};
if(typeof(ASPdatabaseNET.UI.PageParts.Record.Objs_History)=="undefined"){ASPdatabaseNET.UI.PageParts.Record.Objs_History={};
}ASPdatabaseNET.UI.PageParts.Record.Objs_History.HistorySummary=function(){this.ConnectionId=0;
this.TableId=0;
this.ConnectionName=null;
this.Schema=null;
this.TableName=null;
this.KeyValue=null;
this.HistoryCount=0;
this.HistoryRecords=null;
};
ASPdatabaseNET.UI.PageParts.Record.Objs_History.HistoryJsonObj=function(){this.KeyValue=null;
this.Fields=null;
};
ASPdatabaseNET.UI.PageParts.Record.Objs_History.Item=function(){this.cn=null;
this.match=false;
this.v1=null;
this.v2=null;
};
ASPdatabaseNET.UI.PageParts.Record.Objs_History.HistoryRecord=function(){this.HistoryId=0;
this.TableId=0;
this.KeyValue=null;
this.Revision=0;
this.HistoryType=0;
this.IsPartial=false;
this.TimeSaved=System.DateTime.MinValue;
this.TimeSaved_String=null;
this.ByUserId=0;
this.ByUsername=null;
this.HistoryJsonObj=null;
this.Fields_3ValArr=null;
this.TimeLapsedString=null;
};
ASPdatabaseNET.UI.PageParts.Record.Objs.RecordInfo=function(){this.TableType=0;
this.ActionType=0;
this.ConnectionId=0;
this.Id=0;
this.UniqueRowObj=null;
this.Schema=null;
this.TableName=null;
this.PrimaryKeyNames=null;
this.PriamryKeyIndexPositions=null;
this.Columns=null;
this.FieldValues=null;
this.PermissionValues=null;
this.ChangeHistory_IsOn=false;
};
ASPdatabaseNET.UI.PageParts.Record.Objs.RecordViewModel=function(){this.EditMode=0;
this.UniqueRowKey=null;
this.RecordInfo=null;
this.AppPropertiesInfo=null;
};
ASPdatabaseNET.UI.PageParts.Record.Objs_History.Item_3Values=function(){this.ColumnName_OrigCasing=null;
this.cn=null;
this.match=false;
this.v1=null;
this.v2=null;
this.v3=null;
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI=function(){this.HistoryMainUI=null;
this.FieldUIs=null;
this.TableGrid_ControlHasData=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(new ASPdatabaseNET.UI.PageParts.Record.Objs.RecordViewModel());
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='RecordMainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Open_Sub=function(){this.jRoot.hide();
this.get_ViewModel().UniqueRowKey=ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().PageParam2;
if(this.get_ViewModel().UniqueRowKey.length<1){window.location="#00-Home";
}this.get_ViewModel().EditMode=0;
this.jF(".Navigator").hide();
this.jF(".Box3_StandardBttns").show();
this.jF(".Box3_SaveBttns").hide();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Get_Return").Record__Get(this.get_ViewModel().UniqueRowKey);
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Get_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){if(a.Error.Message=="\nData needs to be refreshed. \nTherefore the app will now return to the Records List."){this.RecordsList_Click(true);
}else{return;
}}this.set_Model(a.ReturnObj);
this.get_ViewModel().RecordInfo=this.get_Model();
document.title="["+this.get_Model().TableName+"] - ASPdatabase.NET";
var g=this.get_Model().Schema+"."+this.get_Model().TableName;
this.jF(".Txt_TableName").html(g);
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
var f=ASPdatabaseNET.UI.Pages.EverythingPage.Get_The_EverythingPage().TableGridMain;
this.TableGrid_ControlHasData=(f!=null&&f.IsInstantiated);
this.UpdateNavigator(f);
this.FieldUIs=[];
var c=this.jF(".Holder_FieldUIs").html("");
var e=this.get_Model();
var b=this.get_Model().FieldValues;
for(var d=0;
d<this.get_Model().FieldValues.length;
d++){this.FieldUIs[d]=new ASPdatabaseNET.UI.PageParts.Record.FieldUI();
this.FieldUIs[d].set_ViewModel(this.get_ViewModel());
this.FieldUIs[d].set_Model(this.get_Model().FieldValues[d]);
this.FieldUIs[d].Instantiate();
c.append(this.FieldUIs[d].jRoot);
}this.jRoot.show();
this.jF(".ReadOnlyBar").hide();
this.jF(".HideIfNoPK").show();
if(this.get_Model().PrimaryKeyNames==null||this.get_Model().PrimaryKeyNames.length<1){this.jF(".ReadOnlyBar").show();
this.jF(".HideIfNoPK").hide();
this.get_Model().ActionType=0;
this.get_ViewModel().EditMode=4;
return;
}this.jF(".Bttn_Edit").hide();
this.jF(".Bttn_Clone").hide();
this.jF(".Bttn_Delete").hide();
if(this.get_Model().PermissionValues.Edit){this.jF(".Bttn_Edit").show();
}if(this.get_Model().PermissionValues.Insert){this.jF(".Bttn_Clone").show();
}if(this.get_Model().PermissionValues.Delete){this.jF(".Bttn_Delete").show();
}if(this.get_Model().ActionType!=0){this.Edit_Click();
}if(this.get_Model().ChangeHistory_IsOn){this.jF(".Bttn_History").show();
}else{this.jF(".Bttn_History").hide();
}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.UpdateNavigator=function(h){this.jF(".Navigator").hide();
if(this.TableGrid_ControlHasData){this.jF(".Navigator").show();
var f="";
var d="?";
var e="";
var g=h.RowUIs;
for(var c=0;
c<g.length;
c++){if(g[c].get_Model().UniqueKey==this.get_ViewModel().UniqueRowKey){d=""+(c+1);
try{f="#00-Record-"+g[c-1].get_Model().UniqueKey;
}catch(a){}try{e="#00-Record-"+g[c+1].get_Model().UniqueKey;
}catch(b){}c=g.length+1;
}}this.jF(".Arrow").hide();
this.jF(".Arrow_Off").show();
if(f!=""){this.jF(".Arrow_Left").show().attr("href",f);
this.jF(".Arrow_Left_Off").hide();
}this.jF(".NavigatorText").html(d);
if(e!=""){this.jF(".Arrow_Right").show().attr("href",e);
this.jF(".Arrow_Right_Off").hide();
}}};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.RecordsList_Click=function(c){var a=ASPdatabaseNET.UI.PagesFramework.BasePage.GetFromDocument();
var b=ASPdatabaseNET.UI.Pages.EverythingPage.Get_The_EverythingPage();
var d=b.TableGridMain;
if(d.IsInstantiated){this.Close();
d.Open();
if(c){d.Refresh();
}b.CurrentSubUI=d;
a.IgnoreNext_HashChange=true;
}window.location=("#00-Table-"+this.get_Model().Id);
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Edit_Click=function(){if(this.get_ViewModel().AppPropertiesInfo==null){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"AppProperties__Get_Return").TableDesign__AppProperties__Get(this.get_Model().Id,true);
}else{this.Edit_Click_2();
}};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.AppProperties__Get_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().AppPropertiesInfo=a.ReturnObj;
this.Edit_Click_2();
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Edit_Click_2=function(){this.jF(".Box3_StandardBttns").hide();
this.jF(".Box3_SaveBttns").show();
this.jF(".Navigator").hide();
this.get_ViewModel().EditMode=2;
for(var a=0;
a<this.FieldUIs.length;
a++){this.FieldUIs[a].EditModeChanged();
}};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Clone_Click=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Get_Return").Record__GetClone(this.get_ViewModel().UniqueRowKey);
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Delete_Click=function(){var b="Are you sure you want to permanently delete this record?";
b+='\n\nIf so, please type "delete" to confirm.';
var c=prompt(b);
if(c!=null&&c.toLowerCase()=="delete"){var a=[];
a[0]=this.get_ViewModel().UniqueRowKey;
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"DeleteRecords_Return").TableGrid__DeleteRecords(a);
}};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.DeleteRecords_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.RecordsList_Click(true);
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.History_Click=function(){if(this.HistoryMainUI==null){this.HistoryMainUI=new ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI();
this.HistoryMainUI.Instantiate();
this.jF(".Holder_HistoryMainUI").append(this.HistoryMainUI.jRoot);
}this.HistoryMainUI.UniqueRowKey=this.get_Model().UniqueRowObj;
this.HistoryMainUI.Open();
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Refresh_Click=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Get_Return").Record__Get(this.get_ViewModel().UniqueRowKey);
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Save_Click=function(){var c=new ASPdatabaseNET.UI.PageParts.Record.Objs.RecordInfo();
c.TableType=this.get_Model().TableType;
c.ActionType=this.get_Model().ActionType;
c.ConnectionId=this.get_Model().ConnectionId;
c.Id=this.get_Model().Id;
c.UniqueRowObj=this.get_Model().UniqueRowObj;
c.Columns=this.get_Model().Columns;
c.FieldValues=[];
var b=0;
for(var a=0;
a<this.FieldUIs.length;
a++){if(!this.FieldUIs[a].Column.IsIdentity){if(this.get_Model().ActionType==0){if(this.FieldUIs[a].CheckForValueChange()){c.FieldValues[b++]=this.FieldUIs[a].GetValueForSave();
}}else{c.FieldValues[b++]=this.FieldUIs[a].GetValueForSave();
}}}ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").Record__Save(c);
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.Save_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().UniqueRowKey=a.ReturnObj;
var b=ASPdatabaseNET.UI.Pages.EverythingPage.Get_The_EverythingPage();
var c=b.TableGridMain;
if(c.IsInstantiated){c.Refresh();
}this.jF(".SavedBar").slideDown(200).delay(400).slideUp(200);
this.jF(".BttnBar").slideUp(200).delay(400).slideDown(200);
if(this.get_Model().ActionType==0){this.Close();
this.Open();
}else{this.RecordsList_Click(false);
}};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.CancelEdit_Click=function(){this.get_ViewModel().EditMode=0;
if(this.get_Model().ActionType!=0){this.RecordsList_Click(false);
}for(var a=0;
a<this.FieldUIs.length;
a++){this.FieldUIs[a].EditModeChanged();
}this.jF(".Box3_StandardBttns").show();
this.jF(".Box3_SaveBttns").hide();
if(this.TableGrid_ControlHasData){this.jF(".Navigator").show();
}};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.GetCssTree=function(){return""+ASPdatabaseNET.UI.PageParts.Record.FieldUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Record.HistoryUI.HistoryMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.GetCssRoot();
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.GetCssRoot=function(){return"\r\n                .RecordMainUI { padding: 0.75em 0em 0em 0.75em; width: 55em; max-width: 55em; }\r\n                .RecordMainUI .Txt_TableName { font-size: 1.2em; padding-bottom: 0.625em; color: #eb640a; }\r\n                .RecordMainUI .BttnBar { background: #093a79; color: #fff; line-height: 2.1875em; border-bottom: 0.375em solid #fff; }\r\n                .RecordMainUI .BttnBar .Box1 { float:left; width: 13.6875em; }\r\n                .RecordMainUI .BttnBar .Box2 { float:left; width: 13em; }\r\n                .RecordMainUI .BttnBar .Box3 { float:right; width: 25em; }\r\n                .RecordMainUI .BttnBar .Bttn { float:right; cursor:pointer; background: #093a79; color: #fff; padding: 0em .75em; }\r\n                .RecordMainUI .BttnBar .Bttn:hover { background: #001d44; }\r\n                .RecordMainUI .BttnBar .Bttn_RecordsList { float:left; }\r\n\r\n                .RecordMainUI .BttnBar .Navigator { }\r\n                .RecordMainUI .BttnBar .Navigator .Arrow_Off { float:left; text-align:center; width: 2.1875em; background: #7490b4; }\r\n                .RecordMainUI .BttnBar .Navigator .Arrow { display:none; float:left; text-align:center; width: 2.1875em; background: #7490b4; color: #ececec; cursor:pointer; }\r\n                .RecordMainUI .BttnBar .Navigator .Arrow:hover { background: #3f679b; }\r\n                .RecordMainUI .BttnBar .Navigator .NavigatorText { float:left; text-align:center; background: #ececec; color: #093a79; font-size: 1.25em; padding: 0em 1em; width: 1em; }\r\n\r\n                .RecordMainUI .BttnBar .Box3_StandardBttns { }\r\n                .RecordMainUI .BttnBar .Box3_SaveBttns { display:none; }\r\n\r\n                .RecordMainUI .BttnBar .Bttn_Save { background: #0da218; }\r\n                .RecordMainUI .BttnBar .Bttn_CancelEdit { }\r\n\r\n                .RecordMainUI .SavedBar { display:none; background: #0da218; text-align:center; color: #fff; line-height: 2.1875em; border-bottom: 0.375em solid #fff; } \r\n                .RecordMainUI .ReadOnlyBar { display:none; background: #8b79c3; text-align:left; color: #fff; line-height: 2.1875em; border-bottom: 0.375em solid #fff; padding-left: 1em; }\r\n                .RecordMainUI .ReadOnlyBar span { font-size: .7em; padding-left: .8em; }\r\n\r\n                .RecordMainUI .Holder_FieldUIs { width: 100%; font-size: .95em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Holder_HistoryMainUI'></div>\r\n                <div class='Txt_TableName'></div>\r\n                <div class='BttnBar'>\r\n                    <div class='Box1'>\r\n                        <div class='Bttn Bttn_RecordsList' On_Click='RecordsList_Click'>&lt;&lt; Records List</div>\r\n                    </div>\r\n                    <div class='Box2 HideIfNoPK'>\r\n                        <div class='Navigator NoSelect'>\r\n                            <a   class='Arrow Arrow_Left' href='#'>&lt;</a>\r\n                            <div class='Arrow_Off Arrow_Left_Off'>&nbsp;</div>\r\n                            <div class='NavigatorText'>&nbsp;</div>\r\n                            <a   class='Arrow Arrow_Right' href='#'>&gt;</a>\r\n                            <div class='Arrow_Off Arrow_Right_Off' title='End of current set'>?</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class='Box3 Box3_StandardBttns HideIfNoPK'>\r\n                        <div class='Bttn Bttn_Refresh' On_Click='Refresh_Click'>Refresh</div>\r\n                        <div class='Bttn Bttn_History hide' On_Click='History_Click'>History</div>\r\n                        <div class='Bttn Bttn_Delete' On_Click='Delete_Click'>Delete</div>\r\n                        <div class='Bttn Bttn_Clone' On_Click='Clone_Click'>Clone</div>\r\n                        <div class='Bttn Bttn_Edit' On_Click='Edit_Click'>Edit</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='Box3 Box3_SaveBttns'>\r\n                        <div class='Bttn Bttn_CancelEdit' On_Click='CancelEdit_Click'>Cancel</div>\r\n                        <div class='Bttn Bttn_Save' On_Click='Save_Click'>Save</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='SavedBar'>\r\n                    Saved\r\n                </div>\r\n                <div class='ReadOnlyBar'>\r\n                    This table does not have a primary key set.<br />\r\n                    Therefore this record cannot be identified for editing.\r\n                </div>\r\n\r\n                <div class='AutoResize'>\r\n                    <table class='Holder_FieldUIs'>\r\n                    </table>\r\n                </div>\r\n\r\n\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Record.RecordMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Subscription)=="undefined"){ASPdatabaseNET.UI.PageParts.Subscription={};
}if(typeof(ASPdatabaseNET.UI.PageParts.Subscription.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.Subscription.Objs={};
}ASPdatabaseNET.UI.PageParts.Subscription.Objs.SubscriptionInfo=function(){this.SubscriptionKey="";
this.SubscriptionCount=0;
this.LastCheck_MinutesLapsed="";
};
if(typeof(ASPdatabaseNET.UI.PageParts.TableDesign)=="undefined"){ASPdatabaseNET.UI.PageParts.TableDesign={};
}ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel=function(a){this.UIItems=null;
this.EditAppItem=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(a);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='AppPropertiesPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.EditAppItem=new ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem();
this.EditAppItem.Instantiate();
this.EditAppItem.set_ViewModel(this.get_ViewModel());
this.EditAppItem.OnChange.After.AddHandler(this,"EditAppItem_Change",0);
this.EditAppItem.Close();
this.jRoot.append(this.EditAppItem.jRoot);
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.Open_Sub=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Get_Return").TableDesign__AppProperties__Get(this.get_ViewModel().TableId,false);
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.Get_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.UIItems=[];
var b=this.jF(".Holder_UIItems").html("");
for(var c=0;
c<this.get_Model().Columns.length;
c++){this.UIItems[c]=new ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI();
this.UIItems[c].set_ViewModel(this.get_ViewModel());
this.UIItems[c].set_Model(this.get_Model().Columns[c]);
this.UIItems[c].Instantiate();
this.UIItems[c].OnChange.After.AddHandler(this,"UIItem_Click",1);
b.append(this.UIItems[c].jRoot);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.UIItem_Click=function(a){this.EditAppItem.set_Model(a);
this.EditAppItem.ParentModel=this.get_Model();
this.EditAppItem.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.EditAppItem_Change=function(){this.jF(".Holder_UIItems").html();
var b=this.EditAppItem.get_Model();
if(this.get_Model().DropdownListItems==null){this.get_Model().DropdownListItems=[];
}var c=null;
for(var a=0;
a<this.get_Model().DropdownListItems.length;
a++){if(ASPdb.FrameworkUI.st.New(this.get_Model().DropdownListItems[a].ColumnName).ToLower().Trim().TheString==ASPdb.FrameworkUI.st.New(b.ColumnName).ToLower().Trim().TheString){c=this.get_Model().DropdownListItems[a];
}}if(c==null){c=new ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Objs.DropdownList();
this.get_Model().DropdownListItems[this.get_Model().DropdownListItems.length]=c;
}c.ColumnName=b.ColumnName;
c.Items=this.EditAppItem.GetDropdownValues();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__AppProperties__Save(this.get_ViewModel().TableId,this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.Save_Return=function(a){this.EditAppItem.Close();
ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a);
this.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.GetCssRoot=function(){return"\r\n                .AppPropertiesPanel { width: 100%; position:relative; padding-top: 37px; }\r\n                .AppPropertiesPanel .TopColorBar { position:absolute; top: -1px; width: inherit; min-width: 200px; height: 8px; background: #173a67; margin-bottom: 35px; }\r\n\r\n                .AppPropertiesPanel .ScrollArea { overflow-y:auto; padding-right: 5px; }\r\n\r\n                .AppPropertiesPanel .Holder_UIItems { border-top: 1px solid #888; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopColorBar'></div>\r\n\r\n                <div class='ScrollArea AutoResize'>\r\n                    <table class='Holder_UIItems'></table>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties)=="undefined"){ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties={};
}if(typeof(ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Objs={};
}ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Objs.AppPropertiesItem=function(){this.Index=0;
this.ColumnName=null;
this.DataType_Name=null;
this.IsPrimaryKey=false;
this.IsIdentity=false;
this.AppColumnType=1;
this.AppColumnType_Str=null;
this.AdditionalInfo=null;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Objs.DropdownList=function(){this.ColumnName=null;
this.Items=null;
};
if(typeof(ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts)=="undefined"){ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts={};
}ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='AppPropertyItemUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.prototype.Click=function(){this.OnChange.After.Fire1(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.GetCssRoot=function(){return"\r\n                .AppPropertyItemUI { border-bottom: 1px solid #888; cursor:pointer; }\r\n                .AppPropertyItemUI:hover { background: #ccc; }\r\n                .AppPropertyItemUI td { padding: 0em 1.5em; line-height: 1.8em; }\r\n                .AppPropertyItemUI td .Smaller { font-size: .75em; color: #999; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI.prototype.GetHtmlRoot=function(){return"\r\n                <td On_Click='Click'><div ModelKey='Index'             class=''       ></div></td>\r\n                <td On_Click='Click'><div ModelKey='ColumnName'        class=''       ></div></td>\r\n                <td On_Click='Click'><div ModelKey='DataType_Name'     class='Smaller'></div></td>\r\n                <td On_Click='Click'><div ModelKey='AppColumnType_Str' class='Smaller'></div></td>\r\n                <td On_Click='Click'><div ModelKey='AdditionalInfo'    class='Smaller'></div></td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.AppPropertyItemUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem=function(){this.Temp_AppColumnType=1;
this.ParentModel=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='EditAppItem jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.Open_Sub=function(){this.BindUI();
this.jF(".ModBox").show();
this.Temp_AppColumnType=this.get_Model().AppColumnType;
if(this.get_Model().IsPrimaryKey){this.jF(".Radio1b").hide();
}else{this.jF(".Radio1b").show();
}var c=null;
if(this.ParentModel.DropdownListItems!=null){for(var a=0;
a<this.ParentModel.DropdownListItems.length;
a++){if(ASPdb.FrameworkUI.st.New(this.ParentModel.DropdownListItems[a].ColumnName).ToLower().Trim().TheString==ASPdb.FrameworkUI.st.New(this.get_Model().ColumnName).ToLower().Trim().TheString){c=this.ParentModel.DropdownListItems[a];
}}}var b="";
if(c!=null){for(var a=0;
a<c.Items.length;
a++){if(a>0){b+="\n"+c.Items[a];
}else{b+=c.Items[a];
}}}this.jF(".TextArea1").val(b);
switch(this.get_Model().AppColumnType){case 1:this.AppColumnType_Click_Default();
break;
case 2:this.AppColumnType_Click_DropdownList();
break;
}};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.Click_Save=function(){this.jF(".ModBox").hide();
this.get_Model().AppColumnType=this.Temp_AppColumnType;
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.GetDropdownValues=function(){var b=ASPdb.FrameworkUI.st.New(this.jF(".TextArea1").val());
var a=b.Split("\n",false);
var d=[];
for(var c=0;
c<a.length;
c++){d[c]=a[c].TheString;
}return d;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.AppColumnType_Click_Default=function(){this.jF(".Radio_AppColumnType_Default").prop("checked",true);
this.jF(".DropdownListDiv").hide();
this.Temp_AppColumnType=1;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.AppColumnType_Click_DropdownList=function(){this.jF(".Radio_AppColumnType_DropdownList").prop("checked",true);
this.jF(".DropdownListDiv").show();
this.Temp_AppColumnType=2;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.GetCssRoot=function(){return"\r\n                .EditAppItem { }\r\n                .EditAppItem .Div_BG { background: #464f5b; opacity: 0.65; position:fixed; width: 100%; height: 8000px; top: 0px; left: 0px; z-index: 999; }\r\n                .EditAppItem .ModBox { position:absolute; top: 1.5em; left: 0.5em; width: 40em; min-height: 10em; padding: 1em; background: #fff; box-shadow: .05em .05em .4em #000; z-index: 1000; }\r\n                .EditAppItem .ModBox .Bttn { font-size: .9em; float:left; cursor:pointer; margin-right: 1em; padding: .5em 1.5em; background: #14498f; color: #fff; }\r\n                .EditAppItem .ModBox .Bttn:hover { background: #333; }\r\n                .EditAppItem .ModBox .Radio1 { cursor:pointer; padding: .2em .4em; }\r\n                .EditAppItem .ModBox .Radio1:hover { background: #0b94da; color: #fff; }\r\n\r\n                .EditAppItem .ModBox .DropdownListDiv { display:none; }\r\n                .EditAppItem .ModBox .DropdownListDiv .TextArea1 { width: 24em; height: 14em; margin-top: .5em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Div_BG NoSelect' On_Click='Close'>&nbsp;</div>\r\n                <div class='ModBox'>\r\n                    <div class='Bttn' On_Click='Click_Save'>Save</div>\r\n                    <div class='Bttn' On_Click='Close'     >Cancel</div>\r\n                    <div class='clear'></div>\r\n                    <br />\r\n                    Custom App Properties : <span ModelKey='ColumnName'></span>\r\n                    <br />\r\n                    <br />\r\n                    <div On_Click='AppColumnType_Click_Default'      class='Radio1        '><input type='radio' name='AppColumnType' value='Default'      class='Radio_AppColumnType_Default'      /> Default</div>\r\n                    <div On_Click='AppColumnType_Click_DropdownList' class='Radio1 Radio1b'><input type='radio' name='AppColumnType' value='DropdownList' class='Radio_AppColumnType_DropdownList' /> DropdownList</div>\r\n                    <br />\r\n                    <div class='DropdownListDiv'>\r\n                        Set the list of Dropdown values here. <br />\r\n                        Put each value on a new line.\r\n                        <br />\r\n                        <textarea class='TextArea1'></textarea>\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.UIParts.EditAppItem,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector=function(){this.TypeSelectorItems=null;
this.MouseIsOver=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ColumnsRow_TypeSelector jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var thisObj=this;
var jRootObj=this.jRoot;
eval("jRootObj.mouseover(function(){ thisObj.MouseIsOver = true; });");
eval("jRootObj.mouseout(function(){ thisObj.MouseIsOver = false; });");
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.prototype.Open_Sub=function(){if(this.TypeSelectorItems==null){var c=["int","bit","datetime","--","nvarchar(50)","ntext","--","decimal(18, 0)","float","money","--"];
if(this.get_ViewModel().IsCreateNew){c=["int - Identity(1,1)","--","int","bit","datetime","--","nvarchar(50)","ntext","--","decimal(18, 0)","float","money","--"];
}this.TypeSelectorItems=[];
var a=this.jF(".Holder_Items").html("");
for(var b=0;
b<c.length;
b++){this.TypeSelectorItems[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem();
this.TypeSelectorItems[b].set_Model(c[b]);
this.TypeSelectorItems[b].Instantiate();
this.TypeSelectorItems[b].OnChange.After.AddHandler(this,"Item_OnChange",1);
a.append(this.TypeSelectorItems[b].jRoot);
}}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.prototype.DelayClose=function(){var thisObj=this;
if(this.MouseIsOver){eval("setTimeout(function(){ thisObj.Close(); }, 150);");
}else{this.Close();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.prototype.Item_OnChange=function(a){this.set_Model(a);
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.GetCssRoot=function(){return"\r\n                .ColumnsRow_TypeSelector { width: 10em; background: #f5f5f5; border: 1px solid #99bbf2; box-shadow: 1px 1px 5px #555; }\r\n                .ColumnsRow_TypeSelector .Holder_Items { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Holder_Items'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ColumnsRow_TypeSelectorItem jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
if(this.get_Model()!="--"){this.jF(".ItemTS").html(this.get_Model());
}else{this.jF(".ItemTS").hide();
this.jF(".Divider").show();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.prototype.ItemTS_Click=function(){this.OnChange.After.Fire1(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.GetCssRoot=function(){return"\r\n                .ColumnsRow_TypeSelectorItem { }\r\n                .ColumnsRow_TypeSelectorItem .ItemTS { font-size: .8em; padding-left: .65em; cursor: pointer; }\r\n                .ColumnsRow_TypeSelectorItem .ItemTS:hover { background: #397bd2; color: #fff; }\r\n                .ColumnsRow_TypeSelectorItem .Divider { display:none; background: #dedede; line-height: .8em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem.prototype.GetHtmlRoot=function(){return"\r\n                <div class='ItemTS' On_Click='ItemTS_Click'></div>\r\n                <div class='Divider'>&nbsp;</div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelectorItem,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Objs.AppPropertiesInfo=function(){this.Columns=null;
this.DropdownListItems=null;
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow=function(){this.ColumnInfo=null;
this.IsIdentity=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='PrimaryKeyRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
if(this.get_Model().Identity!=null){this.IsIdentity=true;
this.jF(".Txt_Increment").val(this.get_Model().Identity.Increment);
this.jF(".Txt_Seed").val(this.get_Model().Identity.Seed);
}var thisObj=this;
var jRootObj=this.jRoot;
eval("jRootObj.find('.Txt_Seed').on('input', function(){ thisObj.IdentityPropertyChanged(); });");
eval("jRootObj.find('.Txt_Increment').on('input', function(){ thisObj.IdentityPropertyChanged(); });");
this.UpdateUI();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.IdentityPropertyChanged=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.UpdateUI=function(){this.ColumnInfo=null;
var a=this.get_ViewModel().TableStructure.Columns;
for(var c=0;
c<a.length;
c++){if(a[c].ColumnName.toLowerCase()==this.get_Model().ColumnName.toLowerCase()){this.ColumnInfo=a[c];
c=a.length+1;
}}var d=this.jF(".Select_PrimaryKeyFields").html("<option value=''></option>");
for(var c=0;
c<a.length;
c++){var e=a[c].ColumnName;
d.append("<option value='"+e+"'>"+e+"</option>");
}d.val(this.get_Model().ColumnName);
var b="";
if(this.ColumnInfo!=null){b=this.ColumnInfo.DataType;
}this.jF(".Txt_DataType").html(b);
this.HideIdentityUI();
if(b=="int"){this.jF(".Div_IsIdentity").show();
if(this.IsIdentity){this.jF(".Div_IsIdentity").addClass("Div_IsIdentity_On");
this.jF(".Checkbox_IsIdentity").attr("checked",true);
this.jF(".Div_IdentityProperties").show();
}else{this.jF(".Div_IsIdentity").removeClass("Div_IsIdentity_On");
this.jF(".Checkbox_IsIdentity").removeAttr("checked");
this.jF(".Div_IdentityProperties").hide();
}}};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.HasValue=function(){var a=this.jF(".Select_PrimaryKeyFields").val();
if(a!=null&&a!=""){return true;
}return false;
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.HideIdentityUI=function(){this.jF(".Div_IsIdentity").hide();
this.jF(".Div_IdentityProperties").hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.ShowIdentityUI=function(){if(this.ColumnInfo!=null){if(this.ColumnInfo.DataType=="int"){this.IsIdentity=false;
this.UpdateUI();
}}};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.GetModel=function(){if(!this.HasValue()){return null;
}var c=new ASPdatabaseNET.DbInterfaces.TableObjects.PrimaryKeyColumn();
c.ColumnName=this.jF(".Select_PrimaryKeyFields").val();
c.Identity=null;
if(this.IsIdentity){var b=1;
var d=1;
try{b=1*this.jF(".Txt_Increment").val();
d=1*this.jF(".Txt_Seed").val();
}catch(a){}c.Identity=new ASPdatabaseNET.DbInterfaces.TableObjects.Identity();
c.Identity.ConnectionId=this.get_ViewModel().ConnectionId;
c.Identity.Schema=this.get_ViewModel().TableStructure.Schema;
c.Identity.TableName=this.get_ViewModel().TableStructure.TableName;
c.Identity.ColumnName=c.ColumnName;
c.Identity.Increment=b;
c.Identity.Seed=d;
}return c;
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.Select_PrimaryKeyFields_Change=function(){this.get_Model().ColumnName=this.jF(".Select_PrimaryKeyFields").val();
this.UpdateUI();
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.Div_IsIdentity_Click=function(){this.IsIdentity=!this.IsIdentity;
this.UpdateUI();
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.GetCssRoot=function(){return"\r\n                .PrimaryKeyRow { }\r\n                .PrimaryKeyRow td { line-height: 3em; background: #e5e5ea; border-bottom: .3em solid #fff; padding-left: 1em; }\r\n                .PrimaryKeyRow .PKTD1 { width: 14.5em; }\r\n                .PrimaryKeyRow .PKTD2 { font-size: .8em; width: 8em; padding-top: .3em; color: #777; }\r\n                .PrimaryKeyRow .PKTD3 { width: 6em; }\r\n                .PrimaryKeyRow .PKTD4 { width: 15em; font-size: .8em; line-height: 1.5em; padding-right: 1em; }\r\n\r\n                .PrimaryKeyRow .Select_PrimaryKeyFields { font-size: .85em; width: 16em; }\r\n\r\n                .PrimaryKeyRow .Div_IsIdentity { font-size: .8em; margin-top: 0.5em; padding: 0em .7em; line-height: 2.65625em; cursor:pointer; }\r\n                .PrimaryKeyRow .Div_IsIdentity:hover { background: #b4b4b4; color: #fff; }\r\n                .PrimaryKeyRow .Div_IsIdentity_On { background: #859dc0; color: #fff; }\r\n                .PrimaryKeyRow .Div_IsIdentity .Checkbox_IsIdentity { }\r\n\r\n                .PrimaryKeyRow .Div_IdentityProperties { margin-top: .2em; }\r\n                .PrimaryKeyRow .Div_IdentityProperties input { width: 3em; border: 1px solid #859dc0; text-align:center; margin: .2em 0em; padding: 0em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='PKTD1'>\r\n                    <select class='Select_PrimaryKeyFields' On_Change='Select_PrimaryKeyFields_Change'></select>\r\n                </td>\r\n                <td class='PKTD2 Txt_DataType'>\r\n                </td>\r\n                <td class='PKTD3'>\r\n                    <div class='Div_IsIdentity' On_Click='Div_IsIdentity_Click'>\r\n                        <input type='checkbox' class='Checkbox_IsIdentity' />\r\n                        Identity\r\n                    </div>\r\n                </td>\r\n                <td class='PKTD4'>\r\n                    <div class='Div_IdentityProperties'>\r\n                        <input type='text' class='Txt_Seed' value='1' /> Identity Seed\r\n                        <br />\r\n                        <input type='text' class='Txt_Increment' value='1' /> Identity Increment\r\n                        <br />\r\n                    </div>\r\n                </td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Users)=="undefined"){ASPdatabaseNET.UI.PageParts.Users={};
}ASPdatabaseNET.UI.PageParts.Users.MenuItemUI=function(){this.IsOn=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='MenuItemUI jRoot'>");
this.jRoot.append(this.get_Model().DisplayName);
var t=this;
var j=this.jRoot;
eval("j.click(function(){ t.Click(); });");
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.prototype.TurnOn=function(){this.jRoot.addClass("MenuItemUI_On");
this.IsOn=true;
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.prototype.TurnOff=function(){this.jRoot.removeClass("MenuItemUI_On");
this.IsOn=false;
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.prototype.Click=function(){this.OnChange.After.Fire1(this);
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.GetCssRoot=function(){return"\r\n                .MenuItemUI { border-bottom: 1px solid #f9f9f9; line-height: 2.2em; cursor: pointer; font-size: .75em; padding: 0em .5em; white-space:nowrap; }\r\n                .MenuItemUI:hover { background: #777; color: #ccc; }\r\n                .MenuItemUI b { font-weight:normal; color: #1161ca; }\r\n                .MenuItemUI:hover b { color: #c3daf8; }\r\n                .MenuItemUI_On { background: #555; color: #ddd; }\r\n                .MenuItemUI_On b { color: #c3daf8; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.prototype.GetHtmlRoot=function(){return"\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.MenuItemUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Users.Objs)=="undefined"){ASPdatabaseNET.UI.PageParts.Users.Objs={};
}ASPdatabaseNET.UI.PageParts.Users.Objs.GroupInfo=function(){this.GroupId=0;
this.GroupName=null;
this.Active=false;
this.TimeCreated_Str=null;
this.Permissions=null;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.Permission=function(){this.PermissionType=0;
this.PermissionId=0;
this.GroupId=0;
this.ConnectionId=0;
this.ConnectionName=null;
this.Schema=null;
this.TableId=0;
this.TableName=null;
this.View=false;
this.Edit=false;
this.Insert=false;
this.Delete=false;
this.SubPermissions=null;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.Permission=function(c,b,a){this.PermissionType=0;
this.PermissionId=0;
this.GroupId=0;
this.ConnectionId=0;
this.ConnectionName=null;
this.Schema=null;
this.TableId=0;
this.TableName=null;
this.View=false;
this.Edit=false;
this.Insert=false;
this.Delete=false;
this.SubPermissions=null;
this.PermissionType=c;
this.PermissionId=b;
this.GroupId=a;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.Permission.prototype.Set_PermissionType=function(a){this.PermissionType=0;
switch(a){case"C":this.PermissionType=1;
break;
case"S":this.PermissionType=2;
break;
case"T":this.PermissionType=3;
break;
}};
ASPdatabaseNET.UI.PageParts.Users.Objs.Permission.prototype.Get_UniqueKey=function(){var a=null;
switch(this.PermissionType){case 1:a="C_"+this.ConnectionId;
break;
case 2:a="S_"+this.ConnectionId+"_["+this.Schema+"]";
break;
case 3:a="T_"+this.ConnectionId+"_["+this.Schema+"]_["+this.TableId+"]";
break;
}return a;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.Permission.prototype.IsEqual=function(a){if(this.PermissionType!=a.PermissionType){return false;
}if(this.GroupId!=a.GroupId){return false;
}if(this.ConnectionId!=a.ConnectionId){return false;
}if(this.Schema!=a.Schema){return false;
}if(this.TableId!=a.TableId){return false;
}if(this.View!=a.View){return false;
}if(this.Edit!=a.Edit){return false;
}if(this.Insert!=a.Insert){return false;
}if(this.Delete!=a.Delete){return false;
}return true;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.UserInfo=function(){this.UserId=0;
this.Username=null;
this.FirstName=null;
this.LastName=null;
this.Email=null;
this.Active=false;
this.TimeCreated_Str=null;
this.LastLoginTime_Str=null;
this.RequirePasswordReset=false;
this.IsAdmin=false;
this.UserGroups=null;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.UsersMenuInfo=function(){this.UserSubscriptions_Total=0;
this.UserSubscriptions_Active=0;
this.UserSubscriptions_Message="";
this.Users_Active=null;
this.Users_Inactive=null;
this.Groups_Active=null;
this.Groups_Inactive=null;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.UsersMenuItem=function(){this.MenuType=0;
this.Id=-1;
this.DisplayName=null;
this.Active=false;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.UsersViewModel=function(){this.CurrentId=-1;
this.SaveJustHappened=false;
this.CurrentTabId=-1;
this.LastMenuItem=null;
};
ASPdatabaseNET.UI.PageParts.Users.Objs.UserToGroup_Assignment=function(){this.UserId=0;
this.GroupId=0;
this.GroupName=null;
this.IsMember=false;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI=function(){this.ConnectionItems=null;
this.PermissionItems=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Panel_GroupUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.Open_Sub=function(){this.jF(".Left").hide();
this.jF(".Right").hide();
this.jF(".TablePermissionsTable").hide();
this.jF(".Loading").show();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetGroup_Return").Users__GetGroup(this.get_ViewModel().CurrentId);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.GetGroup_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.BindUI();
this.get_Model().Active=!this.get_Model().Active;
this.ActiveBttn_Click();
var b=this.jF(".Holder_ConnectionItems").html("");
this.ConnectionItems=[];
if(this.get_Model().Permissions!=null){for(var c=0;
c<this.get_Model().Permissions.length;
c++){this.ConnectionItems[c]=new ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem();
this.ConnectionItems[c].set_ViewModel(this.get_ViewModel());
this.ConnectionItems[c].set_Model(this.get_Model().Permissions[c]);
this.ConnectionItems[c].Instantiate();
this.ConnectionItems[c].OnChange.After.AddHandler(this,"ConnectionItem_Click",1);
b.append(this.ConnectionItems[c].jRoot);
}}this.jF(".Holder_PermissionItems").html("");
this.PermissionItems=[];
this.jF(".Loading").hide();
this.jF(".Left").show();
this.jF(".Right").show();
this.jF(".TablePermissionsTable").show();
if(this.get_Model().GroupId<0){this.jF(".GroupId").html("");
}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.SaveBttn_Click=function(){this.get_Model().GroupName=this.jF(".T_GroupName").val();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"SaveGroup_Return").Users__SaveGroup(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.SaveGroup_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().CurrentId=a.ReturnObj;
this.OnChange.After.Fire();
alert("Saved");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.DeleteBttn_Click=function(){if(prompt('Are you certain? \n\nIf so, type "delete group"')=="delete group"){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"DeleteGroup_Return").Users__DeleteGroup(this.get_Model().GroupId);
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.DeleteGroup_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().CurrentId=-1;
this.get_Model().GroupId=-1;
this.Close();
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.CancelBttn_Click=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.ActiveBttn_Click=function(){this.get_Model().Active=!this.get_Model().Active;
if(this.get_Model().Active){this.jF(".ActiveBttn").addClass("ActiveBttn_On");
this.jF(".C_Active").attr("checked",true);
}else{this.jF(".ActiveBttn").removeClass("ActiveBttn_On");
this.jF(".C_Active").removeAttr("checked");
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.ConnectionItem_Click=function(a){for(var d=0;
d<this.ConnectionItems.length;
d++){this.ConnectionItems[d].RemoveClass__Item_On();
}var b=null;
for(var d=0;
d<this.get_Model().Permissions.length;
d++){if(this.get_Model().Permissions[d].ConnectionId==a.get_Model().ConnectionId){b=this.get_Model().Permissions[d];
}}var c=this.jF(".Holder_PermissionItems").html("");
this.PermissionItems=[];
if(b!=null){var d=0;
this.PermissionItems[d]=new ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem();
this.PermissionItems[d].set_Model(b);
d++;
if(b.SubPermissions!=null){for(var e=0;
e<b.SubPermissions.length;
e++){this.PermissionItems[d]=new ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem();
this.PermissionItems[d].set_Model(b.SubPermissions[e]);
d++;
if(b.SubPermissions[e].SubPermissions!=null){for(var f=0;
f<b.SubPermissions[e].SubPermissions.length;
f++){this.PermissionItems[d]=new ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem();
this.PermissionItems[d].set_Model(b.SubPermissions[e].SubPermissions[f]);
d++;
}}}}}for(var d=0;
d<this.PermissionItems.length;
d++){this.PermissionItems[d].set_ViewModel(this.get_ViewModel());
this.PermissionItems[d].Instantiate();
c.append(this.PermissionItems[d].jRoot);
}c.scrollTop(0);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.GetCssRoot=function(){return"\r\n                .Panel_GroupUI { }\r\n\r\n                .Panel_GroupUI .MainForm { margin-top: 2.1875em; padding: 0em 1.4em; background: #f8f8f8; border-left: 1px solid #fff; }\r\n                .Panel_GroupUI .MainForm .Loading {  line-height: 3.25em; text-align: center; color: #777; }\r\n                .Panel_GroupUI .MainForm .Left {  display:none; float:left; width: 13em; }\r\n                .Panel_GroupUI .MainForm .Right { display:none; float:right; width: 16em; }\r\n                \r\n                .Panel_GroupUI .MainForm .ActiveBttn { font-size: .8em; position:relative; height: 2.265625em; color: #a1a1a1; cursor:pointer; }\r\n                .Panel_GroupUI .MainForm .ActiveBttn:hover { background: #6a6e73; color: #fff; }\r\n                .Panel_GroupUI .MainForm .ActiveBttn_On { background: #eb640a; color: #fff; }\r\n                .Panel_GroupUI .MainForm .ActiveBttn input { position:absolute; top: 0.625em; left: 1.25em; }\r\n                .Panel_GroupUI .MainForm .ActiveBttn span { position:absolute; top: 0.46875em; left: 3.75em; }\r\n\r\n                .Panel_GroupUI .MainForm .Label0 { font-size: .7em; line-height: 1.3em; color: #a1a1a1; }\r\n                .Panel_GroupUI .MainForm .Label1 { font-size: .7em; line-height: 2.25em; color: #a1a1a1; }\r\n                .Panel_GroupUI .MainForm .Label1 span { color: #1161ca; }\r\n                \r\n                .Panel_GroupUI .MainForm .Label2 { font-size: .8em; line-height: 1.484375em; color: #a1a1a1; margin-top: 1.2em; }\r\n                \r\n                .Panel_GroupUI .MainForm input[type=text] { font-size: .9em; width: 13.944444em; border: 1px solid #3d7bcc; background: #fff; color: #3d7bcc; margin-bottom: 1.1em; line-height: 1.5em; padding: .25em; }\r\n                \r\n                .Panel_GroupUI .MainForm .BttnsTable { width: 100%; }\r\n                .Panel_GroupUI .MainForm .BttnsTable td { font-size: .8em; width: 33%; text-align:center; line-height: 2.265625em; color: #fff; cursor:pointer; }\r\n                .Panel_GroupUI .MainForm .BttnsTable .SaveBttn { background: #14498f; }\r\n                .Panel_GroupUI .MainForm .BttnsTable .SaveBttn:hover { background: #6a6e73; }\r\n                .Panel_GroupUI .MainForm .BttnsTable .Bttn1 { background: #3d7bcc; border-left: 1px solid #fff; }\r\n                .Panel_GroupUI .MainForm .BttnsTable .Bttn1:hover { background: #6a6e73; }\r\n\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable { width: 100%; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable td { }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td1 { font-size: .8em; color: #a1a1a1; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td2 { font-size: .8em; color: #a1a1a1; padding: 0em 2em 0em .8em; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td3 { background: #fff; border-top: 1px solid #aac5e9; width: 10.75em; border-right: 0.25em solid #f8f8f8; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td4 { background: #fff; border-top: 1px solid #aac5e9; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td2 .RightLabel { float: right; font-size: .7em; width: 4.1em; text-align:center; color: #333; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td3 .Holder_ConnectionItems { min-height: 8em; }\r\n                .Panel_GroupUI .MainForm .TablePermissionsTable .Td4 .Holder_PermissionItems { }\r\n                .Panel_GroupUI .MainForm .MarginBottom { line-height: 0.6875em; }\r\n                \r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='MainForm'>\r\n                    <div class='Loading'>Loading . . .</div>\r\n                    <div class='Left'>\r\n                        <div class='ActiveBttn' On_Click='ActiveBttn_Click'>\r\n                            <input type='checkbox' class='C_Active' />\r\n                            <span>Active</span>\r\n                            &nbsp;\r\n                        </div>\r\n                        <div class='Label2'>Group Name</div>\r\n                        <input type='text' class='T_GroupName' ModelKey='GroupName' />\r\n                    </div>\r\n                    <div class='Right'>\r\n                        <table class='BttnsTable'><tr>\r\n                            <td class='SaveBttn'   On_Click='SaveBttn_Click'  >Save</td>\r\n                            <td class='Bttn1'      On_Click='DeleteBttn_Click'>Delete</td>\r\n                            <td class='Bttn1'      On_Click='CancelBttn_Click'>Cancel</td>\r\n                        </tr></table>\r\n                        <div class='Label0'>&nbsp;</div>\r\n                        <div class='Label1'>GroupId : <span class='GroupId' ModelKey='GroupId'></span></div>\r\n                        <div class='Label1'>Time Created : <span ModelKey='TimeCreated_Str'></span></div>\r\n                    </div>\r\n                    <div class='clear'></div>\r\n                    <table class='TablePermissionsTable'>\r\n                        <tr>\r\n                            <td class='Td1'>Connections</td>\r\n                            <td class='Td2'>\r\n                                Permissions\r\n                                <div class='RightLabel'>Delete</div>\r\n                                <div class='RightLabel'>Insert</div>\r\n                                <div class='RightLabel'>Edit</div>\r\n                                <div class='RightLabel'>View</div>\r\n                                <div class='clear'></div>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td class='Td3'>\r\n                                <div class='Holder_ConnectionItems'></div>\r\n                            </td>\r\n                            <td class='Td4'>\r\n                                <div class='Holder_PermissionItems AutoResize'></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                    <div class='MarginBottom'>&nbsp;</div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Panel_GroupUI_ConnectionItem jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
this.jF(".Item").attr("title",this.get_Model().ConnectionName+" (Id: "+this.get_Model().ConnectionId+")");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.prototype.Click=function(){this.OnChange.After.Fire1(this);
this.jF(".Item").addClass("Item_On");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.prototype.RemoveClass__Item_On=function(){this.jF(".Item").removeClass("Item_On");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.GetCssRoot=function(){return"\r\n                .Panel_GroupUI_ConnectionItem { border-bottom: 1px solid #aac5e9; }\r\n                .Panel_GroupUI_ConnectionItem .Item { font-size: .7em; padding-left: .6em; line-height: 1.7857em; overflow:hidden; white-space:nowrap; color: #14498f; cursor:pointer; }\r\n                .Panel_GroupUI_ConnectionItem .Item:hover { background: #14498f; color: #fff; }\r\n                .Panel_GroupUI_ConnectionItem .Item_On { background: #dee9f6; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Item' ModelKey='ConnectionName' On_Click='Click'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_ConnectionItem,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Panel_GroupUI_PermissionItem jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var c="";
var b="";
var a="";
var d="";
switch(this.get_Model().PermissionType){case 1:c=this.get_Model().ConnectionName;
b="Item_C";
a="Holder_C";
d="CONNECTION : "+c;
break;
case 2:c=this.get_Model().Schema;
b="Item_S";
a="Holder_S";
d="SCHEMA : "+c;
break;
case 3:c=this.get_Model().TableName;
b="Item_T";
a="Holder_T";
d="TABLE : "+c;
break;
}this.jF(".Item").html(c).addClass(b).attr("title",d);
this.jF(".Holder_Checkboxes").addClass(a);
this.Click_HELPER(this.get_Model().View,"View");
this.Click_HELPER(this.get_Model().Edit,"Edit");
this.Click_HELPER(this.get_Model().Insert,"Insert");
this.Click_HELPER(this.get_Model().Delete,"Delete");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.Click_HELPER=function(a,b){if(a){this.jF(".Div_"+b).addClass("DivItem_On");
this.jF(".C_"+b).attr("checked",true);
}else{this.jF(".Div_"+b).removeClass("DivItem_On");
this.jF(".C_"+b).removeAttr("checked");
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.Click_View=function(){this.get_Model().View=!this.get_Model().View;
this.Click_HELPER(this.get_Model().View,"View");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.Click_Edit=function(){this.get_Model().Edit=!this.get_Model().Edit;
this.Click_HELPER(this.get_Model().Edit,"Edit");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.Click_Insert=function(){this.get_Model().Insert=!this.get_Model().Insert;
this.Click_HELPER(this.get_Model().Insert,"Insert");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.Click_Delete=function(){this.get_Model().Delete=!this.get_Model().Delete;
this.Click_HELPER(this.get_Model().Delete,"Delete");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.GetCssRoot=function(){return"\r\n                .Panel_GroupUI_PermissionItem { position:relative; border-bottom: 1px solid #aac5e9; }\r\n                .Panel_GroupUI_PermissionItem .Item { font-size: .7em; padding-left: .6em; line-height: 1.7857em; overflow:hidden; white-space:nowrap; color: #14498f; }\r\n                .Panel_GroupUI_PermissionItem .Item_C { background: #dee9f6; padding-left: 0.6em; }\r\n                .Panel_GroupUI_PermissionItem .Item_S { background: #fdfcd7; padding-left: 1.2em; }\r\n                .Panel_GroupUI_PermissionItem .Item_T { background: #fff;    padding-left: 1.8em; color: #3d7bcc; }\r\n\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes { position:absolute; top: 0em; left: 10.5em; }\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .DivItem { float:left; width: 2.25em; text-align:center; cursor:pointer; padding-top: 0em; border-right: 1px solid #fff; }\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .DivItem:hover { background: #4d8cde; }\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .DivItem input { cursor:pointer; }\r\n\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .Div_View { border-left: 1px solid #fff; }\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .Div_Edit { }\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .Div_Insert { }\r\n                .Panel_GroupUI_PermissionItem .Holder_Checkboxes .Div_Delete { }\r\n\r\n                .Panel_GroupUI_PermissionItem .Holder_C .DivItem  { background: #dee9f6; }\r\n                .Panel_GroupUI_PermissionItem .Holder_S .DivItem  { background: #fdfcd7; }\r\n                .Panel_GroupUI_PermissionItem .Holder_T .DivItem  { background: #fff;    }\r\n\r\n                .Panel_GroupUI_PermissionItem .Holder_C .DivItem_On  { background: #8eb8ee; }\r\n                .Panel_GroupUI_PermissionItem .Holder_S .DivItem_On  { background: #8eb8ee; }\r\n                .Panel_GroupUI_PermissionItem .Holder_T .DivItem_On  { background: #8eb8ee; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Item'></div>\r\n                <div class='Holder_Checkboxes'>\r\n                    <div class='DivItem Div_View'   On_Click='Click_View'  ><input type='checkbox' class='C_View'   /></div>\r\n                    <div class='DivItem Div_Edit'   On_Click='Click_Edit'  ><input type='checkbox' class='C_Edit'   /></div>\r\n                    <div class='DivItem Div_Insert' On_Click='Click_Insert'><input type='checkbox' class='C_Insert' /></div>\r\n                    <div class='DivItem Div_Delete' On_Click='Click_Delete'><input type='checkbox' class='C_Delete' /></div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI_PermissionItem,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI=function(){this.ResetPasswordUI=null;
this.GroupItems=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Panel_UserUI jRoot AutoResize'>");
this.jRoot.append(this.GetHtmlRoot());
this.ResetPasswordUI=new ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword();
this.ResetPasswordUI.set_ViewModel(this.get_ViewModel());
this.ResetPasswordUI.Instantiate();
this.ResetPasswordUI.Close();
this.ResetPasswordUI.OnClose.After.AddHandler(this,"ResetPasswordUI_Close",0);
this.jF(".Holder_ResetPassword").html("").append(this.ResetPasswordUI.jRoot);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.Open_Sub=function(){if(this.ResetPasswordUI.IsOpen){this.ResetPasswordUI.Close();
}this.jF(".Left").hide();
this.jF(".Right").hide();
this.jF(".Loading").show();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetUser_Return").Users__GetUser(this.get_ViewModel().CurrentId);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.GetUser_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.BindUI();
this.get_Model().Active=!this.get_Model().Active;
this.ActiveBttn_Click();
this.get_Model().IsAdmin=!this.get_Model().IsAdmin;
this.AdminBttn_Click();
var b=this.jF(".Holder_PermissionGroups").html("");
this.GroupItems=[];
if(this.get_Model().UserGroups!=null){for(var c=0;
c<this.get_Model().UserGroups.length;
c++){this.GroupItems[c]=new ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem();
this.GroupItems[c].set_ViewModel(this.get_ViewModel());
this.GroupItems[c].set_Model(this.get_Model().UserGroups[c]);
this.GroupItems[c].Instantiate();
b.append(this.GroupItems[c].jRoot);
}}this.jF(".Loading").hide();
this.jF(".Left").show();
this.jF(".Right").show();
if(this.get_Model().UserId<0){this.jF(".UserId").html("");
this.jF(".ResetPasswordBttn").hide();
}else{this.jF(".ResetPasswordBttn").show();
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.SaveBttn_Click=function(){this.get_Model().Username=this.jF(".T_Username").val();
this.get_Model().Email=this.jF(".T_Email").val();
this.get_Model().FirstName=this.jF(".T_FirstName").val();
this.get_Model().LastName=this.jF(".T_LastName").val();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"SaveUser_Return").Users__SaveUser(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.SaveUser_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().CurrentId=a.ReturnObj;
this.OnChange.After.Fire();
alert("Saved");
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.DeleteBttn_Click=function(){if(prompt('Are you certain? \n\nIf so, type "delete user"')=="delete user"){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"DeleteUser_Return").Users__DeleteUser(this.get_Model().UserId);
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.DeleteUser_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().CurrentId=-1;
this.get_Model().UserId=-1;
this.Close();
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.CancelBttn_Click=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.ActiveBttn_Click=function(){this.get_Model().Active=!this.get_Model().Active;
if(this.get_Model().Active){this.jF(".ActiveBttn").addClass("ActiveBttn_On");
this.jF(".C_Active").attr("checked",true);
}else{this.jF(".ActiveBttn").removeClass("ActiveBttn_On");
this.jF(".C_Active").removeAttr("checked");
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.AdminBttn_Click=function(){this.get_Model().IsAdmin=!this.get_Model().IsAdmin;
if(this.get_Model().IsAdmin){this.jF(".AdminBttn").addClass("AdminBttn_On");
this.jF(".C_Admin").attr("checked",true);
}else{this.jF(".AdminBttn").removeClass("AdminBttn_On");
this.jF(".C_Admin").removeAttr("checked");
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.ResetPasswordBttn_Click=function(){this.jF(".MainForm").hide();
this.ResetPasswordUI.set_Model(this.get_Model());
this.ResetPasswordUI.Open();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.ResetPasswordUI_Close=function(){this.jF(".MainForm").show();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.GetCssRoot=function(){return"\r\n                .Panel_UserUI { }\r\n                .Panel_UserUI .MainForm { margin-top: 2.1875em; padding: 0em 1.4em; background: #f8f8f8; border-left: 1px solid #fff; }\r\n                .Panel_UserUI .MainForm .Loading {  line-height: 3.25em; text-align: center; color: #777; }\r\n                .Panel_UserUI .MainForm .Left {  display:none; float:left; width: 13em; }\r\n                .Panel_UserUI .MainForm .Right { display:none; float:right; width: 16em; }\r\n\r\n                .Panel_UserUI .MainForm .ActiveBttn { font-size: .8em; position:relative; height: 2.265625em; color: #a1a1a1; cursor:pointer; }\r\n                .Panel_UserUI .MainForm .ActiveBttn:hover { background: #6a6e73; color: #fff; }\r\n                .Panel_UserUI .MainForm .ActiveBttn_On { background: #eb640a; color: #fff; }\r\n                .Panel_UserUI .MainForm .ActiveBttn input { position:absolute; top: 0.625em; left: 1.25em; }\r\n                .Panel_UserUI .MainForm .ActiveBttn span { position:absolute; top: 0.46875em; left: 3.75em; }\r\n\r\n                .Panel_UserUI .MainForm .AdminBttn { font-size: .8em; position:relative; height: 2.265625em; color: #a1a1a1; cursor:pointer; margin-top: 1em; }\r\n                .Panel_UserUI .MainForm .AdminBttn:hover { background: #6a6e73; color: #fff; }\r\n                .Panel_UserUI .MainForm .AdminBttn_On { background: #eb640a; color: #fff; }\r\n                .Panel_UserUI .MainForm .AdminBttn input { position:absolute; top: 0.625em; left: 1.25em; }\r\n                .Panel_UserUI .MainForm .AdminBttn span { position:absolute; top: 0.46875em; left: 3.75em; }\r\n\r\n                .Panel_UserUI .MainForm .Label1 { font-size: .8em; line-height: 3.90625em; color: #a1a1a1; }\r\n                .Panel_UserUI .MainForm .Label1 .UserId { color: #1161ca; }\r\n\r\n                .Panel_UserUI .MainForm .Label2 { font-size: .8em; line-height: 1.484375em; color: #a1a1a1; }\r\n\r\n                .Panel_UserUI .MainForm input[type=text] { font-size: .9em; width: 13.944444em; border: 1px solid #3d7bcc; background: #fff; color: #3d7bcc; margin-bottom: 1.1em; line-height: 1.5em; padding: .25em; }\r\n\r\n                .Panel_UserUI .MainForm .ResetPasswordBttn { font-size: .8em; line-height: 2.265625em; background: #3d7bcc; color: #fff; text-align:center; cursor:pointer; margin-bottom: 1.2em; }\r\n                .Panel_UserUI .MainForm .ResetPasswordBttn:hover { background: #6a6e73; }\r\n\r\n                .Panel_UserUI .MainForm .Label3 { font-size: .6em; line-height: 2.5em; color: #a1a1a1; white-space:nowrap; }\r\n                .Panel_UserUI .MainForm .Label3 span { color: #1161ca; }\r\n\r\n                .Panel_UserUI .MainForm .BttnsTable { width: 100%; }\r\n                .Panel_UserUI .MainForm .BttnsTable td { font-size: .8em; width: 33%; text-align:center; line-height: 2.265625em; color: #fff; cursor:pointer; }\r\n                .Panel_UserUI .MainForm .BttnsTable .SaveBttn { background: #14498f; }\r\n                .Panel_UserUI .MainForm .BttnsTable .SaveBttn:hover { background: #6a6e73; }\r\n                .Panel_UserUI .MainForm .BttnsTable .Bttn1 { background: #3d7bcc; border-left: 1px solid #fff; }\r\n                .Panel_UserUI .MainForm .BttnsTable .Bttn1:hover { background: #6a6e73; }\r\n\r\n                .Panel_UserUI .MainForm .Label_PermissionGroups { font-size: 1em; line-height: 1.875em; margin-top: 2.4375em; color: #a1a1a1; }\r\n                .Panel_UserUI .MainForm .Holder_PermissionGroups { border-top: 1px solid #aac5e9; background: #fff; min-height: 21em; margin-bottom: 0.75em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='MainForm'>\r\n                    <div class='Loading'>Loading ...</div>\r\n                    <div class='Left'>\r\n                        <div class='ActiveBttn' On_Click='ActiveBttn_Click'>\r\n                            <input type='checkbox' class='C_Active' />\r\n                            <span>Active</span>\r\n                            &nbsp;\r\n                        </div>\r\n                        <div class='AdminBttn' On_Click='AdminBttn_Click'>\r\n                            <input type='checkbox' class='C_Admin' />\r\n                            <span>Admin</span>\r\n                            &nbsp;\r\n                        </div>\r\n                        <div class='Label1'>UserId : <span class='UserId' ModelKey='UserId'></span></div>\r\n\r\n                        <div class='Label2'>Username</div>\r\n                        <input type='text' class='T_Username' ModelKey='Username' />\r\n\r\n                        <div class='Label2'>Email</div>\r\n                        <input type='text' class='T_Email' ModelKey='Email' />\r\n\r\n                        <div class='Label2'>First Name</div>\r\n                        <input type='text' class='T_FirstName' ModelKey='FirstName' />\r\n\r\n                        <div class='Label2'>Last Name</div>\r\n                        <input type='text' class='T_LastName' ModelKey='LastName' />\r\n\r\n                        <div class='ResetPasswordBttn' On_Click='ResetPasswordBttn_Click'>Reset Password</div>\r\n\r\n                        <div class='Label3'>Time Created : <span ModelKey='TimeCreated_Str'></span></div>\r\n                        <div class='Label3'>Last Login : <span ModelKey='LastLoginTime_Str'></span></div>\r\n                    </div>\r\n                    <div class='Right'>\r\n                        <table class='BttnsTable'><tr>\r\n                            <td class='SaveBttn'   On_Click='SaveBttn_Click'  >Save</td>\r\n                            <td class='Bttn1'      On_Click='DeleteBttn_Click'>Delete</td>\r\n                            <td class='Bttn1'      On_Click='CancelBttn_Click'>Cancel</td>\r\n                        </tr></table>\r\n                        <div class='Label_PermissionGroups'>Permission Groups</div>\r\n                        <div class='Holder_PermissionGroups'></div>\r\n                    </div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='Holder_ResetPassword'>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Panel_UserUI_GroupItem jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
this.get_Model().IsMember=!this.get_Model().IsMember;
this.Click();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.prototype.Click=function(){this.get_Model().IsMember=!this.get_Model().IsMember;
if(this.get_Model().IsMember){this.jF(".Item").addClass("Item_On");
this.jF(".C_IsMember").attr("checked",true);
}else{this.jF(".Item").removeClass("Item_On");
this.jF(".C_IsMember").removeAttr("checked");
}};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.GetCssRoot=function(){return"\r\n                .Panel_UserUI_GroupItem { border-bottom: 1px solid #aac5e9; }\r\n                .Panel_UserUI_GroupItem .Item { position:relative; line-height: 1.625em; padding: 0em 1em 0em 2.5em; overflow:hidden; white-space:nowrap; cursor:pointer; }\r\n                .Panel_UserUI_GroupItem .Item:hover { background: #3d7bcc; color: #fff; }\r\n                .Panel_UserUI_GroupItem .Item_On { background: #dee9f6; }\r\n                .Panel_UserUI_GroupItem .Item input { position:absolute; top: 0.375em; left: .9em; }\r\n                .Panel_UserUI_GroupItem .Item div { font-size: .8em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Item' On_Click='Click'>\r\n                    <div ModelKey='GroupName'></div>\r\n                    <input type='checkbox' class='C_IsMember' />\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_GroupItem,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='Panel_UserUI_ResetPassword jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.prototype.Open_Sub=function(){this.BindUI();
this.jF(".P1").focus();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.prototype.Save_Click=function(){var a=this.jF(".P1").val();
var b=this.jF(".P2").val();
if(a!=b){alert("Passwords don't match.");
this.jF(".P1").focus();
return;
}if(a.length<8){alert("Passwords must be at least 8 characters.");
this.jF(".P1").focus();
return;
}ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"SavePassword_Return").Users__SavePassword(this.get_Model().UserId,a);
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.prototype.SavePassword_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){this.jF(".P1").focus();
return;
}alert("Password Saved");
this.Close();
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.GetCssRoot=function(){return"\r\n                .Panel_UserUI_ResetPassword { width: 13.125em; padding: 2em 0em 0em 3em; }\r\n                .Panel_UserUI_ResetPassword .Head1 { color: #3d7bcc; font-size: 1.5em; margin-bottom: 0.9375em; }\r\n                .Panel_UserUI_ResetPassword .Label1 { font-size: .8em; line-height: 2em; color: #a1a1a1; }\r\n                .Panel_UserUI_ResetPassword .Label1 span { color: #1161ca; }\r\n                .Panel_UserUI_ResetPassword input  { font-size: .9em; width: 13.944444em; border: 1px solid #3d7bcc; background: #fff; color: #3d7bcc; \r\n                                                     margin-bottom: 1.5em; line-height: 1.5em; padding: .25em; }\r\n                .Panel_UserUI_ResetPassword .BttnsTable1 { width: 100%; }\r\n                .Panel_UserUI_ResetPassword .BttnsTable1 td { width: 50%; font-size: .8em; text-align:center; line-height: 2.265625em; color: #fff; cursor:pointer; }\r\n                .Panel_UserUI_ResetPassword .BttnsTable1 .Td1 { background: #14498f; }\r\n                .Panel_UserUI_ResetPassword .BttnsTable1 .Td2 { background: #3d7bcc; border-left: 1px solid #fff; }\r\n                .Panel_UserUI_ResetPassword .BttnsTable1 td:hover { background: #6a6e73; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head1'>Reset Password</div>\r\n                <div class='Label1'>UserId : <span ModelKey='UserId'></span></div>\r\n                <div class='Label1'>Username : <span ModelKey='Username'></span></div>\r\n                <br />\r\n                <div class='Label1'>New Password</div>\r\n                <input type='password' class='P1' />\r\n                <div class='Label1'>Repeat New Password</div>\r\n                <input type='password' class='P2' />\r\n                <table class='BttnsTable1'>\r\n                    <tr>\r\n                        <td class='Td1' On_Click='Save_Click'>Save</td>\r\n                        <td class='Td2' On_Click='Close'>Cancel</td>\r\n                    </tr>\r\n                </table>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI_ResetPassword,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.DataObjects)=="undefined"){ASPdatabaseNET.DataObjects={};
}if(typeof(ASPdatabaseNET.DataObjects.CustomizeView)=="undefined"){ASPdatabaseNET.DataObjects.CustomizeView={};
}ASPdatabaseNET.DataObjects.CustomizeView.CustomizeView_ViewModel=function(){this.Mode=0;
};
if(typeof(ASPdatabaseNET.DataObjects.DatabaseConnections)=="undefined"){ASPdatabaseNET.DataObjects.DatabaseConnections={};
}ASPdatabaseNET.DataObjects.DatabaseConnections.DatabaseConnectionResponse=function(){this.ResponseType=0;
this.ActiveConnections=null;
this.HiddenConnections=null;
this.SingleConnectionInfo=null;
this.SaveSuccess=false;
this.SaveOnSuccess=false;
this.TestConnection_Passed=false;
this.TestConnection_Message="";
this.DeleteSuccess=false;
};
ASPdatabaseNET.DataObjects.DatabaseConnections.DatabaseShortInfo=function(){this.ConnectionId=0;
this.ConnectionName=null;
};
if(typeof(ASPdatabaseNET.DataObjects.ManageAssets)=="undefined"){ASPdatabaseNET.DataObjects.ManageAssets={};
}ASPdatabaseNET.DataObjects.ManageAssets.BasicAssetInfo=function(){this.ConnectionId=-1;
this.AssetType=0;
this.GenericId=-1;
this.Schema="";
this.GenericName="";
this.Active=true;
this.UseSquareBrackets_Schema=false;
this.UseSquareBrackets_GenericName=false;
ASPdatabaseNET.AjaxService.ASPdatabaseService.GetSetVal();
};
ASPdatabaseNET.DataObjects.ManageAssets.BasicAssetInfo=function(a,b){this.ConnectionId=-1;
this.AssetType=0;
this.GenericId=-1;
this.Schema="";
this.GenericName="";
this.Active=true;
this.UseSquareBrackets_Schema=false;
this.UseSquareBrackets_GenericName=false;
ASPdatabaseNET.AjaxService.ASPdatabaseService.GetSetVal();
this.Active=a;
this.AssetType=b;
};
ASPdatabaseNET.DataObjects.ManageAssets.AssetsLists=function(){this.ConnectionId=0;
this.ConnectionName=null;
this.Tables_Active=null;
this.Tables_Hidden=null;
this.AppViews_Active=null;
this.AppViews_Hidden=null;
this.SqlViews_Active=null;
this.SqlViews_Hidden=null;
this.Schemas=null;
};
ASPdatabaseNET.DataObjects.ManageAssets.ManageAssetResponse=function(){this.ResponseType=0;
this.AssetsListsInfo=null;
};
if(typeof(ASPdatabaseNET.DataObjects.Nav)=="undefined"){ASPdatabaseNET.DataObjects.Nav={};
}ASPdatabaseNET.DataObjects.Nav.NavDatabaseInfo=function(){this.ConnectionId=0;
this.ConnectionName=null;
this.Section_Tables=null;
this.Section_Views=null;
this.IsOpen=false;
};
ASPdatabaseNET.DataObjects.Nav.NavSectionInfo=function(){this.SectionType=0;
this.SectionName=null;
this.Items=null;
this.IsOpen=false;
};
ASPdatabaseNET.DataObjects.Nav.NavSectionItemInfo=function(){this.Id=0;
this.Schema=null;
this.Name=null;
this.URL="#";
};
ASPdatabaseNET.DataObjects.Nav.NavSiteInfo=function(){this.Databases=null;
this.IsInDemoMode=false;
};
if(typeof(ASPdatabaseNET.DataObjects.SQLObjects)=="undefined"){ASPdatabaseNET.DataObjects.SQLObjects={};
}ASPdatabaseNET.DataObjects.SQLObjects.ASPdb_Connection=function(){this.ConnectionId=-1;
this.SiteId=1;
this.ConnectionName="";
this.ConnectionType="NotSet";
this.ParametersType="NotSet";
this.Active=true;
this.DateTimeCreated=null;
this.CreatedByUserId=-1;
this.Param_ServerAddress="";
this.Param_DatabaseName="";
this.Param_U="";
this.Param_P="";
this.Param_ConnectionString="";
this.DateTimeCreated_String="";
this.CreatedByUsername="";
this.TableCount=null;
};
ASPdatabaseNET.DataObjects.SQLObjects.ASPdb_Connection.prototype.GetDuplicate=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.GetSetVal();
return(function(){var a=new ASPdatabaseNET.DataObjects.SQLObjects.ASPdb_Connection();
a.ConnectionId=this.ConnectionId;
a.SiteId=this.SiteId;
a.ConnectionName=this.ConnectionName;
a.ConnectionType=this.ConnectionType;
a.ParametersType=this.ParametersType;
a.Active=this.Active;
a.DateTimeCreated=this.DateTimeCreated;
a.DateTimeCreated_String=this.DateTimeCreated_String;
a.CreatedByUserId=this.CreatedByUserId;
a.CreatedByUsername=this.CreatedByUsername;
a.Param_ServerAddress=this.Param_ServerAddress;
a.Param_DatabaseName=this.Param_DatabaseName;
a.Param_U=this.Param_U;
a.Param_P=this.Param_P;
a.Param_ConnectionString=this.Param_ConnectionString;
a.TableCount=this.TableCount;
return a;
}).call(this);
};
if(typeof(ASPdatabaseNET.DataObjects.TableDesign)=="undefined"){ASPdatabaseNET.DataObjects.TableDesign={};
}ASPdatabaseNET.DataObjects.TableDesign.TableDesignResponse=function(){this.ResponseType=0;
this.ConnectionId=0;
this.ConnectionName=null;
this.Schema=null;
this.TableId=0;
this.TableName=null;
this.Schemas=null;
this.AllTables_InDb=null;
this.TableStructure=null;
};
ASPdatabaseNET.DataObjects.TableDesign.TableInfo_Brief=function(){this.ConnectiondId=0;
this.TableId=0;
this.Schema=null;
this.TableName=null;
};
if(typeof(ASPdatabaseNET.UI.TableGrid)=="undefined"){ASPdatabaseNET.UI.TableGrid={};
}ASPdatabaseNET.UI.TableGrid.ImportExportUI=function(){this.UploadExcel=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(new ASPdatabaseNET.UI.TableGrid.Objs.ImportExportViewModel());
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ImportExportUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.UploadExcel=new ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel();
this.UploadExcel.set_ViewModel(this.get_ViewModel());
this.UploadExcel.Instantiate();
this.UploadExcel.Close();
this.UploadExcel.OnClose.After.AddHandler(this,"UploadExcel_Close",0);
this.jF(".Holder_UploadExcel").append(this.UploadExcel.jRoot);
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.Open_Sub=function(){if(this.UploadExcel.IsOpen){this.UploadExcel.Close();
}var a=$(".Bttn_ViewOptions").outerWidth();
this.jF(".Div_PA")[0].style.right=a+"px";
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.CloseClick1=function(){if(!this.UploadExcel.IsOpen){this.Close();
}};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.CloseClick2=function(){if(this.UploadExcel.IsOpen){this.UploadExcel.Close();
}else{this.Close();
}};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.UploadExcel_Click=function(){this.jF(".MainBttns").hide();
this.UploadExcel.Open();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.UploadExcel_Close=function(){this.jF(".MainBttns").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.DownloadExcel_Click=function(){var json=(new ASPdb.Ajax.AjaxHelper()).ToJson(this.get_ViewModel().GridRequest);
var requestString="";
eval("requestString = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(json));");
requestString=encodeURI(requestString);
var randomString=ASPdb.Security.AESLogic.RandomBase64(30,99);
eval("randomString = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(randomString));");
randomString=encodeURI(randomString);
var url="ASPdatabase.NET.aspx?Download=Excel&Key="+requestString+"&Tag="+randomString;
window.location=url;
this.Close();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.GetCssTree();
a+=ASPdatabaseNET.UI.TableGrid.ImportExportUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.GetCssRoot=function(){return"\r\n                .ImportExportUI {  }\r\n                .ImportExportUI .Div_BG { background: #464f5b; opacity: 0.65; position:fixed; width: 100%; height: 8000px; top: 0px; left: 0px; }\r\n\r\n                .ImportExportUI .Div_PR { position:relative; }\r\n                .ImportExportUI .Div_PR .Div_PA { position:absolute; top: 1px; right: 0px; background: #fff; color: #093a79; \r\n                                                  width_next: 30em; width: 18em; min-height: 8.4em; box-shadow: 0.125em 0.125em .2em #333; padding: .5em 1.2em; }\r\n\r\n                .ImportExportUI .Div_PR .Div_PA .Head { float:left; font-size: .9em; padding: .2em .4em; }\r\n                .ImportExportUI .Div_PR .Div_PA .CloseBttn { float:right; font-size: .9em; cursor:pointer; padding: .2em .4em; }\r\n                .ImportExportUI .Div_PR .Div_PA .CloseBttn:hover { background: #093a79; color: #fff; }\r\n\r\n                .ImportExportUI .Div_PR .Div_PA .Spacer1 { height: 2.5em; }\r\n\r\n\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_UploadExcel { float:left; position:relative; line-height: 2.1875em; background: #2d925c; color: #fff; \r\n                                                                    width: 14em; text-align: center; cursor:pointer; }\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_UploadExcel .Icon { position:absolute; height: 2.1875em; width: 2.5625em; background: #257e50;\r\n                                                                          background: url('ASPdatabase.NET.aspx?IMG=Sprite1'); }\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_UploadExcel span { font-size: .9em; padding-left: 1.42em; }\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_UploadExcel:hover { background: #c8ecda; color: #135533; }\r\n\r\n\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_DownloadExcel { float:right; position:relative; line-height: 2.1875em; background: #6247a0; color: #fff; \r\n                                                                    width: 14em; text-align: center; cursor:pointer; }\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_DownloadExcel .Icon { position:absolute; height: 2.1875em; width: 2.5625em;\r\n                                                                          background: url('ASPdatabase.NET.aspx?IMG=Sprite1') no-repeat 0px -35px; }\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_DownloadExcel span { font-size: .9em; padding-left: 1.42em; }\r\n                .ImportExportUI .Div_PR .Div_PA .Bttn_DownloadExcel:hover { background: #ede5fa; color: #352065; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Div_BG NoSelect' On_Click='CloseClick1'>&nbsp;</div>\r\n                <div class='Div_PR'>\r\n                    <div class='Div_PA'>\r\n                        <div class='Head'>Export</div>\r\n                        <div class='CloseBttn' On_Click='CloseClick2'>Close</div>\r\n                        <div class='clear'></div>\r\n                        <div class='Spacer1'></div>\r\n\r\n                        <div class='MainBttns'>\r\n                            <div class='Bttn_UploadExcel hide' On_Click='UploadExcel_Click'>\r\n                                <div class='Icon'></div>\r\n                                <span>Upload Excel</span>\r\n                            </div>\r\n                            <div class='Bttn_DownloadExcel' On_Click='DownloadExcel_Click'>\r\n                                <div class='Icon'></div>\r\n                                <span>Download Excel</span>\r\n                            </div>\r\n                            <div class='clear'></div>\r\n                        </div>\r\n\r\n                        <div class='Holder_UploadExcel'></div>\r\n\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.ImportExportUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ImportExportUI_UploadExcel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var thisObj=this;
var jObj=this.jRoot;
var dragFileHolder=this.jF(".DragFileHolder");
eval("dragFileHolder[0].ondragover = function() { thisObj.DragFileHolder_ondragover(this); return false; };");
eval("dragFileHolder[0].ondragleave = function() { thisObj.DragFileHolder_ondragend(this); return false; };");
eval("dragFileHolder[0].ondragend = function() { thisObj.DragFileHolder_ondragend(this); return false; };");
eval("dragFileHolder[0].ondrop = function (e) { e.preventDefault && e.preventDefault(); thisObj.DragFileHolder_ondrop(event); return false; };");
eval("jObj.find('.FileInput').change(function(){ thisObj.FileInput_Change(); });");
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Open_Sub=function(){if(this.get_ViewModel().IsInDemoMode){this.jF(".Screen").hide();
this.jF(".Screen0").show();
return;
}this.set_Model(null);
this.jF(".DropText").html(this.jF(".DropText").attr("HtmlText"));
this.jF(".ProgressControl").hide();
this.jF(".Screen").hide();
this.jF(".Screen1").show();
this.jF(".Bttn1").hide();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Guid_Return").Guid__GetNewGuidString();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Guid_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.get_ViewModel().GuidKey=a.ReturnObj;
this.jF(".Bttn1").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Next1_Click=function(){this.jF(".Screen").hide();
this.jF(".Screen2").show();
this.jF(".ProgressControl").hide();
this.jF(".SendingFile").hide();
this.jF(".TwoOptionTable").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.DragFileHolder_ondragover=function(a){this.jF(".DragFileHolder").addClass("DragFileHolder_Hover");
this.jF(".DropText").html("&nbsp;");
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.DragFileHolder_ondragend=function(a){this.jF(".DropText").html(this.jF(".DropText").attr("HtmlText"));
this.jF(".DragFileHolder").removeClass("DragFileHolder_Hover");
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.DragFileHolder_ondrop=function(evt){this.jF(".DragFileHolder").removeClass("DragFileHolder_Hover");
var file=null;
eval("\r\n                if(evt.dataTransfer.files != null && evt.dataTransfer.files.length > 0)\r\n                    file = evt.dataTransfer.files[0];\r\n                ");
this.SendFileData(file,this.get_ViewModel().GuidKey);
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.FileInput_Change=function(){var a=this.jF(".FileInput")[0].files[0];
this.SendFileData(a,this.get_ViewModel().GuidKey);
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.SendFileData=function(file,guidKey){if(file==null){alert("File was not attached.");
return;
}var arr=file.name.split(".");
var ext=arr[arr.length-1].toLowerCase().trim();
if(ext!="xlsx"){alert("Please attach an Excel file in the .xlsx format.");
return;
}var progress=this.jF(".ProgressControl");
var thisObj=this;
eval("\r\n            var formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open('POST', 'ASPdatabase.NET.aspx?Upload=Excel&Key="+guidKey+"&TableId="+this.get_ViewModel().GridRequest.Id+"');\r\n\r\n            progress[0].value = 0;\r\n            progress.show();\r\n            xhr.upload.onprogress = function (event) \r\n            {\r\n                if (event.lengthComputable) \r\n                {\r\n                    var complete = (event.loaded / event.total * 100 | 0);\r\n                    progress[0].value = progress.innerHTML = complete;\r\n                }\r\n            };\r\n            xhr.onload = function () \r\n            {\r\n                progress[0].value = progress.innerHTML = 100;\r\n                if(xhr.status == 200)\r\n                    thisObj.UploadComplete();\r\n                else\r\n                    alert('An error occurred during upload. \\nxhr.status: ' + xhr.status);\r\n            };\r\n            xhr.send(formData);\r\n            ");
this.jF(".TwoOptionTable").hide();
this.jF(".SendingFile").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.UploadComplete=function(){this.jF(".Screen").hide();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetUploadedExcelInfo_Return").ImportExport__GetUploadedExcelInfo(this.get_ViewModel().GuidKey);
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.GetUploadedExcelInfo_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
if(this.get_Model().Worksheets.length<1){alert("No worksheets were found in this Excel file");
this.Close();
}else{if(this.get_Model().Worksheets.length>1){this.Populate_Screen_SelectWorksheet();
this.jF(".Screen_SelectWorksheet").show();
this.jF(".Bttn_Prev3").show();
}else{this.Populate_Screen_SelectKeys();
this.jF(".Bttn_Prev3").hide();
this.jF(".Screen_SelectKeys").show();
this.get_ViewModel().SelectedWorksheet=this.get_Model().Worksheets[0];
}}};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Next2_Click=function(){this.Populate_Screen_SelectKeys();
this.jF(".Screen").hide();
this.jF(".Screen_SelectKeys").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Prev3_Click=function(){this.jF(".Screen").hide();
this.jF(".Screen_SelectWorksheet").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Next3_Click=function(){this.jF(".Screen").hide();
this.jF(".Screen_Mappings").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Prev4_Click=function(){this.jF(".Screen").hide();
this.jF(".Screen_SelectKeys").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Next4_Click=function(){};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Populate_Screen_SelectWorksheet=function(){this.jF(".Bttn_Next2").hide();
var div=this.jF(".WorksheetListDiv").html("");
for(var i=0;
i<this.get_Model().Worksheets.length;
i++){var item=this.get_Model().Worksheets[i];
div.append(ASPdb.FrameworkUI.st.New("<div class='WorksheetItem' Index='{0}'>{1}</div>").Format2(i,item.WorksheetName).TheString);
}var thisObj=this;
eval("div.find('.WorksheetItem').click(function(){ thisObj.WorksheetItem_Click(this); });");
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.WorksheetItem_Click=function(a){var c=$(a);
var b=c.attr("Index");
this.get_ViewModel().SelectedWorksheet=this.get_Model().Worksheets[b];
this.jF(".WorksheetItem").removeClass("WorksheetItem_On");
c.addClass("WorksheetItem_On");
this.jF(".Bttn_Next2").show();
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Populate_Screen_SelectKeys=function(){var div=this.jF(".SelectKeysList").html("");
for(var i=0;
i<this.get_Model().TableColumns.length;
i++){var item=this.get_Model().TableColumns[i];
var onClass="";
if(item.IsSelectedAsUniqueKey){onClass="KeyItem_On";
}div.append(ASPdb.FrameworkUI.st.New("<div class='KeyItem {0}' Index='{1}'>{2}</div>").Format3(onClass,i,item.ColumnName).TheString);
}var thisObj=this;
eval("div.find('.KeyItem').click(function(){ thisObj.KeyItem_Click(this); });");
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.KeyItem_Click=function(b){var d=$(b);
var c=d.attr("Index");
var a=this.get_Model().TableColumns[c];
a.IsSelectedAsUniqueKey=!a.IsSelectedAsUniqueKey;
if(a.IsSelectedAsUniqueKey){d.addClass("KeyItem_On");
}else{d.removeClass("KeyItem_On");
}};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.Populate_Screen_Mappings=function(){};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.GetCssRoot=function(){return"\r\n                .ImportExportUI_UploadExcel { }\r\n\r\n\r\n                .ImportExportUI_UploadExcel .Label_UploadExcel { position:relative; line-height: 2.1875em; background: #2d925c; color: #fff; \r\n                                                                 text-align: center; cursor:default; }\r\n                .ImportExportUI_UploadExcel .Label_UploadExcel .Icon { position:absolute; height: 2.1875em; width: 2.5625em; background: #257e50;\r\n                                                                       background: url('ASPdatabase.NET.aspx?IMG=Sprite1'); }\r\n                .ImportExportUI_UploadExcel .Label_UploadExcel span { font-size: .9em; padding-left: 1.42em; }\r\n\r\n                .ImportExportUI_UploadExcel .Bttn { cursor:pointer; background: #777; color: #fff; padding: 0em 1.5em; line-height: 2.1875em; }\r\n                .ImportExportUI_UploadExcel .Bttn:hover { background: #444; }\r\n                .ImportExportUI_UploadExcel .Bttn_Left { float:left; }\r\n                .ImportExportUI_UploadExcel .Bttn_Right { float:right; }\r\n\r\n                .ImportExportUI_UploadExcel .Screen { display:none; font-size: .8em; padding: 1em 0em; }\r\n                .ImportExportUI_UploadExcel .Screen1 { }\r\n                .ImportExportUI_UploadExcel .Screen2 { }\r\n\r\n\r\n\r\n                .ImportExportUI_UploadExcel .Screen2 { }\r\n                .ImportExportUI_UploadExcel .Screen2 table { width: 100%; height: 12em; }\r\n                .ImportExportUI_UploadExcel .Screen2 table td { }\r\n                .ImportExportUI_UploadExcel .Screen2 table .Td1 { width: 44%; }\r\n                .ImportExportUI_UploadExcel .Screen2 table .Td2 { width: 3%; font-size: 1px; }\r\n                .ImportExportUI_UploadExcel .Screen2 table .Td3 { width: 6%; text-align:center; vertical-align:middle; background: #b3e6cb; }\r\n                .ImportExportUI_UploadExcel .Screen2 table .Td4 { width: 3%; font-size: 1px; }\r\n                .ImportExportUI_UploadExcel .Screen2 table .Td5 { width: 44%; text-align:center; vertical-align:middle; background: #f3f3f3; }\r\n                .ImportExportUI_UploadExcel .Screen2 .DragFileHolder { border: .5em dashed #ccc; text-align:center; line-height: 12em; }\r\n                .ImportExportUI_UploadExcel .Screen2 .DragFileHolder .DropText { }\r\n                .ImportExportUI_UploadExcel .Screen2 .DragFileHolder_Hover { border-color: #3f6852; background: #eee; background: url('ASPdatabase.NET.aspx?IMG=Sprite1') -45px -117px; }\r\n                .ImportExportUI_UploadExcel .Screen2 .FileInput { width: 200px; }\r\n                .ImportExportUI_UploadExcel .Screen2 progress { margin-top: 3em; margin-bottom: 3em; width: 100%; }\r\n\r\n                .ImportExportUI_UploadExcel .WorksheetListDiv { max-height: 15em; overflow-y: auto; }\r\n                .ImportExportUI_UploadExcel .WorksheetListDiv .WorksheetItem { background: #f4f4f4; border-bottom: .15em solid #fff; cursor:pointer; padding: .3em 1em; }\r\n                .ImportExportUI_UploadExcel .WorksheetListDiv .WorksheetItem:hover { background: #ddd; color: #000; }\r\n                .ImportExportUI_UploadExcel .WorksheetListDiv .WorksheetItem_On { background: #228fe1; color: #fff; }\r\n\r\n                .ImportExportUI_UploadExcel .SelectKeysList { max-height: 15em; overflow-y: auto; }\r\n                .ImportExportUI_UploadExcel .SelectKeysList .KeyItem { background: #f4f4f4; border-bottom: .15em solid #fff; cursor:pointer; padding: .3em 1em; }\r\n                .ImportExportUI_UploadExcel .SelectKeysList .KeyItem:hover { background: #ddd; color: #000; }\r\n                .ImportExportUI_UploadExcel .SelectKeysList .KeyItem_On { background: #228fe1; color: #fff; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Label_UploadExcel'>\r\n                    <div class='Icon'></div>\r\n                    <span>Upload Excel</span>\r\n                </div>\r\n\r\n                <div class='Screen Screen0'>\r\n                    <br />\r\n                    This feature is disabled in demo mode.\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='Screen Screen1'>\r\n                    Please make sure Excel file is in .xlsx format.<br />\r\n                    Older .xls format is not supported.<br />\r\n                    <br />\r\n                    The top row of Excel file should have the field names header for matching to this table.<br />\r\n                    <br />\r\n                    You can set custom mappings in one of the following steps.\r\n                    <br />\r\n                    <br />\r\n                    <div class='Bttn Bttn_Right Bttn1' On_Click='Next1_Click'>Next &gt;&gt;</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='Screen Screen2'>\r\n                    After your file is uploaded we'll show you some options before saving the Excel data.\r\n                    <br />\r\n                    <br />\r\n                    <table class='TwoOptionTable'>\r\n                        <tr>\r\n                            <td class='Td1'>\r\n                                <div class='DragFileHolder'>\r\n                                    <div class='DropText' HtmlText='Drop .xlsx File Here'>&nbsp;</div>\r\n                                </div>\r\n                            </td>\r\n                            <td class='Td2'>&nbsp;</td>\r\n                            <td class='Td3'>or</td>\r\n                            <td class='Td4'>&nbsp;</td>\r\n                            <td class='Td5'>\r\n                                <form enctype='multipart/form-data'>\r\n                                    <input name='file' type='file' class='FileInput' />\r\n                                </form>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n\r\n                    <div class='SendingFile'>\r\n                        <br />\r\n                        <br />\r\n                        Sending Excel File . . .\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n\r\n                    <progress class='ProgressControl'></progress>\r\n                    <div class='DivA'></div>\r\n                </div>\r\n\r\n                <div class='Screen Screen_SelectWorksheet'>\r\n                    Select Excel Worksheet\r\n                    <br />\r\n                    <br />\r\n                    <div class='WorksheetListDiv'></div>\r\n                    <br />\r\n                    <br />\r\n                    <div class='Bttn Bttn_Next2 Bttn_Right' On_Click='Next2_Click'>Next &gt;&gt;</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='Screen Screen_SelectKeys'>\r\n                    Select Unique Identifiers for Excel Import\r\n                    <br />\r\n                    <br />\r\n                    <div class='SelectKeysList'></div>\r\n                    <br />\r\n                    <br />\r\n                    <div class='Bttn Bttn_Left Bttn_Prev3' On_Click='Prev3_Click'>&lt;&lt; Previous</div>\r\n                    <div class='Bttn Bttn_Right' On_Click='Next3_Click'>Next &gt;&gt;</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='Screen Screen_Mappings'>\r\n                    Import Mappings\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                    <div class='Bttn Bttn_Left' On_Click='Prev4_Click'>&lt;&lt; Previous</div>\r\n                    <div class='Bttn Bttn_Right' On_Click='Next4_Click'>Next &gt;&gt;</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='Screen Screen_Saving'>\r\n                    \r\n                </div>\r\n                <div class='Screen Screen_Complete'>\r\n                    \r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.ImportExportUI_UploadExcel,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.TableGrid.Objs)=="undefined"){ASPdatabaseNET.UI.TableGrid.Objs={};
}ASPdatabaseNET.UI.TableGrid.Objs.FilterAndSort=function(){this.FilterFields=null;
this.SortFields=null;
};
ASPdatabaseNET.UI.TableGrid.Objs.GridHeaderItem=function(){this.FieldName=null;
this.IndexPosition=0;
this.DataType=0;
this.DataTypeName="NotSet";
this.IsPrimaryKey=false;
};
ASPdatabaseNET.UI.TableGrid.Objs.GridRequest=function(){this.TableType=0;
this.Id=-1;
this.DisplayTopNRows=-1;
this.FilterFields=null;
this.SortFields=null;
};
ASPdatabaseNET.UI.TableGrid.Objs.GridResponse=function(){this.GridRequest=null;
this.TableType=0;
this.ConnectionId=0;
this.Id=0;
this.Schema=null;
this.TableName=null;
this.TableName_FullNameLabel=null;
this.TableName_FullSQLName=null;
this.Count_DisplayItems=0;
this.Count_TotalItems=0;
this.PrimaryKeyNames=null;
this.PriamryKeyIndexPositions=null;
this.HeaderItems=null;
this.Rows=null;
this.UniqueKey_ForNewRecord=null;
this.IsAdmin=false;
this.PermissionValues=null;
this.IsInDemoMode=false;
};
ASPdatabaseNET.UI.TableGrid.Objs.GridRow=function(){this.DisplayIndex=-1;
this.UniqueKey="";
this.Values=null;
};
ASPdatabaseNET.UI.TableGrid.Objs.GridViewModel=function(){this.TableType=0;
this.Id=-1;
this.DisplayTopNRows=50;
this.AllColumnNames=[];
this.SelectionCount=0;
this.FilterAndSort=new ASPdatabaseNET.UI.TableGrid.Objs.FilterAndSort();
};
ASPdatabaseNET.UI.TableGrid.Objs.GridViewModel.prototype.get_LocalStorage_Key_ViewOptions=function(){return"ASPdatabaseNET.UI.TableGrid.ViewOptions__"+this.TableType+"_"+this.Id;
};
if(typeof(ASPdatabaseNET.DbInterfaces)=="undefined"){ASPdatabaseNET.DbInterfaces={};
}if(typeof(ASPdatabaseNET.DbInterfaces.TableObjects)=="undefined"){ASPdatabaseNET.DbInterfaces.TableObjects={};
}ASPdatabaseNET.DbInterfaces.TableObjects.Column=function(){this.ConnectionId=0;
this.Schema=null;
this.TableName=null;
this.OrdinalPosition=0;
this.ColumnName="";
this.ColumnName_Original="";
this.DataType="";
this.DataType_Name="";
this.MaxLength=0;
this.Precision=0;
this.Scale=0;
this.IsNumericType=false;
this.AllowNulls=true;
this.DefaultValue=null;
this.IsPrimaryKey=false;
this.IsIdentity=false;
this.Identity=null;
this.ChangeAction=0;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Column.prototype.Populate__DataType_FullString=function(){this.IsNumericType_GetAndSet();
var a=this.DataType_Name;
if(a==null){a="";
}switch(a.toLowerCase()){case"nvarchar":if(this.MaxLength==-1){a=System.String.Format$$String$$Object$Array("nvarchar(MAX)",[]);
}else{a=System.String.Format$$String$$Object("nvarchar({0})",this.MaxLength);
}break;
case"decimal":a=System.String.Format$$String$$Object$$Object("decimal({0}, {1})",this.Precision,this.Scale);
break;
case"numeric":a=System.String.Format$$String$$Object$$Object("numeric({0}, {1})",this.Precision,this.Scale);
break;
}this.DataType=a;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Column.prototype.IsNumericType_GetAndSet=function(){this.IsNumericType=false;
var b=this.DataType_Name_GetAndSet();
if(b==null){b="";
}var a=["bigint","binary","bit","decimal","float","int","money","numeric","real","smallint","smallmoney","tinyint"];
if(System.Linq.Enumerable.Contains$1$$IEnumerable$1$$TSource(System.String.ctor,a,b.toLowerCase().trim())){this.IsNumericType=true;
}return this.IsNumericType;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Column.prototype.DataType_Name_GetAndSet=function(){if(System.String.IsNullOrEmpty(this.DataType_Name)){this.DataType_Name=System.Linq.Enumerable.First$1$$IEnumerable$1(System.String.ctor,this.DataType.Split$$Char$Array("(")).trim();
}return this.DataType_Name;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Column.Clone=function(a){var b=new ASPdatabaseNET.DbInterfaces.TableObjects.Column();
b.ConnectionId=a.ConnectionId;
b.Schema=a.Schema;
b.TableName=a.TableName;
b.OrdinalPosition=a.OrdinalPosition;
b.ColumnName=a.ColumnName;
b.ColumnName_Original=a.ColumnName_Original;
b.DataType=a.DataType;
b.DataType_Name=a.DataType_Name;
b.MaxLength=a.MaxLength;
b.Precision=a.Precision;
b.Scale=a.Scale;
b.AllowNulls=a.AllowNulls;
b.DefaultValue=a.DefaultValue;
b.IsPrimaryKey=a.IsPrimaryKey;
b.IsIdentity=a.IsIdentity;
if(a.Identity!=null){b.Identity=ASPdatabaseNET.DbInterfaces.TableObjects.Identity.Clone(a.Identity);
}b.ChangeAction=a.ChangeAction;
return b;
};
ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKey=function(){this.ConnectionId=0;
this.RelationshipSide=0;
this.ConstraintName=null;
this.ForeignKey_Schema=null;
this.ForeignKey_TableName=null;
this.PrimaryKey_Schema=null;
this.PrimaryKey_TableName=null;
this.Columns=null;
this.DeleteRule=0;
this.UpdateRule=0;
};
ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKeyColumn=function(){this.ForeignKey_ColumnName="";
this.PrimaryKey_ColumnName="";
this.OrdinalPosition=0;
};
ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKeysPair=function(){this.InboundKeys=null;
this.OutboundKeys=null;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Identity=function(){this.ConnectionId=0;
this.Schema=null;
this.TableName=null;
this.ColumnName=null;
this.Seed=0;
this.Increment=0;
this.CurrentIdentity=0;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Identity.Clone=function(a){var b=new ASPdatabaseNET.DbInterfaces.TableObjects.Identity();
b.ConnectionId=a.ConnectionId;
b.Schema=a.Schema;
b.TableName=a.TableName;
b.ColumnName=a.ColumnName;
b.Seed=a.Seed;
b.Increment=a.Increment;
b.CurrentIdentity=a.CurrentIdentity;
return b;
};
ASPdatabaseNET.DbInterfaces.TableObjects.Index=function(){this.ConnectionId=0;
this.Schema=null;
this.TableName=null;
this.IndexName=null;
this.IsUnique=false;
this.Columns=null;
};
ASPdatabaseNET.DbInterfaces.TableObjects.IndexColumn=function(){this.ColumnId=0;
this.ColumnName=null;
this.SortDirection=0;
};
ASPdatabaseNET.DbInterfaces.TableObjects.PrimaryKey=function(){this.ConnectionId=0;
this.TableId=0;
this.Schema=null;
this.TableName=null;
this.ConstraintName=null;
this.Columns=null;
};
ASPdatabaseNET.DbInterfaces.TableObjects.PrimaryKeyColumn=function(){this.ColumnName="";
this.OrdinalPosition=-1;
this.Identity=null;
};
ASPdatabaseNET.DbInterfaces.TableObjects.TableStructure=function(){this.ConnectionId=0;
this.ConnectionName=null;
this.TableId=0;
this.Schema=null;
this.TableName=null;
this.StructureIsAView=false;
this.Columns=null;
this.PrimaryKey=null;
this.ForeignKeys_FK=null;
this.ForeignKeys_PK=null;
this.Indexes=null;
};
ASPdatabaseNET.UI.GlobalParts.LeftNav=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='LeftNav jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var thisObj=this;
var databaseBoxesHolder=this.jF(".DatabaseBoxesHolder");
eval("databaseBoxesHolder.scroll(function(){ thisObj.Scroll(); });");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetSiteNav_Return").Global__GetSiteNav(false);
};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.GetSiteNav_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.Set_IsOpens_FromLocalStorage();
if(this.get_Model().IsInDemoMode){$(".TopBarHolder .LogoLink").html("ASPdatabase.NET <span style='font-size: .6em;'> ... (Click Here to Learn More)</span>");
}var c=this.jF2(".DatabaseBoxesHolder");
c.html("");
for(var d=0;
d<this.get_Model().Databases.length;
d++){var b=new ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox();
b.set_Model(this.get_Model().Databases[d]);
b.Instantiate();
b.OnChange.After.AddHandler(this,"DatabaseBox_OnChange",0);
c.append(b.jRoot);
}this.jRoot.show();
this.CheckLocalStorage_Scroll();
};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.Set_IsOpens_FromLocalStorage=function(){try{var json=localStorage.getItem("ASPdatabaseNET.UI.GlobalParts.LeftNav");
var localSiteNav=(new ASPdb.Ajax.AjaxHelper()).FromJson(json);
if(localSiteNav==null){return;
}var dict=[];
for(var i=0;
i<localSiteNav.Databases.length;
i++){var navDB=localSiteNav.Databases[i];
var key="C_"+navDB.ConnectionId;
eval("dict[key] = navDB;");
}for(var i=0;
i<this.get_Model().Databases.length;
i++){var navDB1=this.get_Model().Databases[i];
var navDB2=null;
var key="C_"+navDB1.ConnectionId;
try{eval("navDB2 = dict[key];");
}catch($$e4){}if(navDB2!=null){navDB1.IsOpen=navDB2.IsOpen;
if(navDB1.Section_Tables!=null&&navDB2.Section_Tables!=null){navDB1.Section_Tables.IsOpen=navDB2.Section_Tables.IsOpen;
}if(navDB1.Section_Views!=null&&navDB2.Section_Views!=null){navDB1.Section_Views.IsOpen=navDB2.Section_Views.IsOpen;
}}}}catch($$e5){}};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.DatabaseBox_OnChange=function(){try{var b=(new ASPdb.Ajax.AjaxHelper()).ToJson(this.get_Model());
localStorage.setItem("ASPdatabaseNET.UI.GlobalParts.LeftNav",b);
}catch(a){}};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.Scroll=function(){var b=this.jF(".DatabaseBoxesHolder").scrollTop();
try{localStorage.setItem("ASPdatabaseNET.UI.GlobalParts.LeftNav.ScrollTop",b);
}catch(a){}};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.CheckLocalStorage_Scroll=function(){try{var b=localStorage.getItem("ASPdatabaseNET.UI.GlobalParts.LeftNav.ScrollTop");
this.jF(".DatabaseBoxesHolder").scrollTop(b);
}catch(a){}};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.DatabasesLabelBox_Click=function(){this.jRoot.hide();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetSiteNav_Return").Global__GetSiteNav(true);
};
ASPdatabaseNET.UI.GlobalParts.LeftNav.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.LeftNav.GetCssRoot();
a+=ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.GetCssTree();
a+=ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.GetCssTree();
return a;
};
ASPdatabaseNET.UI.GlobalParts.LeftNav.GetCssRoot=function(){return"\r\n            .LeftNav { background: #e4e4e4;  }\r\n            .LeftNav .DatabasesLabelBox { line-height: 2.8409em; padding-left: 1.25em; color: #000; font-size: 1.1em; color: #555; cursor:pointer; }\r\n            .LeftNav .DatabasesLabelBox:hover { background: #ccc; color: #000; }\r\n            ";
};
ASPdatabaseNET.UI.GlobalParts.LeftNav.prototype.GetHtmlRoot=function(){return"\r\n            <div class='DatabasesLabelBox' On_Click='DatabasesLabelBox_Click' title='Refresh Menu'>\r\n                Connections\r\n            </div>\r\n            <div class='DatabaseBoxesHolder AutoResize'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.GlobalParts.LeftNav,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.GlobalParts.LeftNavParts)=="undefined"){ASPdatabaseNET.UI.GlobalParts.LeftNavParts={};
}ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='DatabaseBox jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.get_Model().IsOpen){this.jF2(".DatabaseSubBox").show();
}var a=this.jF2(".DatabaseSubBox");
if(this.get_Model().Section_Tables!=null){var b=new ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox();
b.set_Model(this.get_Model().Section_Tables);
b.Instantiate();
b.OnChange.After.AddHandler(this,"SectionBox_OnChange",0);
a.append(b.jRoot);
}if(this.get_Model().Section_Views!=null){var b=new ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox();
b.set_Model(this.get_Model().Section_Views);
b.Instantiate();
b.OnChange.After.AddHandler(this,"SectionBox_OnChange",0);
a.append(b.jRoot);
}this.BindUI();
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.prototype.ConnectionNameBttn_Click=function(){if(this.get_Model().IsOpen){this.jF2(".DatabaseSubBox").hide();
}else{this.jF2(".DatabaseSubBox").show();
}this.get_Model().IsOpen=!this.get_Model().IsOpen;
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.prototype.SectionBox_OnChange=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.GetCssRoot=function(){return"\r\n            .DatabaseBox { font-size: .9em; }\r\n            .DatabaseBox .ConnectionNameBttn { background: #173a67; color: #fff; line-height: 2.222em; margin-bottom: 1px; padding-left: 1.52777em; }\r\n            .DatabaseBox .ConnectionNameBttn:hover { background: #000; cursor: pointer; }\r\n            .DatabaseBox .DatabaseSubBox { display: none; margin-left: 1.52777em; }\r\n            ";
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox.prototype.GetHtmlRoot=function(){return"\r\n            <div class='ConnectionNameBttn' On_Click='ConnectionNameBttn_Click' ModelKey='ConnectionName'></div>\r\n            <div class='DatabaseSubBox'>\r\n            </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.GlobalParts.LeftNavParts.DatabaseBox,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='SectionBox jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.get_Model()!=null&&this.get_Model().IsOpen){this.jF2(".SectionLinks").show();
}var a=this.jF2(".SectionLinks").html("");
if(this.get_Model()!=null&&this.get_Model().Items!=null){var d="";
var e=0;
for(var b=0;
b<this.get_Model().Items.length;
b++){if(d!=this.get_Model().Items[b].Schema){d=this.get_Model().Items[b].Schema;
e++;
}}d="";
for(var b=0;
b<this.get_Model().Items.length;
b++){var c=this.get_Model().Items[b];
if(e>1){if(d!=c.Schema){a.append("<div class='Schema' title='Schema: ["+c.Schema+"]'>"+c.Schema+"</div>");
}}d=c.Schema;
a.append(ASPdb.FrameworkUI.JsStr.StrFormat2("<a href='{0}'>{1}</a>",c.URL,c.Name));
}}this.BindUI();
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.prototype.SectionNameBttn_Click=function(){if(this.get_Model().IsOpen){this.jF2(".SectionLinks").hide();
}else{this.jF2(".SectionLinks").show();
}this.get_Model().IsOpen=!this.get_Model().IsOpen;
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.GetCssRoot=function(){return"\r\n            .SectionBox { }\r\n            .SectionBox .SectionNameBttn { line-height: 1.52777em; padding-left: 0.83333em; background: #eb640a; color: #fff; margin-bottom: 1px; cursor: pointer; }\r\n            .SectionBox .SectionNameBttn:hover { background: #111 }\r\n            .SectionBox .SectionLinks { display: none; font-size: 1em; }\r\n            .SectionBox .SectionLinks .Schema { border-bottom: 1px solid #c1c1c1; color: #aaa; line-height: 1.45833em; padding-left: 2px; }\r\n            .SectionBox .SectionLinks a { display: block; border-bottom: 1px solid #c1c1c1; color: blue; line-height: 1.45833em; padding-left: 2px; }\r\n            .SectionBox .SectionLinks a:hover { background: #fff; color: #000; }\r\n            ";
};
ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox.prototype.GetHtmlRoot=function(){return"\r\n            <div class='SectionNameBttn' On_Click='SectionNameBttn_Click' ModelKey='SectionName'></div>\r\n            <div class='SectionLinks'>\r\n            </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.GlobalParts.LeftNavParts.SectionBox,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.GlobalParts.SettingsMenu=function(){this.MenuJustOpened=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='SettingsMenu jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.prototype.Open_Sub=function(){var a=ASPdatabaseNET.Users.UserSessionClient.Get();
if(a.IsAdmin){this.jF(".AdminOnly").show();
}else{this.jF(".AdminOnly").hide();
}};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.prototype.ShowHide_UserImpersonationLink=function(a,b){if(a){this.jF(".Link_UserImpersonation").show();
if(b){this.jF(".Link_UserImpersonation").html("Turn Off User Impersonation").addClass("Link_UserImpersonation_On");
}else{this.jF(".Link_UserImpersonation").html("Turn On User Impersonation").removeClass("Link_UserImpersonation_On");
}}else{this.jF(".Link_UserImpersonation").hide();
}};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.prototype.Bttn_Settings_Click=function(){this.Close();
};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.prototype.MenuLink_Click=function(){this.Close();
};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.SettingsMenu.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.GetCssRoot=function(){return"\r\n                .SettingsMenu { display: none; position: absolute; top: 0px; right: 0px; }\r\n                .SettingsMenu .SettingsBttn { float:right; width: auto; padding: 4px 10px; line-height: 25px; font-size: .95em;\r\n                                              background: #fff; color: #14498f; box-shadow: 1px 1px 3px #000; cursor: pointer; }\r\n                .SettingsMenu .SettingsBttn:hover { background: #20579f; color: #fff; }\r\n                .SettingsMenu .ShadowHider { position: absolute; right:0px; top: 30px; height: 3px; width: 100%; background: #fff; z-index:4; }\r\n\r\n                .SettingsMenu .SettingsBox1 { position: absolute; right:0px; top: 33px; background: #fff; box-shadow: 1px 1px 3px #000; width: auto; }\r\n                .SettingsMenu .SettingsBox1 a { display:block; width: 240px; border: 0px solid #fff; margin: 0px; padding: 8px 15px; background: #ffffff; color: #333; }\r\n                .SettingsMenu .SettingsBox1 a:hover {                        border: 0px solid #fff; margin: 0px; padding: 8px 15px; background: #464f5b; color: #fff; }\r\n\r\n                .SettingsMenu .SettingsBox1 .Link_UserImpersonation { display:none; }\r\n                .SettingsMenu .SettingsBox1 .Link_UserImpersonation_On { background: #eee; }\r\n            ";
};
ASPdatabaseNET.UI.GlobalParts.SettingsMenu.prototype.GetHtmlRoot=function(){return"\r\n                <div class='SettingsBttn' On_Click='Bttn_Settings_Click'>Settings</div>\r\n                <div class='clear'></div>\r\n                <div class='ShadowHider'></div>\r\n                <div class='SettingsBox1'>\r\n                    <a href='#00-Connections'                On_Click='MenuLink_Click' class='AdminOnly' >Manage Connections</a>\r\n                    <a href='#00-Users'                      On_Click='MenuLink_Click' class='AdminOnly' >Users & Permissions</a>\r\n                    <a href='ASPdatabase.NET.aspx?ToggleImpersonation' On_Click='MenuLink_Click' class='Link_UserImpersonation'>Turn On User Impersonation</a>\r\n                    <a href='#00-Subscription'               On_Click='MenuLink_Click' class='AdminOnly' >Product Subscription</a>\r\n                    <a href='#00-SendFeedback'               On_Click='MenuLink_Click'>Send Feedback</a>\r\n                    <a href='#00-About-ASPdatabase.NET'      On_Click='MenuLink_Click'>About ASPdatabase.NET</a>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.GlobalParts.SettingsMenu,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.GlobalParts.TopBar=function(){this.LogoBox=null;
this.SettingsMenu=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TopBar jRoot NoSelect'>");
this.jRoot.append(this.GetHtmlRoot());
this.LogoBox=new ASPdatabaseNET.UI.GlobalParts.LogoBox();
this.LogoBox.Instantiate();
this.jF(".Holder_LogoBox").append(this.LogoBox.jRoot);
this.LogoBox.Open();
this.SettingsMenu=new ASPdatabaseNET.UI.GlobalParts.SettingsMenu();
this.jF2(".SettingsMenu_Holder").append(this.SettingsMenu.jRoot);
var ajaxSender=ASPdb.Security.AjaxSender.GetObj();
ajaxSender.OnReady.After.AddHandler(this,"AjaxSender_OnReady",0);
ajaxSender.Initialize();
var thisObj=this;
eval("$(document).click(function(){ thisObj.Document_Click(); });");
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.AjaxSender_OnReady=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetUserSession_Return").YesEncryption().Authentication__GetUserSession();
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.GetUserSession_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}var b=a.ReturnObj;
ASPdatabaseNET.Users.UserSessionClient.Set(b);
if(b==null||!b.IsLoggedIn){window.location="ASPdatabase.NET.aspx?Logout";
}this.jF(".A_Username").html("("+b.UserInfo.Username+")").attr("title","("+b.UserInfo.Username+")");
this.SettingsMenu.ShowHide_UserImpersonationLink(b.Impersonation_IsAllowed,b.Impersonation_IsOn);
if(b.Impersonation_IsAllowed&&b.Impersonation_IsOn){this.Enable_Impersonation();
}};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.Enable_Impersonation=function(){this.jF(".SearchDiv").hide();
this.jF(".ImpersonationDiv").show();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetImpersonationList_Return").YesEncryption().Authentication__GetImpersonationList();
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.GetImpersonationList_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}var j=a.ReturnObj;
var h=ASPdatabaseNET.Users.UserSessionClient.Get();
var f=this.jF(".Select_UserImpersonation");
f.html("<option value='-1'></option>");
for(var c=0;
c<j.length;
c++){var g=j[c];
var e="";
if(g.LastName.length>0&&g.FirstName.length>0){e=g.LastName+", "+g.FirstName;
}else{e=g.LastName+" "+g.FirstName;
}var b="";
if(h.Impersonation_ActualUser.UserId==g.UserId){b="Select_You";
}else{if(!g.Active){b="Select_Inactive";
}}var d="";
if(!g.Active){d="[Inactive]";
}f.append(ASPdb.FrameworkUI.JsStr.StrFormat5("<option value='{0}' class='{1}'>{2} ({3}) {4}</option>",g.UserId,b,e,g.Username,d));
}f.val(h.UserInfo.UserId);
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.Document_Click=function(){if(this.SettingsMenu.IsOpen&&!this.SettingsMenu.MenuJustOpened){this.SettingsMenu.Close();
}this.SettingsMenu.MenuJustOpened=false;
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.Bttn_Settings_Click=function(){this.SettingsMenu.Open();
this.SettingsMenu.MenuJustOpened=true;
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.Select_UserImpersonation_Change=function(){var a=this.jF(".Select_UserImpersonation").val();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"SetImpersonationUser_Return").Authentication__SetImpersonationUser(a);
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.SetImpersonationUser_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}window.location="ASPdatabase.NET.aspx";
};
ASPdatabaseNET.UI.GlobalParts.TopBar.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.TopBar.GetCssRoot();
a+=ASPdatabaseNET.UI.GlobalParts.SettingsMenu.GetCssTree();
return a;
};
ASPdatabaseNET.UI.GlobalParts.TopBar.GetCssRoot=function(){return"\r\n            .TopBar { height: 75px; line-height: 75px; background: #14498f; color: #fff; }\r\n            .TopBar .Holder_LogoBox { float:left; }\r\n\r\n            .TopBar .SearchDiv { float:left; }\r\n            .TopBar .SearchDiv .SearchBox { display:none; margin-left: 75px; width: 450px; border: 1px solid #6d8eba; background: #14498f; color: #6d8eba; padding: 3px 8px; }\r\n            \r\n            .TopBar .ImpersonationDiv { display:none; float:left; margin-left: 80px; font-size: .8em; }\r\n            .TopBar .ImpersonationDiv .Select_UserImpersonation { width: 250px; min-width: 250px; max-width: 250px; }\r\n            .TopBar .ImpersonationDiv .Select_UserImpersonation .Select_You { color: blue; }\r\n            .TopBar .ImpersonationDiv .Select_UserImpersonation .Select_Inactive { color: #bbb; }\r\n            \r\n            .TopBar .RightBttns { float: right; width: auto; margin-right: 25px; }\r\n            .TopBar .RightBttns a { float: left; color: #fff; display: block; margin-top: 21px; margin-left: 3px;\r\n                                    width: auto; padding: 4px 10px; line-height: 25px; font-size: .95em; background: #14498f; }\r\n            .TopBar .RightBttns a:hover { padding: 3px 9px; border: 1px solid #8fabd1; }\r\n            .TopBar .RightBttns .SettingsMenu_Holder { position: relative; z-index: 500; top: 21px; right: 75px; }\r\n            .TopBar .RightBttns .A_Username { max-width: 140px; overflow:hidden; white-space:nowrap; }\r\n\r\n            @media (max-width: 1180px) {\r\n                .TopBar .SearchDiv .SearchBox { margin-left: 40px; width: 350px; }\r\n            }\r\n            @media (max-width: 1050px) {\r\n                .TopBar .SearchDiv .SearchBox { margin-left: 30px; width: 280px; }\r\n            }\r\n            @media (max-width: 970px) {\r\n                .TopBar .SearchDiv .SearchBox { margin-left: 20px; width: 210px; font-size: .9em; }\r\n            }\r\n            @media (max-width: 890px) {\r\n                .TopBar { height: 50px; line-height: 50px; font-size: .85em; }\r\n                .TopBar .LogoText { }\r\n                .TopBar .LogoLink { margin-top: 6px; }\r\n                .TopBar .SearchDiv .SearchBox { display:none; }\r\n                .TopBar .RightBttns a { margin-top: 9px; }\r\n                .TopBar .RightBttns .SettingsMenu_Holder { top: 9px; right: 68px; }\r\n            }\r\n\r\n\r\n            @media (max-width: 1100px) {\r\n                .TopBar .ImpersonationDiv { display:none; float:left; margin-left: 40px; font-size: .8em; }\r\n                .TopBar .ImpersonationDiv .Select_UserImpersonation { width: 200px; min-width: 200px; max-width: 200px; }\r\n            }\r\n            @media (max-width: 1000px) {\r\n                .TopBar .ImpersonationDiv { display:none; float:left; margin-left: 20px; font-size: .8em; }\r\n                .TopBar .ImpersonationDiv .Select_UserImpersonation { width: 130px; min-width: 130px; max-width: 130px; }\r\n            }\r\n            @media (max-width: 890px) {\r\n                .TopBar .ImpersonationDiv { display:none; float:left; margin-left: 20px; font-size: .8em; }\r\n                .TopBar .Label_Impersonate { display:none; }\r\n                .TopBar .ImpersonationDiv .Select_UserImpersonation { width: 130px; min-width: 130px; max-width: 130px; }\r\n            }\r\n            ";
};
ASPdatabaseNET.UI.GlobalParts.TopBar.prototype.GetHtmlRoot=function(){return"\r\n            <div class='Holder_LogoBox'></div>\r\n\r\n            <div class='SearchDiv'>\r\n                <input type='text' class='SearchBox' value='' />\r\n            </div>            \r\n\r\n            <div class='ImpersonationDiv'>\r\n                <span class='Label_Impersonate'>Impersonate User</span>\r\n                <select class='Select_UserImpersonation' On_Change='Select_UserImpersonation_Change'>\r\n                    <option>Loading</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div class='RightBttns'>\r\n                <div class='SettingsMenu_Holder'></div>\r\n                <a href='#00-Home'>Home</a>  \r\n                <a href='#00-MyAccount' class='A_Username'>&nbsp;</a>\r\n                <a On_Click='Bttn_Settings_Click'>Settings</a>\r\n                <a href='?Logout'>Logout</a>\r\n            </div>\r\n            <div class='clear'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.GlobalParts.TopBar,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.ConnectionProperties)=="undefined"){ASPdatabaseNET.UI.PageParts.ConnectionProperties={};
}ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns=function(){this.OnSave=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnDelete=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnRequestTest=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.IsNewConnection=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ConnectionPropertiesBttns jRoot NoSelect'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.Open_Sub=function(){this.jF2(".TestMenu").hide();
this.jF2(".SaveMenu").hide();
var a=this.jF2(".DeleteBttn");
if(this.IsNewConnection){a.html("");
a.removeClass("Bttn");
a.addClass("Bttn_NoHover");
}else{a.html("Delete Connection");
a.removeClass("Bttn_NoHover");
a.addClass("Bttn");
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_TestConnection=function(){this.BttnClick_TestConnection2(false);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_TestConnection2=function(a){this.jF2(".TestMenu").show();
this.jF2(".SaveMenu").hide();
this.jF2(".BttnSave").hide();
this.jF2(".TestResponse").html("Testing Connection ... Please Wait");
this.OnRequestTest.After.Fire1(a);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.Set_TestResponse=function(d,c,b){var a="";
if(d){a+="<div class='Passed'>Connection Success</div>";
this.jF2(".BttnSave").show();
}else{a+="<div class='Failed'>Connection Did Not Work</div>";
this.jF2(".BttnSave").hide();
}a+="<div class='ScrollBox'>"+c+"</div>";
this.jF2(".TestResponse").html(a);
if(d&&b){alert("Connection successfully tested and will now be saved.");
this.SaveMenuClick_SaveOnly();
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_Save=function(){this.jF2(".TestMenu").hide();
this.jF2(".SaveMenu").show();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_Delete=function(){if(this.IsNewConnection){return;
}this.OnDelete.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_Cancel=function(){this.OnClose.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_Save2=function(){this.SaveMenuClick_SaveOnly();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.BttnClick_Dismiss=function(){this.jF2(".TestMenu").hide();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.SaveMenuClick_TestAndSave=function(){this.BttnClick_TestConnection2(true);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.SaveMenuClick_SaveOnly=function(){this.BttnClick_Dismiss();
this.OnSave.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.SaveMenuClick_Cancel=function(){this.jF2(".SaveMenu").hide();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.GetCssRoot=function(){return"\r\n                .ConnectionPropertiesBttns { }\r\n                .ConnectionPropertiesBttns .Bttn_NoHover { float: right; width: 7.08em; height: 4.166em; text-align: center; z-index: 3; position:relative;\r\n                                                           margin-left: 0.4166em; background: #e4e4e4; color: #fff; font-size: .75em; border-radius: 0.3333em; }\r\n                .ConnectionPropertiesBttns .Bttn { float: right; width: 7.08em; height: 4.166em; text-align: center; z-index: 3; position:relative; cursor: pointer;\r\n                                                   margin-left: 0.5555em; background: #14498f; color: #fff; font-size: .75em; border-radius: 0em; }\r\n                .ConnectionPropertiesBttns .Bttn_1Line { line-height: 3.75em; height: 3.75em; }\r\n                .ConnectionPropertiesBttns .Bttn_2Lines { padding-top: 0.625em; height: 3.125em; }\r\n                .ConnectionPropertiesBttns .Bttn:hover { background: #071f40; }\r\n\r\n                .ConnectionPropertiesBttns .TestBttn { z-index: 1; }\r\n                .ConnectionPropertiesBttns .SaveBttn { z-index: 1; }\r\n\r\n\r\n                .ConnectionPropertiesBttns .TestMenu { display:none; width: 7.08333em; font-size: .75em; position:absolute; top: 0px; right: 22.92em; z-index: 2; }\r\n                .ConnectionPropertiesBttns .TestMenu .LabelBttn1 { background: #235ca7; color: #678dc7; text-align: center; \r\n                                                                   padding-top: 0.8333em; height: 3.333em; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 { background: #235ca7; color: #fff; width: 25em; position:absolute; right: 0px; padding: 1.0833em 1.6666em; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestHead { display:none; letter-spacing: 0.0833333em; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestResponse { margin: 0.16666em 0em 2.5em; line-height: 1.5em; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestResponse .Passed { font-size: 1.5em; color: #57f25b; background: #4e7dbb; padding: 0.1111em 0.2777em 0.2222em; margin-bottom: 0.3333em; text-align: center; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestResponse .Failed { font-size: 1.5em; color: #c60606; background: #bed4f0; padding: 0.1666em 0.2777em 0.2222em; margin-bottom: 0.3333em; text-align: center; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestResponse .ScrollBox { overflow-y: auto; overflow-x: hidden; max-height: 27em; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestResponse .TableItem1 { font-size: .9em; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .TestResponse .TableItem1 span { color: #9cb8da; }\r\n\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .BttnSave { float: right; width: 12.5em; background: #1d5094; margin-right: 0.6666em;\r\n                                                                          line-height: 2.6666em; text-align: center; cursor: pointer; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .BttnSave:hover { background: #071f40; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .BttnDismiss { float: right; width: 7.5em; background: #1d5094;\r\n                                                                          line-height: 2.6666em; text-align: center; cursor: pointer; }\r\n                .ConnectionPropertiesBttns .TestMenu .Sub1 .BttnDismiss:hover { background: #071f40; }\r\n\r\n\r\n\r\n                .ConnectionPropertiesBttns .SaveMenu { display:none; width: 18.333em; font-size: .75em; position:absolute; top: 0px; right: 4em; z-index: 2; }\r\n                .ConnectionPropertiesBttns .SaveMenu .LabelBttn1 { background: #235ca7; color: #678dc7; text-align: center; \r\n                                                                     line-height: 4.1666em; width: 7.0833em; float: left; padding-bottom: 0.3333em; }\r\n                .ConnectionPropertiesBttns .SaveMenu .Sub1 { background: #235ca7; color: #fff; }\r\n                .ConnectionPropertiesBttns .SaveMenu .Sub1 .Bttn1 { line-height: 3.3333em; cursor: pointer; padding-left: 2.33333em; }\r\n                .ConnectionPropertiesBttns .SaveMenu .Sub1 .Bttn1:hover { background: #071f40; }\r\n                .ConnectionPropertiesBttns .SaveMenu .Sub1 .Bttn1 span { color: #7197cc; font-size: .8em; padding-left: 1.066em; }\r\n                .ConnectionPropertiesBttns .SaveMenu .Sub1 .Bttn1:hover span { color: #5477a9; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Bttn Bttn_1Line'             On_Click='BttnClick_Cancel'         >Cancel</div>\r\n                <div class='Bttn Bttn_2Lines DeleteBttn' On_Click='BttnClick_Delete'         >Delete Connection</div>\r\n                <div class='Bttn Bttn_1Line SaveBttn'    On_Click='BttnClick_Save'           >Save</div>\r\n                <div class='Bttn Bttn_2Lines TestBttn'   On_Click='BttnClick_TestConnection' >Test Connection</div>\r\n\r\n                <div class='TestMenu'>\r\n                    <div class='LabelBttn1'>Test Connection</div>\r\n                    <div class='Sub1'>\r\n                        <div class='TestHead'>Testing Connection</div>\r\n                        <div class='TestResponse YesSelect'></div>\r\n                        <div class='BttnDismiss' On_Click='BttnClick_Dismiss'>Dismiss</div>\r\n                        <div class='BttnSave'    On_Click='BttnClick_Save2'>Save Connection</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class='SaveMenu'>\r\n                    <div class='LabelBttn1'>Save</div>\r\n                    <div class='clear'>\r\n                    <div class='Sub1'>\r\n                        <div class='Bttn1' On_Click='SaveMenuClick_TestAndSave' >Test & Save Connection</div>\r\n                        <div class='Bttn1' On_Click='SaveMenuClick_SaveOnly'    >Save Without Testing</div>\r\n                        <div class='Bttn1' On_Click='SaveMenuClick_Cancel'      >Cancel <span>(Closes Save Options)</span></div>\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI=function(){this.ConnectionId=-1;
this.Temp_PasswordLength=0;
this.ConnectionPropertiesBttns=null;
this.RadioMenu_ActiveStatus=null;
this.RadioMenu_ConnectionTypes=null;
this.RadioMenu_ParametersTypes=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.get_IsNewConnection=function(){return(this.ConnectionId<0);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ConnectionPropertiesUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.ConnectionPropertiesBttns=new ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns();
this.jF2(".Holder_TopBttnsBar").append(this.ConnectionPropertiesBttns.jRoot);
this.ConnectionPropertiesBttns.OnRequestTest.After.AddHandler(this,"SubBttnClick_Test",1);
this.ConnectionPropertiesBttns.OnSave.After.AddHandler(this,"SubBttnClick_Save",0);
this.ConnectionPropertiesBttns.OnDelete.After.AddHandler(this,"SubBttnClick_Delete",0);
this.ConnectionPropertiesBttns.OnClose.After.AddHandler(this,"ExitPage",0);
this.RadioMenu_ActiveStatus=new ASPdb.FrameworkUI.Coms.RadioMenu("RadioMenu_ActiveStatus");
this.jF2(".Holder_RadioMenu_ActiveStatus").append(this.RadioMenu_ActiveStatus.jRoot);
this.RadioMenu_ActiveStatus.set_ViewModel(this.Get_RadioList_ActiveStatus());
this.RadioMenu_ActiveStatus.Open();
this.RadioMenu_ConnectionTypes=new ASPdb.FrameworkUI.Coms.RadioMenu("RadioMenu_ConnectionTypes");
this.jF2(".Holder_RadioMenu_ConnectionTypes").append(this.RadioMenu_ConnectionTypes.jRoot);
this.RadioMenu_ConnectionTypes.OnChange.After.AddHandler(this,"RadioMenu_ConnectionTypes_Change",0);
this.RadioMenu_ConnectionTypes.set_ViewModel(this.Get_RadioList_ConnectionTypes());
this.RadioMenu_ConnectionTypes.Open();
this.RadioMenu_ParametersTypes=new ASPdb.FrameworkUI.Coms.RadioMenu("RadioMenu_ParametersTypes");
this.jF2(".Holder_RadioMenu_ParametersTypes").append(this.RadioMenu_ParametersTypes.jRoot);
this.RadioMenu_ParametersTypes.OnChange.After.AddHandler(this,"RadioMenu_ParametersTypes_Change",0);
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Get_RadioList_ActiveStatus=function(){var a=new ASPdb.FrameworkUI.MRB.GenericUIList();
a.Add1("Active");
a.Add1("Hidden");
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Get_RadioList_ConnectionTypes=function(){var a=new ASPdb.FrameworkUI.MRB.GenericUIList();
a.Add2("SQLServer","SQL Server");
a.Add2("SQLServerAzure","SQL Server Azure");
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Get_RadioList_ParametersTypes___SQLServer=function(){var a=new ASPdb.FrameworkUI.MRB.GenericUIList();
a.Add2("WindowsIntegratedSecurity","Connection with Windows Integrated Security (recommended)");
a.Add2("SQLServerCredentials","Connection with SQL Server Username & Password");
a.Add2("ConnectionString","Custom Connection String");
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Get_RadioList_ParametersTypes___SQLServerAzure=function(){var a=new ASPdb.FrameworkUI.MRB.GenericUIList();
a.Add2("SQLServerCredentials","Connection with SQL Server Username & Password");
a.Add2("ConnectionString","Custom Connection String");
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Get_RadioList_ParametersTypes___MySQL=function(){var a=new ASPdb.FrameworkUI.MRB.GenericUIList();
a.Add2("???","??? - Connection with Windows Integrated Security (recommended) - ???");
a.Add2("MySQLCredentials","Connection with MySQL Username & Password");
a.Add2("ConnectionString","Custom Connection String");
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Open_Sub=function(){try{this.ConnectionId=1*ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().PageParam2;
}catch($$e9){this.ConnectionId=-1;
}if(isNaN(this.ConnectionId)){this.ConnectionId=-1;
}this.ConnectionPropertiesBttns.IsNewConnection=this.get_IsNewConnection();
this.ConnectionPropertiesBttns.Open();
this.jF2(".PleaseWait").hide();
this.jF2(".HideInitially").hide();
if(this.get_IsNewConnection()){this.set_Model(new ASPdatabaseNET.DataObjects.SQLObjects.ASPdb_Connection());
this.Load_FromModel();
}else{this.jF2(".PleaseWait").show();
var thisObj=this;
if(ASPdb.Security.AjaxSender.GetObj().IsReady){this.SendAjaxGet();
}else{eval("setTimeout(function(){ thisObj.SendAjaxGet() }, 2500);");
}}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.SendAjaxGet=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Get_AjaxReturn").YesEncryption().DatabaseConnections__Get(this.ConnectionId);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Get_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj.SingleConnectionInfo);
this.Load_FromModel();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Load_FromModel=function(){this.jF2(".PleaseWait").hide();
this.jF2(".HideInitially").show();
this.jF2(".Section_ConnectionMethod").hide();
this.jF2(".Section_Properties").hide();
this.BindUI();
if(this.get_Model().Active){this.RadioMenu_ActiveStatus.set_Model("Active");
}else{this.RadioMenu_ActiveStatus.set_Model("Hidden");
}this.RadioMenu_ConnectionTypes.set_Model(this.get_Model().ConnectionType);
this.RadioMenu_ParametersTypes.set_Model(this.get_Model().ParametersType);
this.RadioMenu_ConnectionTypes_Change();
this.RadioMenu_ParametersTypes_Change();
this.jF2(".Txt_ServerAddress").val(this.get_Model().Param_ServerAddress);
this.jF2(".Txt_DatabaseName").val(this.get_Model().Param_DatabaseName);
this.jF2(".Txt_Username").val(this.get_Model().Param_U);
this.jF2(".Txt_Password").val(this.get_Model().Param_P);
this.jF2(".Txt_ConnectionString").val(this.get_Model().Param_ConnectionString);
this.Temp_PasswordLength=this.get_Model().Param_P.length;
if(this.get_IsNewConnection()||!this.get_Model().Active){this.jF2(".InfoBox").hide();
this.jF2(".Bttn_GoToAssetManager").hide();
}else{this.jF2(".InfoBox").show();
this.jF2(".Bttn_GoToAssetManager").show();
this.jF2(".Bttn_GoToAssetManager").attr("href","#00-ManageAssets-"+this.ConnectionId);
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Update_Model_FromUI=function(){this.get_Model().Active=(this.RadioMenu_ActiveStatus.get_Model()=="Active");
this.get_Model().ConnectionName=this.jF2(".Txt_ConnectionName").val();
this.get_Model().ConnectionType=this.RadioMenu_ConnectionTypes.get_Model();
this.get_Model().ParametersType=this.RadioMenu_ParametersTypes.get_Model();
this.get_Model().Param_ServerAddress=this.jF2(".Txt_ServerAddress").val();
this.get_Model().Param_DatabaseName=this.jF2(".Txt_DatabaseName").val();
this.get_Model().Param_U=this.jF2(".Txt_Username").val();
this.get_Model().Param_P=this.jF2(".Txt_Password").val();
this.get_Model().Param_ConnectionString=this.jF2(".Txt_ConnectionString").val();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.SubBttnClick_Test=function(a){this.Update_Model_FromUI();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Test_AjaxReturn").YesEncryption().DatabaseConnections__Test(this.get_Model(),a);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Test_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}var b=a.ReturnObj;
this.ConnectionPropertiesBttns.Set_TestResponse(b.TestConnection_Passed,b.TestConnection_Message,b.SaveOnSuccess);
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.SubBttnClick_Save=function(){var a=this.jF2(".Txt_ConnectionName");
if(a.val().length<1){alert("Please give this connection a name.");
a.focus();
return;
}this.OnChange.Before.Fire();
this.Update_Model_FromUI();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_AjaxReturn").YesEncryption().DatabaseConnections__Save(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Save_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnChange.After.Fire();
this.ExitPage();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.SubBttnClick_Delete=function(){if(confirm("Are you sure you want to delete this connection?\n\nThere is no undo for this!")){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Delete_AjaxReturn").YesEncryption().DatabaseConnections__Delete(this.ConnectionId);
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Delete_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.ExitPage();
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.ExitPage=function(){if(ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().PageParam3=="MA"&&!this.get_IsNewConnection()){window.location.href="#00-ManageAssets-"+this.ConnectionId;
}else{window.location.href="#00-Connections";
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Txt_Password_OnFocus=function(){var a=this.jF2(".Txt_Password");
var b=a.val();
b=ASPdb.FrameworkUI.JsStr.Replace(b,"#","");
if(b.length<1){a.val("");
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.Txt_Password_OnBlur=function(){var c=this.jF2(".Txt_Password");
var d=c.val();
d=ASPdb.FrameworkUI.JsStr.Replace(d,"#","");
if(d.length<1){var b="";
for(var a=0;
a<this.Temp_PasswordLength;
a++){b+="#";
}c.val(b);
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.RadioMenu_ConnectionTypes_Change=function(){var a=false;
switch(this.RadioMenu_ConnectionTypes.get_Model()){case"SQLServer":this.RadioMenu_ParametersTypes.set_ViewModel(this.Get_RadioList_ParametersTypes___SQLServer());
break;
case"SQLServerAzure":this.RadioMenu_ParametersTypes.set_ViewModel(this.Get_RadioList_ParametersTypes___SQLServerAzure());
break;
case"MySQL":this.RadioMenu_ParametersTypes.set_ViewModel(this.Get_RadioList_ParametersTypes___MySQL());
break;
default:a=true;
break;
}this.jF2(".Section_Properties").hide();
if(a){this.jF2(".Section_ConnectionMethod").hide();
}else{this.jF2(".Section_ConnectionMethod").show();
this.RadioMenu_ParametersTypes.Open();
this.RadioMenu_ParametersTypes.set_Model(this.get_Model().ParametersType);
this.RadioMenu_ParametersTypes_Change();
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.RadioMenu_ParametersTypes_Change=function(){this.jF2(".Element_X").hide();
this.jF2(".Section_Properties").show();
if(this.RadioMenu_ParametersTypes.GetSelectedValue()==null){this.jF2(".Section_Properties").hide();
}var a=[0,0,0,0,0];
switch(this.RadioMenu_ParametersTypes.get_Model()){case"WindowsIntegratedSecurity":a=[1,1,0,0,0];
break;
case"SQLServerCredentials":a=[1,1,1,1,0];
break;
case"ConnectionString":a=[0,0,0,0,1];
break;
case"MySQLCredentials":a=[1,1,1,1,0];
break;
default:this.jF2(".Section_Properties").hide();
break;
}if(a[0]==1){this.jF2(".Element_ServerAddress").show();
}if(a[1]==1){this.jF2(".Element_ConnectionName").show();
}if(a[2]==1){this.jF2(".Element_Username").show();
}if(a[3]==1){this.jF2(".Element_Password").show();
}if(a[4]==1){this.jF2(".Element_ConnectionString").show();
}};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesBttns.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.GetCssRoot=function(){return"\r\n                .ConnectionPropertiesUI { }\r\n                .ConnectionPropertiesUI .PleaseWait { margin: 1.5em 1em; }\r\n                .ConnectionPropertiesUI .Holder_TopBttnsBar { position: relative; top: -55px; right: 0px; width: 47.5em; }\r\n\r\n                .ConnectionPropertiesUI .LeftColumn { float: left; width: 32em; }\r\n                .ConnectionPropertiesUI .RightColumn { float: left; width: 10em; margin-left: .9em; }\r\n\r\n\r\n                .ConnectionPropertiesUI .LeftColumn .Label1 { color: #14498f; font-size: 1.15em; margin-bottom: .2em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Txt_ConnectionName { background: #becada; color: #173a67; line-height: 2em; height: 2em; font-size: 1.3em;\r\n                                                                          width: 22em; padding: 0em .8em; border: .125em solid #173a67; }\r\n                .ConnectionPropertiesUI .LeftColumn .Txt_ConnectionName:focus { background: #fff; }\r\n                .ConnectionPropertiesUI .LeftColumn .Label2 { color: #959595; font-size: .58em; margin-top: 2px; margin-right: 7em; text-align: right; }\r\n\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType { margin-top: 1.1875em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType .SectionHead1 { position: relative; top: 1px;\r\n                                                                                          background: #929292; color: #fff; line-height: 1.69117em; font-size: .85em;\r\n                                                                                          width: 13em; text-align: center; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType .SectionBody1 { border: 1px solid #d4d4d4; background: #ededed; padding: 0.5625em 0.2em 0.5625em 0.6875em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType .SectionBody1 .Left1 { float: left; width: 11em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType .SectionBody1 .Right1 { float: left; width: 26em; margin-left: 1.2em; padding: 0.35em 0.89em; color: #14498f; \r\n                                                                                                    font-size: .65em; cursor:pointer; line-height: 1.60714em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType .SectionBody1 .Right1:hover { background: #aaa; color: #fff; }\r\n\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionType .SectionBody1 .Left1 .Item { font-size: .8em; }\r\n\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionMethod { font-size: .9em; border: 1px solid #d4d4d4; background: #ededed; padding: 0.625em 0.76em; margin-top: 2em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionMethod .Label { color: #173a67; margin-bottom: 0.5555em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_ConnectionMethod .Item { font-size: .9em; }\r\n\r\n\r\n                .ConnectionPropertiesUI .LeftColumn .Section_Properties { font-size: .9em; border: 1px solid #d4d4d4; background: #ededed; padding: 1.04em 0.76em 0.347em 2.7em; margin: 2.08em 0em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_Properties .Label { color: #173a67; font-size: .9em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_Properties input { width: 30em; margin-bottom: 1.04166em; border: 1px solid #b7b7b7; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_Properties textarea { width: 30em; height: 4.75em; margin-bottom: 1.04166em; border: 1px solid #b7b7b7; }\r\n\r\n                .ConnectionPropertiesUI .LeftColumn .Section_Properties .Txt_Password { margin-bottom: 0.35em; }\r\n                .ConnectionPropertiesUI .LeftColumn .Section_Properties .SubLabel_Password { margin-bottom: 1.852em; font-size: .75em; }\r\n\r\n\r\n                .ConnectionPropertiesUI .RightColumn .Holder_RadioMenu_ActiveStatus { border: 1px solid #d4d4d4; background: #ededed; padding: .5em 0.6875em; margin-top: .25em; }\r\n\r\n                .ConnectionPropertiesUI .RightColumn .InfoBox { margin: 0.9375em 0em 0em 1.625em; }\r\n                .ConnectionPropertiesUI .RightColumn .InfoBox .Label { color: #929292; font-size: 0.64em; }\r\n                .ConnectionPropertiesUI .RightColumn .InfoBox .Data { color: #173a67; font-size: .8em; margin: 0em 0em 0.9375em 0.85em; }\r\n\r\n                .ConnectionPropertiesUI .RightColumn .Bttn_GoToAssetManager { display:block; border: 1px solid #d4d4d4; line-height: 1.875em; \r\n                                                                              text-align: center; color: #14498f; \r\n                                                                              font-size: .7em; cursor: pointer; }\r\n                .ConnectionPropertiesUI .RightColumn .Bttn_GoToAssetManager:hover { background: #d4d4d4; }\r\n\r\n\r\n\r\n                .ConnectionPropertiesUI .Coms_RadioMenu .Item { cursor:pointer; line-height: 1.44em; padding-left: .75em; font-size: .95em; border-radius: 0.19em; }\r\n                .ConnectionPropertiesUI .Coms_RadioMenu .Item:hover { background: #5f5f5f; color: #fff; }\r\n                .ConnectionPropertiesUI .Coms_RadioMenu .Item input { margin-right: 1px; cursor: pointer; }\r\n                .ConnectionPropertiesUI .Coms_RadioMenu .Selected { background: #d3d3d3; }\r\n\r\n\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>Modify Database Connection</div>\r\n                <div class='Main'>\r\n                    <div class='PleaseWait'>\r\n                        Loading ... Please Wait\r\n                    </div>\r\n                    <div class='Holder_TopBttnsBar HideInitially'>\r\n                    </div>\r\n\r\n                    <div class='LeftColumn HideInitially'>\r\n                        <div class='Label1'>Database Connection Name</div>\r\n                        <input type='text' class='Txt_ConnectionName' ModelKey='ConnectionName' />\r\n                        <div class='Label2'>The name as vou would like it displayed in the ASPdatabase.NET application.</div>\r\n\r\n                        <div class='Section_ConnectionType'>\r\n                            <div class='SectionHead1'>Database Type</div>\r\n                            <div class='SectionBody1'>\r\n                                <div class='Left1 Holder_RadioMenu_ConnectionTypes'>\r\n                                </div>\r\n                                <a class='Right1' href='#00-SendFeedback'>\r\n                                    Would you like to connect to other types of databases? \r\n                                    If so CLICK HERE to send your feedback.\r\n                                </a>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class='Section_ConnectionMethod'>\r\n                            <div class='Label'>How would you like to connect to your database?</div>\r\n                            <div class='Holder_RadioMenu_ParametersTypes'></div>\r\n                        </div>\r\n\r\n                        <div class='Section_Properties'>\r\n                            <div class='Label Element_X Element_ServerAddress'>\r\n                            Server Address</div>\r\n                            <input class='Element_X Element_ServerAddress Txt_ServerAddress' type='text' />\r\n\r\n                            <div class='Label Element_X Element_ConnectionName'>\r\n                            Database Name</div>\r\n                            <input class='Element_X Element_ConnectionName Txt_DatabaseName' type='text' />\r\n\r\n                            <div class='Label Element_X Element_Username'>\r\n                            Username</div>\r\n                            <input class='Element_X Element_Username Txt_Username' type='text' />\r\n\r\n                            <div class='Label Element_X Element_Password'>\r\n                            Password</div>\r\n                            <input class='Element_X Element_Password Txt_Password' type='password' \r\n                                On_Focus='Txt_Password_OnFocus' \r\n                                On_Blur='Txt_Password_OnBlur' />\r\n                            <div class='Element_X Element_Password SubLabel_Password'>\r\n                                Passwords are stored using machine-specific encryption.<br />\r\n                                If you move this application to a different web server you will need to reenter this password.\r\n                                Industry standards are used for encryption; however, ASPdatabase.NET is not responsible for any security breach on your system.\r\n                            </div>\r\n\r\n                            <div class='Label Element_X Element_ConnectionString'>\r\n                            Connection String</div>\r\n                            <textarea class='Element_X Element_ConnectionString Txt_ConnectionString'></textarea>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class='RightColumn HideInitially'>\r\n                        <div class='Holder_RadioMenu_ActiveStatus'>\r\n                        </div>\r\n                        <div class='InfoBox'>\r\n                            <div class='Label'>Connection Id</div>\r\n                            <div class='Data' ModelKey='ConnectionId'></div>\r\n\r\n                            <div class='Label'>Date Created</div>\r\n                            <div class='Data' ModelKey='DateTimeCreated_String'></div>\r\n\r\n                            <div class='hide'>\r\n                            <div class='Label'>Created By</div>\r\n                            <div class='Data' ModelKey='CreatedByUsername'></div>\r\n\r\n                            <div class='Label'>Table Count</div>\r\n                            <div class='Data' ModelKey='TableCount'></div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <a class='HideInitially Bttn_GoToAssetManager'>Go to Asset Manager</a>\r\n                    </div>\r\n                    \r\n\r\n                    <div class='clear'></div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.EditViewSettings)=="undefined"){ASPdatabaseNET.UI.PageParts.EditViewSettings={};
}ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow=function(){this.IsPK=false;
this.OrdinalPosition=-1;
this.DisplayOrder=-1;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='ViewSettings_ColumnRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
this.jF2(".td1").html(":: &nbsp; <span>"+this.DisplayOrder+"</span> &nbsp; ? &nbsp; ?");
if(this.IsPK){this.jF2(".PK").show();
}this.jF2(".td3").html(this.OrdinalPosition);
if(this.OrdinalPosition==2){this.jF2(".Txt_Sort").val("1");
this.jF2(".SortArrow").html("?");
this.jF2(".SortArrow").addClass("SortArrow_On");
}};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.prototype.TdClick_SetAltName=function(){this.jF2(".Txt_AltColumnName").show();
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.GetCssRoot=function(){return"\r\n                .ViewSettings_ColumnRow { line-height: 25px; }\r\n                .ViewSettings_ColumnRow td { border-bottom: 1px solid #d6d6d6; }\r\n                .ViewSettings_ColumnRow .td1 { }\r\n                .ViewSettings_ColumnRow .td2 { text-align: center; }\r\n                .ViewSettings_ColumnRow .td3 { text-align: center; }\r\n                .ViewSettings_ColumnRow .td4 { }\r\n                .ViewSettings_ColumnRow .td5 { text-align: center; font-size: .7em; line-height: 12px; color: #7996cf; cursor: pointer; }\r\n                .ViewSettings_ColumnRow .td6 { text-align: center; }\r\n                .ViewSettings_ColumnRow .td7 { text-align: left; padding-left: 21px; }\r\n                .ViewSettings_ColumnRow .td8 { }\r\n                .ViewSettings_ColumnRow .td9 { }\r\n\r\n                .ViewSettings_ColumnRow .td1 span { color: #bbb; }\r\n\r\n                .ViewSettings_ColumnRow .PK { display:none; width: 25px; border: 1px solid #7fa7dd; background: #d6e1f0;\r\n                                              line-height: 17px; margin: 3px 0px 0px 5px; font-size: .9em; }\r\n                .ViewSettings_ColumnRow .Txt_AltColumnName { display:none; width: 258px; border: 1px solid #555; }\r\n                .ViewSettings_ColumnRow .td5:hover { color: #3e5b92; background: #dbe3f3; }\r\n                .ViewSettings_ColumnRow .Checkbox_Hide { }\r\n                .ViewSettings_ColumnRow .Txt_Sort { width: 25px; border: 1px solid #85a3cb; line-height: 12px; height: 12px;\r\n                                                    margin-top: 3px; text-align: center; font-size: .85em; }\r\n                .ViewSettings_ColumnRow .SortArrow { padding: 0px 8px 2px; margin: 0px 7px; font-size: 1.2em; }\r\n                .ViewSettings_ColumnRow .SortArrow_On:hover { background: #666; color: #fff; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='td1'>::</td>\r\n                <td class='td2'>\r\n                    <div class='PK'>PK</div>\r\n                </td>\r\n                <td class='td3'></td>\r\n                <td class='td4'>\r\n                    <div>Column Name 001</div>\r\n                    <input type='text' class='Txt_AltColumnName' />\r\n                </td>\r\n                <td class='td5' On_Click='TdClick_SetAltName'>Set Alt<br />Name</td>\r\n                <td class='td6'><input type='checkbox' class='Checkbox_Hide' /></td>\r\n                <td class='td7'><input type='text' class='Txt_Sort' /><span class='SortArrow'>&nbsp;</span></td>\r\n                <td class='td8'></td>\r\n                <td class='td9'></td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow=function(){this.DisplayOrder=-1;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='ViewSettings_SectionRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
this.jF2(".td1").html(":: &nbsp; <span>"+this.DisplayOrder+"</span> &nbsp; ? &nbsp; ?");
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow.GetCssRoot=function(){return"\r\n                .ViewSettings_SectionRow { line-height: 25px; }\r\n                .ViewSettings_SectionRow td { background: #3e74bb; color: #fff; border-top: 3px solid #12325d; vertical-align: middle; }\r\n                .ViewSettings_SectionRow .td1 { }\r\n                .ViewSettings_SectionRow .td2 { }\r\n\r\n                .ViewSettings_SectionRow .td1 span { color: #89acda; }\r\n\r\n                .ViewSettings_SectionRow .Label1 { float: right; width: 145px; padding-right: 15px; \r\n                                                   text-align: center; line-height: 50px; font-size: 1.2em; }\r\n                .ViewSettings_SectionRow .Div_SectionName { float: right; width: 295px; margin-bottom: 3px; }\r\n                .ViewSettings_SectionRow .Div_SectionName .Label2 { font-size: .8em; line-height: 17px; }\r\n                .ViewSettings_SectionRow .Div_SectionName .Txt_SectionName { width: 260px; line-height: 15px; font-size: 1.2em; }\r\n\r\n                .ViewSettings_SectionRow .Div_CheckboxOptions { float: right; width: 165px; font-size: .8em; line-height: 12px; margin: 2px 0px 4px; }\r\n                .ViewSettings_SectionRow .Div_CheckboxOptions div { }\r\n\r\n                .ViewSettings_SectionRow .Bttn { float: right; background: #14498f; cursor: pointer; text-align: center; \r\n                                                 font-size: .9em; padding: 8px 17px; margin: 4px 5px 0px 0px; }\r\n                .ViewSettings_SectionRow .Bttn:hover { background: #333; }\r\n                .ViewSettings_SectionRow .Bttn_Permissions { }\r\n                .ViewSettings_SectionRow .Bttn_Delete { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='td1'>::</td>\r\n                \r\n                <td class='td2' colspan='8'>\r\n                    <div class='Bttn Bttn_Delete'>X Delete</div>\r\n                    <div class='Bttn Bttn_Permissions'>Permissions</div>\r\n                    <div class='Div_CheckboxOptions'>\r\n                        <div><input type='checkbox' /> Hide on Grid</div>\r\n                        <div><input type='checkbox' /> Hide on Record Editor</div>\r\n                        <div title='Collapsed by Default in Record Editor'><input type='checkbox' /> Collapsed by Default</div>\r\n                    </div>\r\n                    <div class='Div_SectionName'>\r\n                        <div class='Label2'>Section Name</div>\r\n                        <input type='text' class='Txt_SectionName' />\r\n                    </div>\r\n                    <div class='Label1'>Column Section</div>\r\n                    <div class='clear'></div>\r\n                </td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Login)=="undefined"){ASPdatabaseNET.UI.PageParts.Login={};
}ASPdatabaseNET.UI.PageParts.Login.LoginMainUI=function(){this.LogoBox=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.DoPing();
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.DoPing=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"DoPing_Return").PingServerTime();
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.DoPing_Return=function(){var thisObj=this;
eval("setTimeout(function(){ thisObj.DoPing(); }, 90000);");
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='LoginMainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.LogoBox=new ASPdatabaseNET.UI.GlobalParts.LogoBox();
this.LogoBox.Instantiate();
this.jF(".TopBar").append(this.LogoBox.jRoot);
this.LogoBox.Open();
var thisObj=this;
var u=this.jF(".Txt_Username");
var p=this.jF(".Txt_Password");
eval("u.keydown(function(event) { thisObj.OnKeyDown(event) });");
eval("p.keydown(function(event) { thisObj.OnKeyDown(event) });");
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.Open_Sub=function(){this.jF(".MessageDiv").hide();
this.jF(".FormDiv").show();
this.jF(".Txt_Username").focus();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"IsInDemoMode_Return").Authentication__IsInDemoMode();
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.IsInDemoMode_Return=function(b){try{if(b.ReturnObj==true){this.jF(".Txt_Username").val("demo");
this.jF(".Txt_Password").val("1234Demo1234");
}}catch(a){}};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.OnKeyDown=function(a){this.jF(".ErrorMessage").hide();
switch(a.keyCode){case 37:break;
case 38:break;
case 39:break;
case 40:break;
case 13:this.LoginBttn_Click();
break;
}};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.LoginBttn_Click=function(){var a=ASPdb.Security.AjaxSender.GetObj();
a.OnReady.After.AddHandler(this,"LoginBttn_Step2",0);
if(!a.IsReady){this.jF(".ErrorMessage").hide();
this.jF(".MessageDiv").show().html("Loading Security Keys");
this.jF(".FormDiv").hide();
a.Initialize();
}else{this.LoginBttn_Step2();
}};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.LoginBttn_Step2=function(){this.jF(".ErrorMessage").hide();
this.jF(".MessageDiv").show().html("Authenticating");
this.jF(".FormDiv").hide();
var b=this.jF(".Txt_Username").val();
var a=this.jF(".Txt_Password").val();
this.jF(".Txt_Password").val("");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Login_Return").YesEncryption().Authentication__Login(b,a);
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.Login_Return=function(a){this.jF(".MessageDiv").hide();
this.jF(".FormDiv").show();
if(a.Error!=null){this.jF(".ErrorMessage").html(a.Error.Message).show();
this.jF(".Txt_Username").focus();
return;
}this.jF(".FormDiv").hide();
var c=a.ReturnObj;
var b=window.location.hash;
if(c.UserId>-1){window.location=("ASPdatabase.NET.aspx"+b);
}};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.GlobalParts.LogoBox.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.GetCssRoot=function(){return"\r\n                .LoginMainUI { }\r\n                .LoginMainUI .TopBar { height: 75px; line-height: 75px; background: #14498f; color: #fff; }\r\n                .LoginMainUI .TopBar .LogoLink { float: left; display:block; width: auto; line-height: 40px; margin-top: 18px; \r\n                                                 margin-left: 15px; padding: 0px 14px; font-size: 1.25em; color:#fff; }\r\n                .LoginMainUI .TopBar .LogoLink:hover { background: #0f366b; }\r\n\r\n                .LoginMainUI .LoginBoxWrap { margin: auto; width: 400px; max-width: 400px; min-width: 400px; }\r\n                .LoginMainUI .LoginBorderBox { border: 1px solid #e4e4e4; margin: 50px 0px; box-shadow: 1px 1px 17px #ddd; }\r\n                .LoginMainUI .MessageDiv { display:block; margin: 15px; }\r\n                .LoginMainUI .FormDiv { display:none; margin: 50px 60px 50px 80px; color: #888; font-size: .8em; }\r\n\r\n                .LoginMainUI .Txt { border: 1px solid #14498f; width: 240px; padding: 3px; margin: 0px; font-size: 1.5em; margin-bottom: 20px; }\r\n                .LoginMainUI .Bttn_Login { background: #14498f; color: #fff; font-size: 1.2em; }\r\n                .LoginMainUI .Bttn_Login:hover { background: #787e86; }\r\n\r\n                .LoginMainUI .ErrorMessage { display:none; margin-top: 30px; color: red; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopBar'>\r\n                    \r\n                </div>\r\n\r\n                <div class='LoginBoxWrap'>\r\n                    <div class='LoginBorderBox'>\r\n\r\n                        <div class='MessageDiv'>Loading</div>\r\n                        <div class='FormDiv'>\r\n                            Username\r\n                            <br />\r\n                            <input type='text' class='Txt Txt_Username' value='' autocomplete='off' autocapitalize='off' />\r\n                            <br />\r\n                            Password\r\n                            <br />\r\n                            <input type='password' class='Txt Txt_Password' value='' />\r\n                            <br />\r\n                            <input type='button' class='Bttn_Login' value='Login' On_Click='LoginBttn_Click' />\r\n                            <div class='ErrorMessage'></div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Login.LoginMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.ManageAssets)=="undefined"){ASPdatabaseNET.UI.PageParts.ManageAssets={};
}ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='SchemasPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.OnModel_Set=function(){this.Refresh();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.Refresh=function(){var c=this.jF2(".MenuTable");
c.find(".jRoot").remove();
if(this.get_Model()!=null){for(var a=0;
a<this.get_Model().length;
a++){var b=new ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow();
b.set_Model(this.get_Model()[a]);
b.Instantiate();
b.OnChange.After.AddHandler(this,"SubItem_Changed",0);
c.append(b.jRoot);
}}};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.BttnClick_NewSchema=function(){this.jF2(".NewSchemaBox").show();
this.jF2(".Txt_NewSchemaName").focus();
this.jF2(".Txt_NewSchemaName").val("");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.BttnClick_SaveNewSchema=function(){this.jF2(".NewSchemaBox").hide();
this.jF2(".NewSchemaBox_PleaseWait").show();
var a=this.jF2(".Txt_NewSchemaName").val();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Response").ManageAssets__Schemas__SaveNew(this.get_ViewModel(),a);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.Save_Response=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.jF2(".NewSchemaBox_PleaseWait").hide();
this.jF2(".Txt_NewSchemaName").val("");
this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.BttnClick_CancelNewSchema=function(){this.jF2(".NewSchemaBox").hide();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.SubItem_Changed=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.GetCssRoot=function(){return"\r\n                .SchemasPanel { padding-top: 0px; }\r\n\r\n                .SchemasPanel .BttnsBar { margin: 12px 0px; position:relative; }\r\n                .SchemasPanel .BttnsBar .Bttn { float:right; background: #14498f; color: #fff; line-height: 28px;\r\n                                               padding: 0px 20px; cursor: pointer; margin-left: 20px; font-size: .9em; }\r\n                .SchemasPanel .BttnsBar .Bttn:hover { background: #1d2d42; }\r\n\r\n                .SchemasPanel .BttnsBar .NewSchemaBox { display:none; position:absolute; right: 0px; width: 500px; color: #fff; \r\n                                                        background: #14498f; font-size: .8em; padding: 9px 14px; }\r\n                .SchemasPanel .BttnsBar .NewSchemaBox input { width: 190px; margin-left: 11px; }\r\n                .SchemasPanel .BttnsBar .NewSchemaBox .Bttn1 { float:right; width:auto; cursor:pointer; border: 1px solid #6185b4;\r\n                                                               margin-left: 9px; padding: 1px 8px; }\r\n                .SchemasPanel .BttnsBar .NewSchemaBox .Bttn1:hover { background: #000; border: 1px solid #000; }\r\n                .SchemasPanel .BttnsBar .NewSchemaBox_PleaseWait { display:none; position:absolute; right: 0px; width: 500px; color: #fff; \r\n                                                        background: #14498f; font-size: .8em; padding: 9px 14px;  }\r\n\r\n\r\n                .SchemasPanel .MenuTable { width: 100%; }\r\n                .SchemasPanel .MenuTable th { font-weight: normal; color: #878787; font-size: .65em; border-bottom: 1px solid #c3c3c3; \r\n                                             text-align: left; padding: 0px 0px 1px 5px; }\r\n                .SchemasPanel .MenuTable .th1 { }\r\n                .SchemasPanel .MenuTable .th2 { text-align: center; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.prototype.GetHtmlRoot=function(){return"\r\n\r\n                <div class='BttnsBar'>\r\n                    <div class='NewSchemaBox'>\r\n                        New Schema Name\r\n                        <input type='text' class='Txt_NewSchemaName' />\r\n                        <div class='Bttn1 Bttn_CancelNewSchema' On_Click='BttnClick_CancelNewSchema'>Cancel</div>\r\n                        <div class='Bttn1 Bttn_SaveNewSchema' On_Click='BttnClick_SaveNewSchema'>Save</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='NewSchemaBox_PleaseWait'>Please Wait</div>\r\n                    <div class='Bttn' On_Click='BttnClick_NewSchema'>+ New Schema</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='AutoResize'>\r\n                    <table class='MenuTable'>\r\n                        <tr>\r\n                            <th class='th1'>Schema Name</th>\r\n                            <th class='th2'>(Only if Schema is empty)</th>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                \r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='SchemasPanel_MenuRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.get_Model()!=null){this.jF2(".Label_SchemaName").html(this.get_Model().Schema);
}this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.prototype.BttnClick_Name=function(){};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.prototype.BttnClick_Delete=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Delete_Response").ManageAssets__Schemas__Delete(this.get_Model().ConnectionId,this.get_Model().Schema);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.prototype.Delete_Response=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.GetCssRoot=function(){return"\r\n                .SchemasPanel_MenuRow { font-size: .9em; }\r\n                .SchemasPanel_MenuRow td { border: 1px solid #c3c3c3; border-top-width: 0px; line-height: 40px; }\r\n                .SchemasPanel_MenuRow .td1 { border-left-width: 0px; padding-left: 10px; }\r\n                .SchemasPanel_MenuRow .td2 { width: 165px; }\r\n                .SchemasPanel_MenuRow .Bttn { color: #14498f; text-align:center; font-size: .78em; cursor: pointer; }\r\n                .SchemasPanel_MenuRow .Bttn:hover { background: #888; color:#fff; }\r\n\r\n                .SchemasPanel_MenuRow:hover { background: #ececec; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='td1 Label_SchemaName' On_Click='BttnClick_Name'></td>\r\n                <td class='td2 Bttn' On_Click='BttnClick_Delete' >Delete</td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel_MenuRow,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel=function(a){this.HoldsHiddenItems=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.HoldsHiddenItems=a;
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='SQLViewsPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.OnModel_Set=function(){this.Refresh();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.Refresh=function(){var c=this.jF2(".MenuTable");
c.find(".jRoot").remove();
if(this.get_Model()!=null){for(var a=0;
a<this.get_Model().length;
a++){var b=new ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow(this.HoldsHiddenItems);
b.set_Model(this.get_Model()[a]);
b.Instantiate();
b.OnChange.After.AddHandler(this,"SubItem_Changed",0);
c.append(b.jRoot);
}}};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.BttnClick_NewSQLView=function(){alert("+ New SQL View");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.SubItem_Changed=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.GetCssRoot=function(){return"\r\n                .SQLViewsPanel { padding-top: 0px; }\r\n\r\n                .SQLViewsPanel .BttnsBar { margin: 12px 0px; }\r\n                .SQLViewsPanel .BttnsBar .Bttn { float:right; background: #14498f; color: #fff; line-height: 28px;\r\n                                               padding: 0px 20px; cursor: pointer; margin-left: 20px; font-size: .9em; }\r\n                .SQLViewsPanel .BttnsBar .Bttn:hover { background: #1d2d42; }\r\n                \r\n                .SQLViewsPanel .MenuTable { width: 100%; }\r\n                .SQLViewsPanel .MenuTable th { font-weight: normal; color: #878787; font-size: .65em; border-bottom: 1px solid #c3c3c3; \r\n                                             text-align: left; padding: 0px 0px 1px 5px; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.prototype.GetHtmlRoot=function(){return"\r\n\r\n                <div class='BttnsBar'>\r\n                    <div class='Bttn hide' On_Click='BttnClick_NewSQLView'>+ New SQL View</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='AutoResize'>\r\n                    <table class='MenuTable'>\r\n                        <tr>\r\n                            <th>[Schema].[View Name]</th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow=function(a){this.HoldsHiddenItems=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.HoldsHiddenItems=a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='SQLViewsPanel_MenuRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.get_Model()!=null){this.jF2(".Label_SQLViewName").html(this.GetDisplayName());
}if(this.HoldsHiddenItems){this.jF2(".td2").html("Unhide");
}else{this.jF2(".td2").html("Hide");
}this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.GetDisplayName=function(){var a="";
if(this.get_Model().UseSquareBrackets_Schema){a+="["+this.get_Model().Schema+"].";
}else{a+=this.get_Model().Schema+".";
}if(this.get_Model().UseSquareBrackets_GenericName){a+="[<span>"+this.get_Model().GenericName+"</span>]";
}else{a+="<span>"+this.get_Model().GenericName+"</span>";
}return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.BttnClick_Name=function(){alert("BttnClick_Name: "+this.get_Model().Schema+"."+this.get_Model().GenericName);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.BttnClick_Hide=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Views_ShowHide_Response").ManageAssets__Views_ShowHide(this.get_Model().ConnectionId,this.get_Model().GenericId,!this.HoldsHiddenItems);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.Views_ShowHide_Response=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.BttnClick_Permissions=function(){alert("02");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.BttnClick_Rename=function(){var a=prompt("New View Name",this.get_Model().GenericName);
if(a!=null){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Rename_Return").ManageAssets__Views_Rename(this.get_Model().ConnectionId,this.get_Model().GenericId,a);
}};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.Rename_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.BttnClick_EditSQL=function(){alert("03");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.BttnClick_Delete=function(){alert("04");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.GetCssRoot=function(){return"\r\n                .SQLViewsPanel_MenuRow { font-size: .9em; }\r\n                .SQLViewsPanel_MenuRow td { border: 1px solid #c3c3c3; border-top-width: 0px; line-height: 40px; }\r\n                .SQLViewsPanel_MenuRow .td1 { color: #aaa; border-left-width: 0px; padding-left: 10px; } \r\n                .SQLViewsPanel_MenuRow .td1 span { color: #222; }\r\n                .SQLViewsPanel_MenuRow .td2 { width: 60px; }\r\n                .SQLViewsPanel_MenuRow .td3 { width: 100px; }\r\n                .SQLViewsPanel_MenuRow .td4 { width: 70px; }\r\n                .SQLViewsPanel_MenuRow .td5 { width: 80px; }\r\n                .SQLViewsPanel_MenuRow .td6 { width: 70px; }\r\n                .SQLViewsPanel_MenuRow .Bttn { color: #14498f; text-align:center; font-size: .78em; cursor: pointer; }\r\n                .SQLViewsPanel_MenuRow .Bttn:hover { background: #888; color:#fff; }\r\n\r\n                .SQLViewsPanel_MenuRow:hover { background: #ececec; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='td1 Label_SQLViewName' On_Click='BttnClick_Name'></td>\r\n                <td class='td2 Bttn' On_Click='BttnClick_Hide'        >Hide</td>\r\n                <td class='td4 Bttn' On_Click='BttnClick_Rename'      >Rename</td>\r\n                <td class='td5 Bttn hide' On_Click='BttnClick_EditSQL'     >Edit SQL</td>\r\n                <td class='td6 Bttn hide' On_Click='BttnClick_Delete'      >Delete</td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel_MenuRow,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel=function(a){this.HoldsHiddenItems=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.HoldsHiddenItems=a;
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TablesPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.OnModel_Set=function(){this.Refresh();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.Refresh=function(){var c=this.jF2(".MenuTable");
c.find(".jRoot").remove();
if(this.get_Model()!=null){for(var a=0;
a<this.get_Model().length;
a++){var b=new ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow(this.HoldsHiddenItems);
b.set_Model(this.get_Model()[a]);
b.Instantiate();
b.OnChange.After.AddHandler(this,"SubItem_Changed",0);
c.append(b.jRoot);
}}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.Bttn_CreateTable_Click=function(){var url="#00-TableDesign-New-"+this.get_ViewModel();
eval("window.location = url;");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.Bttn_ImportTable_Click=function(){alert("+ Import Table");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.SubItem_Changed=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.GetCssRoot=function(){return"\r\n                .TablesPanel { }\r\n\r\n                .TablesPanel .BttnsBar { margin: 12px 0px; }\r\n                .TablesPanel .BttnsBar .Bttn { float:right; background: #14498f; color: #fff; line-height: 28px;\r\n                                               padding: 0px 20px; cursor: pointer; margin-left: 20px; font-size: .9em; }\r\n                .TablesPanel .BttnsBar .Bttn:hover { background: #1d2d42; }\r\n                \r\n                .TablesPanel .MenuTable { width: 100%; }\r\n                .TablesPanel .MenuTable th { font-weight: normal; color: #878787; font-size: .65em; border-bottom: 1px solid #c3c3c3; \r\n                                             text-align: left; padding: 0px 0px 1px 5px; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.prototype.GetHtmlRoot=function(){return"\r\n\r\n                <div class='BttnsBar'>\r\n                    <div class='Bttn hide' On_Click='Bttn_ImportTable_Click'>+ Import Table</div>\r\n                    <div class='Bttn' On_Click='Bttn_CreateTable_Click'>+ Create Table</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='AutoResize'>\r\n                    <table class='MenuTable'>\r\n                        <tr>\r\n                            <th>[Schema].[Table Name]</th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow=function(a){this.HoldsHiddenItems=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.HoldsHiddenItems=a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='TablesPanel_MenuRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.get_Model()!=null){this.jF2(".Label_TableName").html(this.GetDisplayName());
this.jF2(".A_DesignStructure").attr("href","#00-TableDesign-"+this.get_Model().GenericId);
this.jF2(".A_Permissions").attr("href","#00-TablePermissions-"+this.get_Model().GenericId);
}if(this.HoldsHiddenItems){this.jF2(".Bttn_ShowHide").html("Unhide");
}else{this.jF2(".Bttn_ShowHide").html("Hide");
}this.BindUI();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.GetDisplayName=function(){var a="";
if(this.get_Model().UseSquareBrackets_Schema){a+="["+this.get_Model().Schema+"].";
}else{a+=this.get_Model().Schema+".";
}if(this.get_Model().UseSquareBrackets_GenericName){a+="[<span>"+this.get_Model().GenericName+"</span>]";
}else{a+="<span>"+this.get_Model().GenericName+"</span>";
}return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.TablesMethod_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.BttnClick_Name=function(){window.location=("#00-Table-"+this.get_Model().GenericId);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.BttnClick_Hide=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"TablesMethod_Return").ManageAssets__Tables_ShowHide(this.get_Model().ConnectionId,this.get_Model().GenericId,!this.HoldsHiddenItems);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.BttnClick_Rename=function(){var a=prompt("New Table Name",this.get_Model().GenericName);
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"TablesMethod_Return").ManageAssets__Tables_Rename(this.get_Model().ConnectionId,this.get_Model().GenericId,a);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.BttnClick_Delete=function(){if(prompt('Are you sure?\n\nIf so, type "delete table"')=="delete table"){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"TablesMethod_Return").ManageAssets__Tables_Delete(this.get_Model().ConnectionId,this.get_Model().GenericId);
}};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.BttnClick_Export=function(){alert("Export: "+this.get_Model().GenericId);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.GetCssRoot=function(){return"\r\n                .TablesPanel_MenuRow { font-size: .9em; }\r\n                .TablesPanel_MenuRow td { border: 1px solid #c3c3c3; border-top-width: 0px; line-height: 40px; }\r\n                .TablesPanel_MenuRow .td1 { color: #aaa; border-left-width: 0px; padding-left: 10px; }\r\n                .TablesPanel_MenuRow .td1 span { color: #222; }\r\n                .TablesPanel_MenuRow .td2 { width: 55px; }\r\n                .TablesPanel_MenuRow .td3 { width: 68px; }\r\n                .TablesPanel_MenuRow .td4 { width: 85px; }\r\n                .TablesPanel_MenuRow .td5_a { width: 61px; }\r\n                .TablesPanel_MenuRow .td6 { width: 65px; line-height: 16px; padding-top: 3px; }\r\n                .TablesPanel_MenuRow .td7 { width: 51px; }\r\n                .TablesPanel_MenuRow .Bttn { color: #14498f; text-align:center; font-size: .78em; cursor: pointer; }\r\n                .TablesPanel_MenuRow .Bttn:hover { background: #888; color:#fff; }\r\n                .TablesPanel_MenuRow .Bttn .a4 { color: #14498f; display:block; line-height: 16px; padding: 3px 0px 5px; }\r\n                .TablesPanel_MenuRow .Bttn .a5 { color: #14498f; display:block; line-height: inherit; }\r\n                .TablesPanel_MenuRow .Bttn a:hover { background: #888; color:#fff; }\r\n\r\n                .TablesPanel_MenuRow .td4:hover { cursor: default; background: #ececec; color: #14498f; }\r\n                .TablesPanel_MenuRow .td5:hover { cursor: default; background: #ececec; color: #14498f; }\r\n\r\n                .TablesPanel_MenuRow:hover { background: #ececec; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='td1 Label_TableName' On_Click='BttnClick_Name'></td>\r\n                <td class='td2 Bttn Bttn_ShowHide' On_Click='BttnClick_Hide'>Hide</td>\r\n                <td class='td3 Bttn'>\r\n                    <a class='a4 A_DesignStructure' href='#'>Design<br />Structure</a>\r\n                </td>\r\n                <td class='td5_a Bttn' On_Click='BttnClick_Rename'       >Rename</td>\r\n                <td class='td6 Bttn' On_Click='BttnClick_Delete' >Delete<br />Table</td>\r\n                <td class='td7'>&nbsp;</td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel_MenuRow,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.SendFeedback)=="undefined"){ASPdatabaseNET.UI.PageParts.SendFeedback={};
}ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='SendFeedbackMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.Open_Sub=function(){this.jF(".Main1").hide();
this.jF(".Main2").hide();
this.jF(".HideOnAnonymous").show();
this.jF(".DivCheckbox").removeClass("DivCheckbox_On");
this.jF("input[type=text]").val("");
this.jF("input[type=checkbox]").removeAttr("checked");
this.jF("textarea").val("");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").Feedback__GetInfo();
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.GetInfo_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.BindUI();
this.jF(".Main1").show();
this.jF(".T_Name").focus();
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.D_RequestFollowup_Click=function(){this.get_Model().RequestFollowup=!this.get_Model().RequestFollowup;
if(this.get_Model().RequestFollowup){this.jF(".D_RequestFollowup").addClass("DivCheckbox_On");
this.jF(".C_RequestFollowup").attr("checked",true);
}else{this.jF(".D_RequestFollowup").removeClass("DivCheckbox_On");
this.jF(".C_RequestFollowup").removeAttr("checked");
}};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.D_SendAnonymously_Click=function(){this.get_Model().Anonymous=!this.get_Model().Anonymous;
if(this.get_Model().Anonymous){this.jF(".D_SendAnonymously").addClass("DivCheckbox_On");
this.jF(".C_SendAnonymously").attr("checked",true);
this.jF(".HideOnAnonymous").hide();
}else{this.jF(".D_SendAnonymously").removeClass("DivCheckbox_On");
this.jF(".C_SendAnonymously").removeAttr("checked");
this.jF(".HideOnAnonymous").show();
}};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.B_SendFeedBack_Click=function(){this.get_Model().Name="";
this.get_Model().Email="";
if(!this.get_Model().Anonymous){this.get_Model().Name=this.jF(".T_Name").val();
this.get_Model().Email=this.jF(".T_Email").val();
}this.get_Model().Message=this.jF(".T_Message").val();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Send_Return").Feedback__Send(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.Send_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.jF(".Main1").hide();
this.jF(".Main2").show().html(a.ReturnObj);
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.B_Cancel_Click=function(){window.location="ASPdatabase.NET.aspx#00-Home";
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.GetCssRoot=function(){return"\r\n                .SendFeedbackMainUI { }\r\n                .SendFeedbackMainUI a { font-size: .7em; font-style: italic; }\r\n                .SendFeedbackMainUI a:hover { background: #ddd; }\r\n                .SendFeedbackMainUI input[type=text] { border:1px solid #2c5eab; width: 16em; }\r\n                .SendFeedbackMainUI .T_Name { }\r\n                .SendFeedbackMainUI .T_Email { }\r\n                .SendFeedbackMainUI .D_AppVersion { border:1px solid #2c5eab; width: 16em; background: #e0e0e0; line-height: 1.375em; padding: 0em 0.1875em; }\r\n                .SendFeedbackMainUI .C_RequestFollowup { }\r\n                .SendFeedbackMainUI .C_SendAnonymously { }\r\n                .SendFeedbackMainUI .T_Message { width: 35em; height: 9.5em; }\r\n                .SendFeedbackMainUI .B_SendFeedBack { float:left; padding: .2em .9em; background: #134084; color: #fff; cursor:pointer; }\r\n                .SendFeedbackMainUI .B_SendFeedBack:hover { background: #444; }\r\n\r\n                .SendFeedbackMainUI .Bttn { float:left; padding: .2em .9em; background: #134084; color: #fff; cursor:pointer; margin-left: 1em; }\r\n                .SendFeedbackMainUI .Bttn:hover { background: #444; }\r\n\r\n                .SendFeedbackMainUI .DivCheckbox { float:left; padding: .2em 1em; width: 14em; border: 1px solid #fff; border-radius: .4em; cursor:pointer; }\r\n                .SendFeedbackMainUI .DivCheckbox:hover { border-color: #888; background: #bbb; }\r\n                .SendFeedbackMainUI .DivCheckbox_On { border-color: #134083; background: #5f8cd0; color: #fff; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>Send Feedback to Michael Tanner <a href='https://www.aspdatabase.net/' target='_blank'>(of ASPdatabase.NET LLC)</a></div>\r\n                <div class='Main Main1'>\r\n                    <br />\r\n                    <br />\r\n                    <div class='HideOnAnonymous'>\r\n                        Name <br />\r\n                        <input type='text' class='T_Name' ModelKey='Name' />\r\n                        <br />\r\n                        <br />\r\n                        Email <br />\r\n                        <input type='text' class='T_Email' ModelKey='Email' />\r\n                        <br />\r\n                        <br />\r\n                        AppVersion <br />\r\n                        <div class='D_AppVersion' ModelKey='AppVersion'>&nbsp;</div>\r\n                        <br />\r\n                        <br />\r\n\r\n                        <div class='D_RequestFollowup DivCheckbox' On_Click='D_RequestFollowup_Click'>\r\n                            <input type='checkbox' class='C_RequestFollowup' />\r\n                            Request Followup\r\n                        </div>\r\n                        <div class='clear'></div>\r\n                        <br />\r\n                    </div>\r\n\r\n                    <div class='D_SendAnonymously DivCheckbox' On_Click='D_SendAnonymously_Click'>\r\n                        <input type='checkbox' class='C_SendAnonymously' />\r\n                        Send Anonymously\r\n                    </div>\r\n                    <div class='clear'></div>\r\n                    <br />\r\n\r\n                    Message <br />\r\n                    <textarea class='T_Message'></textarea>\r\n                    <br />\r\n                    <br />\r\n                    <div class='B_SendFeedBack' On_Click='B_SendFeedBack_Click'>Send Feedback</div>\r\n                    <div class='Bttn' On_Click='B_Cancel_Click'>Cancel</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='Main Main2'>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.HomePage)=="undefined"){ASPdatabaseNET.UI.PageParts.HomePage={};
}ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='HomePageMainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
if(this.jF(".S_Welcome").html()=="Welcome"){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").HomePage__GetInfo();
}};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.prototype.GetInfo_Return=function(a){if(a.Error!=null){return;
}this.set_Model(a.ReturnObj);
this.jF(".S_Welcome").html("Welcome "+this.get_Model().FirstName);
this.jF(".Column2").html(this.get_Model().HomeHTML);
this.BindUI();
if(this.get_Model().UserIsAdmin){this.jF(".Box2a").show();
this.jF(".Box2b").hide();
}else{this.jF(".Box2a").hide();
this.jF(".Box2b").show();
this.jF(".Column2").html("");
}};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.prototype.Feedback_Click=function(){window.location="ASPdatabase.NET.aspx#00-SendFeedback";
};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.prototype.About_Click=function(){window.location="ASPdatabase.NET.aspx#00-About-ASPdatabase.NET";
};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.GetCssRoot=function(){return"\r\n                .HomePageMainUI { padding: 3.0625em 0em 0em 3.0625em; }\r\n                .HomePageMainUI .Column1 { float:left; width: 18.75em; margin-right: 0.3125em; }\r\n                .HomePageMainUI .Column2 { float:left; width: 22.5em; background: #f5f5f5; border-top: 0.6875em solid #e0e0e0; }\r\n\r\n                .HomePageMainUI .Box1 { background: #2568c2; color: #fff; line-height: 6.875em; margin-bottom: 0.3125em; text-align:center; }\r\n                .HomePageMainUI .Box1 span { font-size: 1.2em; }\r\n\r\n                .HomePageMainUI .Box2 { background: #f96d49; color: #fff; line-height: 2.2375em; margin-bottom: 0.3125em; padding: 1.2em 0em 1.2em 1.1em; }\r\n                .HomePageMainUI .Box2:hover { background: #e84a22; }                \r\n                .HomePageMainUI .Box2 span { font-size: .8em; }\r\n                .HomePageMainUI .Box2b { display:none; }\r\n\r\n                .HomePageMainUI .Box3 { font-size: .7em; color: #555; background: #e4e4e4; line-height: 2em; margin-bottom: 0.3125em; text-align:center; cursor:pointer; }\r\n                .HomePageMainUI .Box3:hover { background: #555; color: #fff; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Column1'>\r\n                    <div class='Box1'>\r\n                        <span class='S_Welcome'>Welcome</span>\r\n                    </div>\r\n                    <div class='Box2 Box2a' On_Click='Feedback_Click'>\r\n                        <span On_Click='Feedback_Click'>\r\n                        How can we improve ASPdatabase.NET? <br />\r\n                        Send your Feedback & Questions >>\r\n                        </span>\r\n                    </div>\r\n                    <div class='Box2 Box2b'>\r\n                        <span>\r\n                            &nbsp;\r\n                        </span>\r\n                    </div>\r\n                    <div class='Box3' On_Click='About_Click'>\r\n                        ASPdatabase.NET <span class='Copy' ModelKey='Version'></span>\r\n                        <div class='Copy' ModelKey='CopyrightLine'></div>\r\n                    </div>\r\n                </div>\r\n                <div class='Column2 AutoResize'>\r\n                    &nbsp;\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel=function(a){this.ColumnsRows=null;
this.OnHasPendingChanges=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnGotoTab=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnSaved=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.TotalCoumnsInUI_Min=50;
this.TotalCoumnsInUI_MinEmpty=10;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(a);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ColumnsPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.Open_Sub=function(){var saveBttn=this.jF2(".SaveBttn");
var holder_ColumnRows=this.jF2(".Holder_ColumnRows");
holder_ColumnRows.html("").scrollTop();
if(this.get_ViewModel().IsCreateNew){this.jF(".PK_OnlyNew").show();
}else{this.jF(".PK_OnlyNew").hide();
}saveBttn.hide();
this.ColumnsRows=[];
if(!this.get_ViewModel().IsCreateNew){for(var i=0;
i<this.get_Model().Columns.length;
i++){this.ColumnsRows[i]=new ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow(this.get_Model().Columns[i],this.get_ViewModel());
this.ColumnsRows[i].get_Model().ColumnName_Original=this.ColumnsRows[i].get_Model().ColumnName;
this.ColumnsRows[i].get_Model().ChangeAction=3;
this.Instantiate_AndAttachEvents(this.ColumnsRows[i]);
holder_ColumnRows.append(this.ColumnsRows[i].jRoot);
}saveBttn.show().removeClass("SaveBttn_Active");
}this.Build_ColumnsRows();
var thisObj=this;
eval("holder_ColumnRows.sortable({ update: function(event, ui) { thisObj.PositionChanged_ViaMouse(event, ui); } });");
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.EnableSaveBttn=function(){if(!this.jF2(".SaveBttn").hasClass("SaveBttn_Active")){this.jF2(".SaveBttn").addClass("SaveBttn_Active");
}this.OnHasPendingChanges.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.SaveToModel=function(){this.get_Model().Columns=[];
for(var a=0;
a<this.ColumnsRows.length;
a++){this.get_Model().Columns[a]=this.ColumnsRows[a].SaveToModel();
}return this.get_Model();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.AddEmptyColumnToUI=function(a,b,c){var d=new ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow(new ASPdatabaseNET.DbInterfaces.TableObjects.Column(),this.get_ViewModel());
d.get_Model().OrdinalPosition=a;
d.get_Model().ChangeAction=1;
this.Instantiate_AndAttachEvents(d);
if(b){this.jF2(".Holder_ColumnRows").append(d.jRoot);
}else{d.jRoot.insertBefore(c);
}return d;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.Instantiate_AndAttachEvents=function(a){a.Instantiate();
a.OnInsertBefore.After.AddHandler(this,"OnInsertBefore",1);
a.OnRequestRemove.After.AddHandler(this,"OnRequestRemove",1);
a.OnColumnPositionChange.After.AddHandler(this,"PositionChanged_ViaTextBox",1);
a.OnGotoTab.After.AddHandler(this,"OnGotoTab_Method",1);
a.OnColumnNameBlur.After.AddHandler(this,"OnColumnNameBlur_Method",0);
a.OnChange.After.AddHandler(this,"OnColumnsRowChange",0);
a.OnUpOrDownArrow.After.AddHandler(this,"OnColumn_UpOrDownArrow",2);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.Build_ColumnsRows=function(){var c=this.TotalCoumnsInUI_Min-this.jF2(".ColumnsRow").length;
if(c>0){for(var b=0;
b<c;
b++){this.AddEmptyColumnToUI(0,true,null);
}}var d=this.TotalCoumnsInUI_MinEmpty-this.HowManyBottomColumnsAreEmpty();
if(d>0){for(var b=0;
b<d;
b++){this.AddEmptyColumnToUI(0,true,null);
}}this.ColumnsRows=[];
var a=this.jF2(".ColumnsRow");
for(var b=0;
b<a.length;
b++){this.ColumnsRows[b]=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.Get_UIObject(a[b]);
this.ColumnsRows[b].set_ColumnPosition_Property(b+1);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.HowManyBottomColumnsAreEmpty=function(){var d=0;
var b=this.jF2(".ColumnsRow");
for(var c=b.length-1;
c>=0;
c--){var a=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.Get_UIObject(b[c]);
if(ASPdb.FrameworkUI.JsStr.S(a.get_ColumnName_Property()).Trim().String.length<1){d++;
}else{c=-1;
}}return d;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.OnInsertBefore=function(a){var b=this.AddEmptyColumnToUI(a.get_ColumnPosition_Property(),false,a.jRoot);
this.Build_ColumnsRows();
this.EnableSaveBttn();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.OnRequestRemove=function(a){a.jRoot.detach();
this.Build_ColumnsRows();
this.EnableSaveBttn();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.OnGotoTab_Method=function(a){this.OnGotoTab.After.Fire1(a);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.OnColumnNameBlur_Method=function(){this.Build_ColumnsRows();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.OnColumnsRowChange=function(){this.EnableSaveBttn();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.OnColumn_UpOrDownArrow=function(b,a){if(b>=0&&b<this.ColumnsRows.length){this.ColumnsRows[b].PutFocusOn(a);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.PositionChanged_ViaMouse=function(d,f){var b=this.jF2(".ColumnsRow");
for(var c=0;
c<b.length;
c++){var e=c+1;
var a=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.Get_UIObject(b[c]);
if(a!=null){a.set_ColumnPosition_Property(e);
}}this.Build_ColumnsRows();
this.EnableSaveBttn();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.PositionChanged_ViaTextBox=function(a){a.jRoot.detach();
var d=a.get_Model().OrdinalPosition;
var c=a.get_ColumnPosition_Property();
if(c<1){c=1;
}if(c>d){c++;
}var b=c-1;
if(b<this.ColumnsRows.length){a.jRoot.insertBefore(this.ColumnsRows[b].jRoot);
}else{a.set_ColumnPosition_Property(this.ColumnsRows.length+1);
a.jRoot.insertAfter(this.ColumnsRows[this.ColumnsRows.length-1].jRoot);
}this.Build_ColumnsRows();
this.EnableSaveBttn();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.SaveBttn_Click=function(){if(!this.jF2(".SaveBttn").hasClass("SaveBttn_Active")){return;
}this.get_Model().Columns=[];
for(var a=0;
a<this.ColumnsRows.length;
a++){this.ColumnsRows[a].SaveToModel();
this.get_Model().Columns[a]=this.ColumnsRows[a].get_Model();
}ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_AjaxReturn").TableDesign__UpdateTable(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.Save_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnSaved.After.Fire1("Columns");
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.GetCssRoot=function(){return"\r\n                .ColumnsPanel { position:relative; background: #979aa5; }\r\n                .ColumnsPanel .TopCorrectiveLine { position:absolute; top: -1px; width: 100%; height: 3px; background: #979aa5; }\r\n\r\n                .ColumnsPanel .SaveBttn { display:block; position:absolute; background: #979aa5; color: #b9bcca; border: 1px solid #c9ccd7;\r\n                                          top: 9px; right: 8px; line-height: 35px; padding: 0px 33px; cursor: default; z-index: 400; }\r\n\r\n                .ColumnsPanel .SaveBttn_Active { background: #14498f; color: #fff; cursor: pointer; border-color: #fff; }\r\n                .ColumnsPanel .SaveBttn_Active:hover { background: #e14738; }\r\n\r\n                .ColumnsPanel .MainEditBox_Padding { padding: 27px 8px 20px 5px; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox { background: #fff; position:relative; }\r\n\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels { position:absolute; top: 0px; right: 0px; width: 881px; z-index: 300; overflow: visible;\r\n                                                                              color: #0c5eca; background: #fff; border-bottom: 2px solid #747474; font-size: .9em; font-weight: bold; line-height: 35px; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .Tip_PrimaryKey { position:absolute; font-size: .75em; background: #f26b0b; color: #fff; border-radius: .6em;\r\n                                                                                              left: 6.75em; top: -1em;\r\n                                                                                              font-weight: normal; line-height: 1.5em; padding: 0em .7em; z-index: 2; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .PK_Line1 { position:absolute; left: 7.7em; top: 0em; background: #f26b0b; width: 0.13888em; height: 2.3em; z-index: 1; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .PK_Line1  .PK_Line2 { position:absolute; bottom: 0.069444em; left: -0.069444em; width: 0.2777em; height: 0.138888em; background: #f26b0b; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .HeadLabel1 { width: auto; position:absolute; top: 2px; left: 22px;  font-size: .75em; text-align:center; line-height: 15px; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .HeadLabel2 { width: auto; position:absolute; top: 0px; left: 155px; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .HeadLabel3 { width: auto; position:absolute; top: 0px; left: 350px; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .HeadLabel4 { width: auto; position:absolute; top: 2px; left: 504px; font-size: .75em; text-align:center; line-height: 15px; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .HeadLabels .HeadLabel5 { width: auto; position:absolute; top: 0px; left: 567px; }\r\n\r\n\r\n\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .Spacer1 { height: 37px; background: #979aa5; }\r\n                .ColumnsPanel .MainEditBox_Padding .MainEditBox .Holder_ColumnRows { padding-top: 0px; overflow-y: scroll; height: 200px; background: #979aa5; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopCorrectiveLine'></div>\r\n                <div class='SaveBttn SaveBttn_Active' On_Click='SaveBttn_Click'>Save Changes</div>\r\n                <div class='MainEditBox_Padding'>\r\n                    <div class='MainEditBox'>\r\n                        <div class='HeadLabels'>&nbsp;\r\n                            <div class='Tip_PrimaryKey PK_OnlyNew'>Primary Key</div>\r\n                            <div class='PK_Line1 PK_OnlyNew'><div class='PK_Line2'><span></span></div></div>\r\n\r\n                            <div class='HeadLabel1'>Column<br />Position</div>\r\n                            <div class='HeadLabel2'>Column Name</div>\r\n                            <div class='HeadLabel3'>Data Type</div>\r\n                            <div class='HeadLabel4'>Allow<br />Nulls</div>\r\n                            <div class='HeadLabel5'>Default Value</div>\r\n                            <div class='clear'></div>\r\n                        </div>\r\n                        <div class='Spacer1'></div>\r\n                        <ul class='Holder_ColumnRows AutoResize' AutoResize_BottomSpace='20'></ul>\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow=function(a,b){this.OnInsertBefore=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnColumnPositionChange=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnRequestRemove=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnGotoTab=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnColumnNameBlur=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnUpOrDownArrow=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.Original_ColumnValues=null;
this.TypeSelector=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_Model(a);
this.set_ViewModel(b);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.IsInt=function(a){if(isNaN(a)||(" "+a).split(".").length>1){return false;
}return true;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.get_ColumnPosition_Property=function(){var a=this.jF2(".Txt_ColumnPosition").val();
if(!this.IsInt(a)){this.set_ColumnPosition_Property(this.get_Model().OrdinalPosition);
}a=this.jF2(".Txt_ColumnPosition").val();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.set_ColumnPosition_Property=function(a){if(this.IsInt(a)){this.jF2(".Txt_ColumnPosition").val(a);
if(this.get_Model()!=null){this.get_Model().OrdinalPosition=a;
}this.jRoot[0].style.zIndex=(10000-a);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.get_ColumnName_Property=function(){return this.jF2(".Txt_ColumnName").val();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.set_ColumnName_Property=function(a){this.jF2(".Txt_ColumnName").val(a);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.get_DataType_Property=function(){return this.jF2(".Txt_DataType").val();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.set_DataType_Property=function(a){this.jF2(".Txt_DataType").val(a);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.get_AllowNulls_Property=function(){if(this.jF2(".CheckBox_AllowNulls").attr("checked")=="checked"){return true;
}else{return false;
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.set_AllowNulls_Property=function(a){if(a){this.jF2(".CheckBox_AllowNulls").attr("checked","checked");
}else{this.jF2(".CheckBox_AllowNulls").attr("checked",false);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.get_DefaultValue_Property=function(){return this.jF2(".Txt_DefaultValue").val();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.set_DefaultValue_Property=function(a){this.jF2(".Txt_DefaultValue").val(a);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.Get_UIObject=function(htmlElement){var rtn=null;
try{eval("rtn = htmlElement.UIObject;");
}catch($$e11){}return rtn;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<li class='ColumnsRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var tmpJRoot=this.jRoot;
var thisObj=this;
eval("tmpJRoot[0].UIObject = thisObj;");
this.Original_ColumnValues=ASPdatabaseNET.DbInterfaces.TableObjects.Column.Clone(this.get_Model());
if(this.get_ViewModel().IsCreateNew){this.jF2(".PK_CheckBox").show();
this.jF2(".Txt_ColumnPosition").val(this.get_Model().OrdinalPosition);
this.jF2(".Txt_ColumnName").val("");
this.jF2(".Txt_DataType").val("");
this.jF2(".Txt_DefaultValue").val("");
}else{if(this.get_Model().IsPrimaryKey){this.jF2(".PK_Selected").show();
}else{this.jF2(".PK_Empty").show();
}this.set_AllowNulls_Property(this.get_Model().AllowNulls);
this.set_DefaultValue_Property(this.get_Model().DefaultValue);
var str_FK_Counts=this.IfHas_ForeignKey_ReturnCounts();
if(str_FK_Counts!=null){this.jF2(".FK_Icon").show().attr("title",str_FK_Counts);
}var str_IX_Counts=this.IfHas_Index_ReturnCount();
if(str_IX_Counts!=null){this.jF2(".IX_Icon").show().attr("title",str_IX_Counts);
}}this.TypeSelector=new ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector();
this.TypeSelector.set_ViewModel(this.get_ViewModel());
this.TypeSelector.Instantiate();
this.TypeSelector.OnChange.After.AddHandler(this,"TypeSelector_OnChange",0);
this.TypeSelector.Close();
this.jF(".Holder_TypeSelector").append(this.TypeSelector.jRoot);
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.ConnectEvents_Sub=function(){ASPdb.FrameworkUI.Evt.Attach_ToElement("mousedown",this,this.jRoot[0],"OnMouseDown",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("mouseup",this,this.jRoot[0],"OnMouseUp",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("blur",this,this.jF2(".Txt_ColumnPosition")[0],"ColumnPosition_Blur",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("blur",this,this.jF2(".Txt_ColumnName")[0],"ColumnName_Blur",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("focus",this,this.jF2(".Txt_DataType")[0],"Txt_DataType_Focus",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("blur",this,this.jF2(".Txt_DataType")[0],"Txt_DataType_Blur",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("blur",this,this.jF2(".CheckBox_AllowNulls")[0],"AnyField_Blur",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("click",this,this.jF2(".CheckBox_AllowNulls")[0],"AnyField_Blur",null);
ASPdb.FrameworkUI.Evt.Attach_ToElement("blur",this,this.jF2(".Txt_DefaultValue")[0],"AnyField_Blur",null);
var thisObj=this;
var jRootObj=this.jRoot;
eval("jRootObj.find('.Txt_ColumnPosition').keydown(function(event) { thisObj.OnKeyDown_Generic(event, '.Txt_ColumnPosition') });");
eval("jRootObj.find('.Txt_ColumnName').keydown(function(event) { thisObj.OnKeyDown_Generic(event, '.Txt_ColumnName') });");
eval("jRootObj.find('.Txt_DataType').keydown(function(event) { thisObj.OnKeyDown_Generic(event, '.Txt_DataType'); thisObj.Txt_DataType_Changed(); });");
eval("jRootObj.find('.Txt_DefaultValue').keydown(function(event) { thisObj.OnKeyDown_Generic(event, '.Txt_DefaultValue') });");
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.IfHas_ForeignKey_ReturnCounts=function(){var c=0;
var b=0;
if(this.get_Model()==null||this.get_ViewModel()==null||this.get_ViewModel().TableStructure==null){return null;
}var g=this.get_ViewModel().TableStructure.ForeignKeys_PK;
if(g!=null){for(var e=0;
e<g.length;
e++){var a=g[e].Columns;
for(var f=0;
f<a.length;
f++){if(a[f].PrimaryKey_ColumnName==this.get_Model().ColumnName){c++;
}}}}var d=this.get_ViewModel().TableStructure.ForeignKeys_FK;
if(d!=null){for(var e=0;
e<d.length;
e++){var a=d[e].Columns;
for(var f=0;
f<a.length;
f++){if(a[f].ForeignKey_ColumnName==this.get_Model().ColumnName){b++;
}}}}if(c+b==0){return null;
}else{return"PK Count: "+c+"\nFK Count: "+b+"";
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.IfHas_Index_ReturnCount=function(){var b=0;
if(this.get_Model()==null||this.get_ViewModel()==null||this.get_ViewModel().TableStructure==null||this.get_ViewModel().TableStructure.Indexes==null){return null;
}var d=this.get_ViewModel().TableStructure.Indexes;
for(var c=0;
c<d.length;
c++){var a=d[c].Columns;
for(var e=0;
e<a.length;
e++){if(a[e].ColumnName==this.get_Model().ColumnName){b++;
}}}if(b==0){return null;
}else{return"Index Count: "+b+"";
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.HasValidContent=function(){var a=true;
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.SaveToModel=function(){this.get_Model().OrdinalPosition=this.get_ColumnPosition_Property();
this.get_Model().ColumnName=this.get_ColumnName_Property();
this.get_Model().DataType=this.get_DataType_Property();
this.get_Model().AllowNulls=this.get_AllowNulls_Property();
var e=1,d=1;
if((this.get_Model().DataType).toLowerCase().indexOf("identity")>-1){try{var b=(this.get_Model().DataType).split("(");
var c=b[1].split(")")[0].split(",");
e=c[0].trim();
d=c[1].trim();
}catch(a){}this.get_Model().DataType="id";
}if(this.get_Model().DataType=="id"){this.get_Model().DataType="int";
this.get_Model().IsIdentity=true;
this.get_Model().Identity=new ASPdatabaseNET.DbInterfaces.TableObjects.Identity();
this.get_Model().Identity.ColumnName=this.get_Model().ColumnName;
this.get_Model().Identity.Seed=e;
this.get_Model().Identity.Increment=d;
}this.get_Model().DefaultValue=null;
if(this.get_DefaultValue_Property().length>0){this.get_Model().DefaultValue=this.get_DefaultValue_Property();
}return this.get_Model();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.PK_CheckBox_Click=function(){this.get_Model().IsPrimaryKey=true;
this.jF2(".PK_CheckBox").hide();
this.jF2(".PK_Selected").show();
this.jF2(".Txt_ColumnName").focus();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.IconClici_PK=function(){if(this.get_ViewModel().IsCreateNew){this.get_Model().IsPrimaryKey=false;
this.jF2(".PK_Selected").hide();
this.jF2(".PK_CheckBox").show();
this.jF2(".PK_CheckBoxInput").attr("checked",false);
this.jF2(".Txt_ColumnName").focus();
}else{this.OnGotoTab.After.Fire1("PK");
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.IconClici_FK=function(){this.OnGotoTab.After.Fire1("FK");
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.IconClici_IX=function(){this.OnGotoTab.After.Fire1("IX");
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.BttnInsert_Click=function(){this.OnInsertBefore.After.Fire1(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.BttnDelete_Click_1=function(){if(this.get_Model().ChangeAction==1){this.OnRequestRemove.After.Fire1(this);
}else{this.get_Model().ChangeAction=2;
this.jF2(".DeleteBttn").hide();
this.jF2(".DeleteBttn_Clicked").show();
this.jF2(".IconsWrapper").hide();
this.OnChange.After.Fire();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.BttnDelete_Click_2=function(){this.get_Model().ChangeAction=3;
this.jF2(".DeleteBttn_Clicked").hide();
this.jF2(".DeleteBttn").show();
this.jF2(".IconsWrapper").show();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.OnMouseDown=function(){this.jRoot.addClass("ColumnsRow_MouseDown");
$(".GlobalClass_ColumnsRow_InsertBttn").addClass("BttnInsert_Faded");
this.jF2(".LeftPadding").hide();
this.jF("input").blur();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.OnMouseUp=function(){this.jRoot.removeClass("ColumnsRow_MouseDown");
$(".GlobalClass_ColumnsRow_InsertBttn").removeClass("BttnInsert_Faded");
this.jF2(".LeftPadding").show();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.ColumnPosition_Blur=function(){if(this.get_ColumnPosition_Property()==this.get_Model().OrdinalPosition){return;
}else{this.OnColumnPositionChange.After.Fire1(this);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.ColumnName_Blur=function(){this.OnColumnNameBlur.After.Fire();
this.AnyField_Blur();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.AnyField_Blur=function(){var a=false;
if(this.get_ColumnName_Property()!=this.Original_ColumnValues.ColumnName){a=true;
}else{if(this.get_DataType_Property()!=this.Original_ColumnValues.DataType){a=true;
}else{if(this.get_AllowNulls_Property()!=this.Original_ColumnValues.AllowNulls){a=true;
}else{if(this.get_DefaultValue_Property()!=this.Original_ColumnValues.DefaultValue){if(this.get_DefaultValue_Property()==""&&this.Original_ColumnValues.DefaultValue==null){}else{a=true;
}}}}}if(a){this.OnChange.After.Fire();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.OnKeyDown_Generic=function(b,a){switch(b.keyCode){case 27:this.jF2(a).blur();
break;
case 37:break;
case 38:this.OnUpOrDownArrow.After.Fire2(this.get_ColumnPosition_Property()-2,a);
break;
case 39:break;
case 40:this.OnUpOrDownArrow.After.Fire2(this.get_ColumnPosition_Property(),a);
break;
case 13:break;
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.PutFocusOn=function(a){this.jF2(a).focus();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.Txt_DataType_Focus=function(){this.TypeSelector.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.Txt_DataType_Blur=function(){this.AnyField_Blur();
this.TypeSelector.DelayClose();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.Txt_DataType_Changed=function(){};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.TypeSelector_OnChange=function(){this.set_DataType_Property(this.TypeSelector.get_Model());
this.AnyField_Blur();
if(this.TypeSelector.IsOpen){this.TypeSelector.Close();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow_TypeSelector.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.GetCssRoot=function(){return"\r\n                .ColumnsRow { position:relative; line-height: 28px; border-bottom: 1px solid #d6d6d6; padding-left: 52px; background: #fff; }\r\n\r\n                .ColumnsRow .BttnInsert { position: absolute; left: 0px; top: 0px;\r\n                                          line-height: 15px; width: 47px; \r\n                                          border-radius: 7px;  border: 1px solid #6f7074;\r\n                                          font-size: .65em; text-align:center; background: #d7d8dc; color: #6f7074; cursor:pointer; z-index: 100; }\r\n                .ColumnsRow .BttnInsert:hover { background: #333; color: #fff; border-color: #333; }\r\n                .ColumnsRow .BttnInsert_Faded { opacity: .3; }\r\n\r\n\r\n                .ColumnsRow .LeftPadding { position:absolute; top: 0px; left: 0px; height: 30px; width:52px; background: #979aa5; z-index: 50; }\r\n\r\n                .ColumnsRow .PositionHandle { position:relative; float:left; width: 85px; color: #507bb3; cursor:pointer; }\r\n                .ColumnsRow .PositionHandle:hover { }\r\n                .ColumnsRow .PositionHandle .SixDots { width: 42px; text-align:center; }\r\n                .ColumnsRow .PositionHandle .Txt_ColumnPosition { position:absolute; top: 4px; right: 11px;\r\n                                                                  width:32px; line-height: 18px; height: 18px; color: #6d6d6d; padding: 0px; \r\n                                                                  border: 1px solid #e1e1e1; text-align: center; font-size: .75em; }\r\n\r\n                .ColumnsRow .PK_IconHolder { float:left; width: 55px; height: 28px; border-right: 1px solid #e8e8e8; text-align:center; font-size: .7em; }\r\n                .ColumnsRow .PK_IconHolder .PK_Empty { display:none; }\r\n                .ColumnsRow .PK_IconHolder .PK_Selected { display:none; line-height: 21px; height: 21px; width: 23px; margin:auto; margin-top: 4px; margin-bottom: 0px; \r\n                                                          background: #f26b0b; color: #fff; border-radius: 2px; cursor:pointer; }\r\n                .ColumnsRow .PK_IconHolder .PK_CheckBox { display:none; line-height: 21px; height: 21px; width: 27px; margin:auto; padding-top: 6px; }\r\n                .ColumnsRow .PK_IconHolder .PK_CheckBox .PK_CheckBoxInput { }\r\n\r\n                .ColumnsRow .Div_ColumnName { float:left; width: 195px; border-right: 1px solid #e8e8e8; }\r\n                .ColumnsRow .Div_ColumnName .Txt_ColumnName { width: 185px; line-height: 26px; height: 26px; padding: 0px 5px; font-size: .8em; }\r\n\r\n                .ColumnsRow .Div_DataType { position:relative; float:left; width: 154px; border-right: 1px solid #e8e8e8; }\r\n                .ColumnsRow .Div_DataType .Txt_DataType { width: 144px; line-height: 26px; height: 26px; padding: 0px 5px; font-size: .8em; }\r\n                .ColumnsRow .Div_DataType .Holder_TypeSelector { position:absolute; }\r\n\r\n                .ColumnsRow .Div_AllowNulls { float:left; width: 55px; border-right: 1px solid #e8e8e8; text-align: center; }\r\n                .ColumnsRow .Div_AllowNulls .CheckBox_AllowNulls {  }\r\n\r\n                .ColumnsRow .Div_DefaultValue { float:left; width: 190px; border-right: 1px solid #e8e8e8; }\r\n                .ColumnsRow .Div_DefaultValue .Txt_DefaultValue { width: 180px; line-height: 26px; height: 26px; padding: 0px 5px; font-size: .8em; }\r\n\r\n                .ColumnsRow .RightSideIcons { position:relative; float:right; font-size: .7em; text-align:center; }\r\n                .ColumnsRow .RightSideIcons .FK_Icon { display:none; position:absolute; top: 3px; right: 97px;\r\n                                                       line-height: 21px; height: 21px; width: 23px; \r\n                                                       background: #0b94da; color: #fff; border-radius: 2px; cursor:pointer; }\r\n                .ColumnsRow .RightSideIcons .IX_Icon { display:none; position:absolute; top: 3px; right: 68px; \r\n                                                       line-height: 21px; height: 21px; width: 23px; \r\n                                                       background: #6cc5aa; color: #fff; border-radius: 2px; cursor:pointer; }\r\n                .ColumnsRow .RightSideIcons .DeleteBttn { position:absolute; top: 7px; right: 5px; line-height: 13px; width: 52px; cursor:pointer;  \r\n                                                          color: #5d5d5d; border: 1px solid #ccc; border-radius: 7px; font-size: .9em; }\r\n                .ColumnsRow .RightSideIcons .DeleteBttn:hover { background: #194e8d; color: #fff; border-color: #194e8d; }\r\n                .ColumnsRow .RightSideIcons .DeleteBttn_Clicked { display:none; position:absolute; top: 7px; right: 5px; z-index:500;\r\n                                                                  line-height: 13px; width: 110px; cursor:pointer; background: #194e8d;\r\n                                                                  color: #fff; border: 1px solid #194e8d; border-radius: 7px; font-size: .9em; }\r\n                .ColumnsRow .RightSideIcons .DeleteBttn_Clicked:hover { background: #111; }\r\n\r\n\r\n\r\n                .ColumnsRow_MouseDown { background:#c6d8f1; margin-left: 0px; padding-left: 52px; }\r\n                .ColumnsRow_MouseDown input { background:#c6d8f1; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow.prototype.GetHtmlRoot=function(){return"\r\n                <div class='BttnInsert GlobalClass_ColumnsRow_InsertBttn' On_Click='BttnInsert_Click'>Insert</div>\r\n                <div class='LeftPadding'>&nbsp;</div>\r\n                \r\n                <div class='PositionHandle'>\r\n                    <div class='SixDots'>:::</div>\r\n                    <input type='text' class='Txt_ColumnPosition' ModelKey='OrdinalPosition' />\r\n                </div>\r\n\r\n                <div class='PK_IconHolder'>\r\n                    <div class='PK_Empty'>&nbsp;</div>\r\n                    <div class='PK_Selected' On_Click='IconClici_PK'>PK</div>\r\n                    <div class='PK_CheckBox' On_Click='PK_CheckBox_Click'>\r\n                        <input type='checkbox' class='PK_CheckBoxInput' On_Click='PK_CheckBox_Click' />\r\n                    </div>\r\n                </div>\r\n\r\n                <div class='Div_ColumnName'>\r\n                    <input type='text' class='Txt_ColumnName' ModelKey='ColumnName' />\r\n                </div>\r\n\r\n                <div class='Div_DataType'>\r\n                    <input type='text' class='Txt_DataType' ModelKey='DataType' />\r\n                    <div class='Holder_TypeSelector'></div>\r\n                </div>\r\n\r\n                <div class='Div_AllowNulls'>\r\n                    <input type='checkbox' class='CheckBox_AllowNulls' />\r\n                </div>\r\n\r\n                <div class='Div_DefaultValue'>\r\n                    <input type='text' class='Txt_DefaultValue' />\r\n                </div>\r\n\r\n                <div class='RightSideIcons'>\r\n                    <div class='IconsWrapper'>\r\n                        <div class='FK_Icon' On_Click='IconClici_FK'>FK</div>\r\n                        <div class='IX_Icon' On_Click='IconClici_IX'>IX</div>\r\n                    </div>\r\n                    <div class='DeleteBttn' On_Click='BttnDelete_Click_1'>Delete</div>      \r\n                    <div class='DeleteBttn_Clicked' On_Click='BttnDelete_Click_2'>Delete On Save</div>      \r\n                </div>\r\n\r\n                <div class='clear'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsRow,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector=function(a,b,c){this.RelationshipSide=0;
this.IsNew=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.IsNew=a;
this.RelationshipSide=b;
this.set_ViewModel(c);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='ForeignKeysEdit_ColumnsSelector jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.Refresh(false);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.prototype.Refresh=function(a){if(a){this.jF("select").attr("disabled","disabled").addClass("SelectGrayed");
}else{this.jF("select").removeAttr("disabled").removeClass("SelectGrayed");
}var c=this.jF(".Select_Column_ForeignKey");
var e=this.jF(".Select_Column_PrimaryKey");
c.html("<option value=''></option>");
e.html("<option value=''></option>");
var d=this.get_ViewModel().TableStructure_TempOtherTable;
var f=this.get_ViewModel().TableStructure;
if(this.RelationshipSide==1){if(d!=null){for(var b=0;
b<d.Columns.length;
b++){c.append(ASPdb.FrameworkUI.JsStr.StrFormat2("<option value='{0}'>{1}</option>",d.Columns[b].ColumnName,d.Columns[b].ColumnName));
}}for(var b=0;
b<f.Columns.length;
b++){e.append(ASPdb.FrameworkUI.JsStr.StrFormat2("<option value='{0}'>{1}</option>",f.Columns[b].ColumnName,f.Columns[b].ColumnName));
}}else{if(this.RelationshipSide==2){for(var b=0;
b<f.Columns.length;
b++){c.append(ASPdb.FrameworkUI.JsStr.StrFormat2("<option value='{0}'>{1}</option>",f.Columns[b].ColumnName,f.Columns[b].ColumnName));
}if(d!=null){for(var b=0;
b<d.Columns.length;
b++){e.append(ASPdb.FrameworkUI.JsStr.StrFormat2("<option value='{0}'>{1}</option>",d.Columns[b].ColumnName,d.Columns[b].ColumnName));
}}}}if(!this.IsNew){this.jF(".Select_Column_ForeignKey").val(this.get_Model().ForeignKey_ColumnName);
this.jF(".Select_Column_PrimaryKey").val(this.get_Model().PrimaryKey_ColumnName);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.prototype.IsNotEmpty=function(){var b=this.jF(".Select_Column_ForeignKey").val();
var a=this.jF(".Select_Column_PrimaryKey").val();
if(b.length>0){return true;
}if(a.length>0){return true;
}return false;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.prototype.GetModel_ForSave=function(){var a=new ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKeyColumn();
a.ForeignKey_ColumnName=this.jF(".Select_Column_ForeignKey").val();
a.PrimaryKey_ColumnName=this.jF(".Select_Column_PrimaryKey").val();
if(a.ForeignKey_ColumnName.length<1||a.PrimaryKey_ColumnName.length<1){return null;
}return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.prototype.Select_Changed=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.GetCssRoot=function(){return"\r\n                .ForeignKeysEdit_ColumnsSelector { }\r\n                .ForeignKeysEdit_ColumnsSelector td { padding-top: 3px; }\r\n                .ForeignKeysEdit_ColumnsSelector select { width: 192px; min-width: 192px; max-width: 192px; margin-top:0px; }\r\n                .ForeignKeysEdit_ColumnsSelector .SelectGrayed { background: #e7e7e7; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.prototype.GetHtmlRoot=function(){return"\r\n                <td class='Td1b'><select class='Select_Column_ForeignKey' On_Change='Select_Changed'></select></td>\r\n                <td class='Td2b'> --&gt; </td>\r\n                <td class='Td3b'><select class='Select_Column_PrimaryKey' On_Change='Select_Changed'></select></td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem=function(){this.ForeignKeysEdit=null;
this.OnEdit_Enter=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnEdit_Exit=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ForeignKeysItem jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
this.jF(".ConstraintName").html(this.get_Model().ConstraintName);
this.jF(".ForeignKey_Table").html("<span>"+this.get_Model().ForeignKey_Schema+".</span>"+this.get_Model().ForeignKey_TableName);
this.jF(".PrimaryKey_Table").html("<span>"+this.get_Model().PrimaryKey_Schema+".</span>"+this.get_Model().PrimaryKey_TableName);
this.jF(".ForeignKey_Table").attr("title",this.get_Model().ForeignKey_Schema+"."+this.get_Model().ForeignKey_TableName);
this.jF(".PrimaryKey_Table").attr("title",this.get_Model().PrimaryKey_Schema+"."+this.get_Model().PrimaryKey_TableName);
var b="";
var a="";
var c="";
for(var d=0;
d<this.get_Model().Columns.length;
d++){b+=this.get_Model().Columns[d].ForeignKey_ColumnName+"<br />";
a+="--&gt;<br />";
c+=this.get_Model().Columns[d].PrimaryKey_ColumnName+"<br />";
}this.jF(".ForeignKey_Columns").html(b);
this.jF(".ColumnsArrowTd").html(a);
this.jF(".PrimaryKey_Columns").html(c);
var e=this.GetCascadeOptionString(this.get_Model().DeleteRule);
var f=this.GetCascadeOptionString(this.get_Model().UpdateRule);
if(e!="NoAction"){this.jF(".Td_DeleteRule").html("Delete Rule: "+e);
this.jF(".DeleteUpdateRulesRow").show();
}if(f!="NoAction"){this.jF(".Td_UpdateRule").html("Update Rule: "+f);
this.jF(".DeleteUpdateRulesRow").show();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.GetCascadeOptionString=function(a){switch(a){case 0:return"NoAction";
case 1:return"Cascade";
case 3:return"SetDefault";
case 2:return"SetNull";
default:return"NoAction";
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.DisableBttns=function(){this.jF2(".Bttn2").hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.EnableBttns=function(){this.jF2(".Bttn2").show();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.Edit_Click=function(){if(this.ForeignKeysEdit==null){var a=1;
if(this.get_Model().RelationshipSide==1){a=2;
}this.ForeignKeysEdit=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit(false,a,this.get_ViewModel());
this.ForeignKeysEdit.set_Model(this.get_Model());
this.ForeignKeysEdit.Instantiate();
this.ForeignKeysEdit.OnClose.After.AddHandler(this,"EditControl_Close",0);
this.ForeignKeysEdit.OnChange.After.AddHandler(this,"EditControl_Saved",0);
this.jF2(".EditDiv").append(this.ForeignKeysEdit.jRoot);
}this.OnEdit_Enter.After.Fire();
this.jF2(".ViewDiv").hide();
this.ForeignKeysEdit.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.Delete_Click=function(){if(confirm("Are you sure?")){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Delete_Return").TableDesign__ForeignKeys__Delete(this.get_Model());
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.Delete_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.EditControl_Close=function(){this.jF2(".ViewDiv").show();
this.OnEdit_Exit.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.EditControl_Saved=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.GetCssRoot=function(){return"\r\n                .ForeignKeysItem { margin: 0px 0px 20px; }\r\n                .ForeignKeysItem .ViewDiv {  }\r\n                .ForeignKeysItem .EditDiv { }\r\n\r\n                .ForeignKeysItem .ViewDiv .TopHead { line-height: 16px; background: #0b94da; color: #fff; }\r\n                .ForeignKeysItem .ViewDiv .TopHead .ConstraintName { font-size: .6em; color: #b3daee; float: left; padding-left: 10px; width: 296px; overflow:hidden; white-space:nowrap; }\r\n                .ForeignKeysItem .ViewDiv .TopHead .Bttn2 { float: right; font-size: .7em; border-left: 1px solid #fff; padding: 0px 17px; cursor:pointer; }\r\n                .ForeignKeysItem .ViewDiv .TopHead .Bttn2:hover { background: #555; }\r\n                .ForeignKeysItem .ViewDiv .Table2 { width: 100%; }\r\n                .ForeignKeysItem .ViewDiv .Table2 td { line-height: 22px; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .Td1a { width: 50%; text-align: right; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .Td2a { width: 40px; min-width: 40px; max-width: 40px; text-align:center; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .Td3a { width: 50%; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .TableRow {  }\r\n                .ForeignKeysItem .ViewDiv .Table2 .TableRow td { font-size: .9em; background: #e7e7e7; white-space:nowrap; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .TableRow span { font-size: .7em; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .ColumnRow {  }\r\n                .ForeignKeysItem .ViewDiv .Table2 .ColumnRow td { font-size: .7em; background: #f3f3f3; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .ColumnRow .ColumnsArrowTd { color: #999; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .ForeignKey_Table   { max-width: 200px; overflow-x:hidden; float:right; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .PrimaryKey_Table   { max-width: 200px; overflow-x:hidden; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .ForeignKey_Columns { max-width: 200px; overflow-x:hidden; float:right; }\r\n                .ForeignKeysItem .ViewDiv .Table2 .PrimaryKey_Columns { max-width: 200px; overflow-x:hidden; }\r\n                .ForeignKeysItem .ViewDiv .DeleteUpdateRulesRow { display:none;  }\r\n                .ForeignKeysItem .ViewDiv .DeleteUpdateRulesRow td { border-top: 1px solid #e7e7e7; background: #f3f3f3;\r\n                                                                     font-size: .8em; color: #999; }\r\n                .ForeignKeysItem .ViewDiv .DeleteUpdateRulesRow .Td_DeleteRule { text-align:right; }\r\n                .ForeignKeysItem .ViewDiv .DeleteUpdateRulesRow .Td_UpdateRule { text-align:left; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.prototype.GetHtmlRoot=function(){return"\r\n                <div class='ViewDiv'>\r\n                    <div class='TopHead'>\r\n                        <div class='ConstraintName'></div>\r\n                        <div class='Bttn2' On_Click='Delete_Click'>Delete</div>\r\n                        <div class='Bttn2' On_Click='Edit_Click'>Edit</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <table class='Table2'>\r\n                        <tr class='TableRow'>\r\n                            <td class='Td1a'><div class='ForeignKey_Table'></div></td>\r\n                            <td class='Td2a'>--&gt;</td>\r\n                            <td class='Td3a'><div class='PrimaryKey_Table'></div></td>\r\n                        </tr>\r\n                        <tr class='ColumnRow'>\r\n                            <td class='Td1a'><div class='ForeignKey_Columns'></div></td>\r\n                            <td class='Td2a ColumnsArrowTd'>--&gt;</td>\r\n                            <td class='Td3a'><div class='PrimaryKey_Columns'></div></td>\r\n                        </tr>\r\n                        <tr class='DeleteUpdateRulesRow'>\r\n                            <td class='Td_DeleteRule'></td>\r\n                            <td class=''></td>\r\n                            <td class='Td_UpdateRule'></td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                <div class='EditDiv'>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit=function(a,b,c){this.RelationshipSide=0;
this.IsNew=false;
this.ColumnsSelectors=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.IsNew=a;
this.RelationshipSide=b;
this.set_ViewModel(c);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ForeignKeysEdit jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.IsNew&&this.RelationshipSide==1){this.jF(".EditHead1").show();
}else{if(this.IsNew&&this.RelationshipSide==2){this.jF(".EditHead2").show();
}else{if(!this.IsNew&&this.RelationshipSide==1){var a=this.jF(".EditHead3 .MaxWidth").html()+"<span>"+this.get_Model().ConstraintName+"</span>";
this.jF(".EditHead3 .MaxWidth").html(a);
this.jF(".EditHead3").show();
}else{if(!this.IsNew&&this.RelationshipSide==2){var a=this.jF(".EditHead4 .MaxWidth").html()+"<span>"+this.get_Model().ConstraintName+"</span>";
this.jF(".EditHead4 .MaxWidth").html(a);
this.jF(".EditHead4").show();
}}}}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Open_Sub=function(){if(this.IsNew){this.set_Model(new ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKey());
this.get_Model().ConnectionId=this.get_ViewModel().ConnectionId;
this.get_Model().ConstraintName="";
if(this.RelationshipSide==1){this.get_Model().RelationshipSide=1;
}else{this.get_Model().RelationshipSide=2;
}this.get_Model().Columns=[];
for(var a=0;
a<3;
a++){this.get_Model().Columns[a]=new ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKeyColumn();
}}this.ColumnsSelectors=[];
this.get_ViewModel().TableStructure_TempOtherTable=null;
this.jF2(".Table_ColumnsSelectors").html("");
for(var a=0;
a<this.get_Model().Columns.length;
a++){this.Insert_ColumnsSelector(this.get_Model().Columns[a]);
}if(!this.IsNew){this.Insert_ColumnsSelector(new ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKeyColumn());
}var b="";
if(this.get_ViewModel()!=null&&this.get_ViewModel().TableStructure!=null){b=this.get_ViewModel().TableStructure.Schema+"."+this.get_ViewModel().TableStructure.TableName;
}switch(this.RelationshipSide){case 1:this.Populate_TablesSelect(this.jF(".Select_Table_ForeignKey"));
this.jF(".Select_Table_ForeignKey").show();
if(!this.IsNew){this.jF(".Select_Table_ForeignKey").val(this.get_ViewModel().GetTableId(this.get_Model().ForeignKey_Schema,this.get_Model().ForeignKey_TableName));
this.Select_Table_ForeignKey_Change();
}this.jF(".Div_Table_PrimaryKey").show().html(b);
break;
case 2:this.jF(".Div_Table_ForeignKey").show().html(b);
this.Populate_TablesSelect(this.jF(".Select_Table_PrimaryKey"));
this.jF(".Select_Table_PrimaryKey").show();
if(!this.IsNew){this.jF(".Select_Table_PrimaryKey").val(this.get_ViewModel().GetTableId(this.get_Model().PrimaryKey_Schema,this.get_Model().PrimaryKey_TableName));
this.Select_Table_PrimaryKey_Change();
}break;
}switch(this.get_Model().DeleteRule){case 0:this.jF(".DeleteRuleRadio1").attr("checked",true);
break;
case 1:this.jF(".DeleteRuleRadio2").attr("checked",true);
break;
case 3:this.jF(".DeleteRuleRadio3").attr("checked",true);
break;
case 2:this.jF(".DeleteRuleRadio4").attr("checked",true);
break;
}switch(this.get_Model().UpdateRule){case 0:this.jF(".UpdateRuleRadio1").attr("checked",true);
break;
case 1:this.jF(".UpdateRuleRadio2").attr("checked",true);
break;
case 3:this.jF(".UpdateRuleRadio3").attr("checked",true);
break;
case 2:this.jF(".UpdateRuleRadio4").attr("checked",true);
break;
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Insert_ColumnsSelector=function(a){var b=this.ColumnsSelectors.length;
this.ColumnsSelectors[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector(this.IsNew,this.RelationshipSide,this.get_ViewModel());
this.ColumnsSelectors[b].set_Model(a);
this.ColumnsSelectors[b].Instantiate();
this.ColumnsSelectors[b].OnChange.After.AddHandler(this,"ColumnsSelector_Changed",0);
this.jF2(".Table_ColumnsSelectors").append(this.ColumnsSelectors[b].jRoot);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Populate_TablesSelect=function(d){d.html("<option value='-1'></option>");
var e=this.get_ViewModel().AllTables_InDb;
if(e==null){return;
}for(var a=0;
a<e.length;
a++){var b=e[a];
var c=ASPdb.FrameworkUI.JsStr.StrFormat3("<option value='{0}'>{1}.{2}</option>",b.TableId,b.Schema,b.TableName);
d.append(c);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Save_Click=function(){if(!this.PopulateModel_FromUI()){return;
}var a=this.get_Model();
if(this.IsNew){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__ForeignKeys__Create(this.get_Model());
}else{ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__ForeignKeys__Update(this.get_Model());
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Save_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.PopulateModel_FromUI=function(){var g=this.get_ViewModel().TableId;
var h=this.get_ViewModel().TableId;
if(this.RelationshipSide==1){g=this.jF(".Select_Table_ForeignKey").val();
}else{h=this.jF(".Select_Table_PrimaryKey").val();
}if(g<0||h<0){alert("Please select a table");
return false;
}var e=this.get_ViewModel().GetTableInfo(g);
var f=this.get_ViewModel().GetTableInfo(h);
this.get_Model().ForeignKey_Schema=e.Schema;
this.get_Model().ForeignKey_TableName=e.TableName;
this.get_Model().PrimaryKey_Schema=f.Schema;
this.get_Model().PrimaryKey_TableName=f.TableName;
this.get_Model().Columns=[];
var d=0;
for(var c=0;
c<this.ColumnsSelectors.length;
c++){var b=this.ColumnsSelectors[c].GetModel_ForSave();
if(b!=null){b.OrdinalPosition=d+1;
this.get_Model().Columns[d]=b;
d++;
}}var a=this.jF(".DeleteRuleRadio:checked").val();
var k=this.jF(".UpdateRuleRadio:checked").val();
switch(a){case"NoAction":this.get_Model().DeleteRule=0;
break;
case"Cascade":this.get_Model().DeleteRule=1;
break;
case"SetDefault":this.get_Model().DeleteRule=3;
break;
case"SetNull":this.get_Model().DeleteRule=2;
break;
default:this.get_Model().DeleteRule=0;
break;
}switch(k){case"NoAction":this.get_Model().UpdateRule=0;
break;
case"Cascade":this.get_Model().UpdateRule=1;
break;
case"SetDefault":this.get_Model().UpdateRule=3;
break;
case"SetNull":this.get_Model().UpdateRule=2;
break;
default:this.get_Model().UpdateRule=0;
break;
}return true;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Cancel_Click=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Select_Table_ForeignKey_Change=function(){var a=this.jF2(".Select_Table_ForeignKey").val();
this.get_ViewModel().TableStructure_TempOtherTable=null;
this.Refresh_ColumnsSelectors(true);
if(a>=0){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetTableInfo_Return").TableDesign__GetInfo_ForModify(a);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Select_Table_PrimaryKey_Change=function(){var a=this.jF2(".Select_Table_PrimaryKey").val();
this.get_ViewModel().TableStructure_TempOtherTable=null;
this.Refresh_ColumnsSelectors(true);
if(a>=0){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetTableInfo_Return").TableDesign__GetInfo_ForModify(a);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.GetTableInfo_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}var b=a.ReturnObj;
this.get_ViewModel().TableStructure_TempOtherTable=b.TableStructure;
this.Refresh_ColumnsSelectors(false);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.Refresh_ColumnsSelectors=function(a){for(var b=0;
b<this.ColumnsSelectors.length;
b++){this.ColumnsSelectors[b].Refresh(a);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.ColumnsSelector_Changed=function(){if(this.ColumnsSelectors==null){this.ColumnsSelectors=[];
}var a=this.ColumnsSelectors.length-1;
if(a<0||this.ColumnsSelectors[a].IsNotEmpty()){this.Insert_ColumnsSelector(new ASPdatabaseNET.DbInterfaces.TableObjects.ForeignKeyColumn());
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.DeleteRuleRadio1_Click=function(){this.jF(".DeleteRuleRadio1").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.DeleteRuleRadio2_Click=function(){this.jF(".DeleteRuleRadio2").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.DeleteRuleRadio3_Click=function(){this.jF(".DeleteRuleRadio3").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.DeleteRuleRadio4_Click=function(){this.jF(".DeleteRuleRadio4").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.UpdateRuleRadio1_Click=function(){this.jF(".UpdateRuleRadio1").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.UpdateRuleRadio2_Click=function(){this.jF(".UpdateRuleRadio2").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.UpdateRuleRadio3_Click=function(){this.jF(".UpdateRuleRadio3").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.UpdateRuleRadio4_Click=function(){this.jF(".UpdateRuleRadio4").attr("checked",true);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit_ColumnsSelector.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.GetCssRoot=function(){return"\r\n                .ForeignKeysEdit { background: #e7e7e7; margin-bottom: 20px; border: 2px solid #14498f; }\r\n                .ForeignKeysEdit .EditHead { display:none; font-size: .9em; background: #14498f; color: #fff; line-height: 24px; padding-left: 10px; }\r\n                .ForeignKeysEdit .EditHead1 { }\r\n                .ForeignKeysEdit .EditHead2 { }\r\n                .ForeignKeysEdit .EditHead3 { background: #0b94da; }\r\n                .ForeignKeysEdit .EditHead4 { background: #0b94da; }\r\n                .ForeignKeysEdit .EditHead1z span { background: #fefe9f; color: #222; padding: 0px 3px; }\r\n                .ForeignKeysEdit .EditHead2z span { background: #fefe9f; color: #222; padding: 0px 3px; }\r\n                .ForeignKeysEdit .EditHead .MaxWidth { overflow:hidden; max-width: 433px; white-space:nowrap; }\r\n                .ForeignKeysEdit .EditHead .MaxWidth span { color: #b3daee; font-size: .7em; }\r\n                .ForeignKeysEdit .Body1 { padding: 6px; }\r\n                .ForeignKeysEdit .Bttn3 { float:right; border: 1px solid #14498f; color: #14498f; background: #f5f5f5;\r\n                                          padding: 3px 10px; margin: 0px 0px 8px 8px; cursor:pointer; }\r\n                .ForeignKeysEdit .Bttn3:hover { background: #555; border-color: #555; color: #fff; }\r\n\r\n                .ForeignKeysEdit .Table3 { width: 100%; }\r\n                .ForeignKeysEdit .Table3 .Td1b { width: 50%; }\r\n                .ForeignKeysEdit .Table3 .Td2b { width: 34px; min-width: 40px; max-width: 40px; text-align:center; }\r\n                .ForeignKeysEdit .Table3 .Td3b { width: 50%; }\r\n\r\n                .ForeignKeysEdit .Table3 .LabelRow td { font-size: .7em; padding: 12px 0px 4px; color: #888; }\r\n                .ForeignKeysEdit .Table3 .TablesRow td { padding-bottom: 16px; }\r\n                .ForeignKeysEdit .Table3 .TablesRow select { display:none; width: 188px; min-width: 188px; max-width: 188px; margin-top:0px; }\r\n                .ForeignKeysEdit .Table3 .TablesRow .DivLabel { display:none; width: 188px; overflow:hidden; white-space:nowrap;\r\n                                                                text-align:center; border: 1px solid #a9a9a9; background-color: #f0f0f0; \r\n                                                                font-size: .8em; line-height: 18px; }\r\n                .ForeignKeysEdit .Table3 .ColumnsLabelRow { }\r\n                .ForeignKeysEdit .Table3 .ColumnsLabelRow td { font-size: .7em; padding: 1px 10px; background: #d8d8d8; color: #777; }\r\n\r\n                .ForeignKeysEdit .Divider4 { font-size: 1px; background: #d8d8d8; line-height: 10px; margin-top: 16px; }\r\n                .ForeignKeysEdit .Table4 { width: 100%; }\r\n                .ForeignKeysEdit .Table4 td { width: 50%; font-size: .8em; }\r\n                .ForeignKeysEdit .Table4 .Td_Left { }\r\n                .ForeignKeysEdit .Table4 .Td_Right { }\r\n                .ForeignKeysEdit .Table4 .LabelDiv { font-weight: bold; padding: 5px 10px; }\r\n                .ForeignKeysEdit .Table4 .RadioItemDiv { cursor:pointer; padding: 0px 20px; font-size: .8em; color: #444; line-height: 17px; }\r\n                .ForeignKeysEdit .Table4 .RadioItemDiv:hover { background: #bcbcbc; }\r\n                .ForeignKeysEdit .Table4 radio { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.prototype.GetHtmlRoot=function(){return"\r\n                <div class='EditHead EditHead1'><span>New</span> Relationship TO This Table (Inbound)</div>\r\n                <div class='EditHead EditHead2'><span>New</span> Relationship FROM This Table (Outbound)</div>\r\n                <div class='EditHead EditHead3'><div class='MaxWidth'>Edit Inbound Relationship: </div></div>\r\n                <div class='EditHead EditHead4'><div class='MaxWidth'>Edit Outbound Relationship: </div></div>\r\n                <div class='Body1'>\r\n                    <div class='Bttn3' On_Click='Cancel_Click'>Cancel</div>\r\n                    <div class='Bttn3' On_Click='Save_Click'>Save</div>\r\n                    <div class='clear'></div>\r\n                    <table class='Table3'>\r\n                        <tr class='LabelRow'>\r\n                            <td class='Td1b'>Foreign Key Table</td>\r\n                            <td class='Td2b'></td>\r\n                            <td class='Td3b'>Primary Key Table</td>\r\n                        </tr>\r\n                        <tr class='TablesRow'>\r\n                            <td class='Td1b'>\r\n                                <select    class='Select_Table_ForeignKey' On_Change='Select_Table_ForeignKey_Change'></select>\r\n                                <div class='DivLabel Div_Table_ForeignKey'></div>\r\n                            </td>\r\n                            <td class='Td2b'> --&gt; </td>\r\n                            <td class='Td3b'>\r\n                                <select    class='Select_Table_PrimaryKey' On_Change='Select_Table_PrimaryKey_Change'></select>\r\n                                <div class='DivLabel Div_Table_PrimaryKey'></div>\r\n                            </td>\r\n                        </tr>\r\n                        <tr class='ColumnsLabelRow'>\r\n                            <td class='Td1b'>Columns</td>\r\n                            <td class='Td2b'></td>\r\n                            <td class='Td3b'></td>\r\n                        </tr>\r\n                    </table>\r\n\r\n                    <table class='Table3 Table_ColumnsSelectors'>\r\n                    </table>\r\n\r\n                    <div class='Divider4'>&nbsp;</div>\r\n                    <table class='Table4'>\r\n                        <tr>\r\n                            <td class='Td_Left'>\r\n                                <div class='LabelDiv'>Delete Rule</div>\r\n                                <div class='RadioItemDiv' On_Click='DeleteRuleRadio1_Click'>\r\n                                    <input type='radio' name='DeleteRule' class='DeleteRuleRadio DeleteRuleRadio1' value='NoAction' /> No Action\r\n                                </div>\r\n                                <div class='RadioItemDiv' On_Click='DeleteRuleRadio2_Click'>\r\n                                    <input type='radio' name='DeleteRule' class='DeleteRuleRadio DeleteRuleRadio2' value='Cascade' /> Cascade\r\n                                </div>\r\n                                <div class='RadioItemDiv' On_Click='DeleteRuleRadio3_Click'>\r\n                                    <input type='radio' name='DeleteRule' class='DeleteRuleRadio DeleteRuleRadio3' value='SetDefault' /> Set Default\r\n                                </div>\r\n                                <div class='RadioItemDiv' On_Click='DeleteRuleRadio4_Click'>\r\n                                    <input type='radio' name='DeleteRule' class='DeleteRuleRadio DeleteRuleRadio4' value='SetNull' /> Set Null\r\n                                </div>\r\n                            </td>\r\n                            <td class='Td_Right'>\r\n                                <div class='LabelDiv'>Update Rule</div>\r\n                                <div class='RadioItemDiv' On_Click='UpdateRuleRadio1_Click'>\r\n                                    <input type='radio' name='UpdateRule' class='UpdateRuleRadio UpdateRuleRadio1' value='NoAction' /> No Action\r\n                                </div>\r\n                                <div class='RadioItemDiv' On_Click='UpdateRuleRadio2_Click'>\r\n                                    <input type='radio' name='UpdateRule' class='UpdateRuleRadio UpdateRuleRadio2' value='Cascade' /> Cascade\r\n                                </div>\r\n                                <div class='RadioItemDiv' On_Click='UpdateRuleRadio3_Click'>\r\n                                    <input type='radio' name='UpdateRule' class='UpdateRuleRadio UpdateRuleRadio3' value='SetDefault' /> Set Default\r\n                                </div>\r\n                                <div class='RadioItemDiv' On_Click='UpdateRuleRadio4_Click'>\r\n                                    <input type='radio' name='UpdateRule' class='UpdateRuleRadio UpdateRuleRadio4' value='SetNull' /> Set Null\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    <table>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew=function(){this.IndexesSubColumnSelectors=null;
this.AutoGenerateName=true;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='IndexesNew jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.Open_Sub=function(){var a=this.jF2(".Holder_SubColumns");
a.html("");
this.set_Model(new ASPdatabaseNET.DbInterfaces.TableObjects.Index());
this.get_Model().ConnectionId=this.get_ViewModel().ConnectionId;
this.get_Model().Schema=this.get_ViewModel().TableStructure.Schema;
this.get_Model().TableName=this.get_ViewModel().TableStructure.TableName;
this.IndexesSubColumnSelectors=[];
for(var b=0;
b<3;
b++){this.IndexesSubColumnSelectors[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector();
this.IndexesSubColumnSelectors[b].set_ViewModel(this.get_ViewModel());
this.IndexesSubColumnSelectors[b].OnChange.After.AddHandler(this,"IndexesSubColumnSelector_Changed",1);
this.IndexesSubColumnSelectors[b].Instantiate();
a.append(this.IndexesSubColumnSelectors[b].jRoot);
}this.AutoGenerateName=true;
this.jF(".Checkbox_AutoGenerateName").attr("checked",true);
this.jF(".Div_IndexName").hide();
this.jF(".Txt_IndexName").val("");
this.jF(".Checkbox_IsUnique").attr("checked",false);
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.AutoGenerateName_Click=function(){this.AutoGenerateName=!this.AutoGenerateName;
if(this.AutoGenerateName){this.jF(".Checkbox_AutoGenerateName").attr("checked",true);
this.jF(".Div_IndexName").hide();
}else{this.jF(".Checkbox_AutoGenerateName").attr("checked",false);
this.jF(".Div_IndexName").show();
this.jF(".Txt_IndexName").focus();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.IndexesSubColumnSelector_Changed=function(c){var a=this.jF2(".Holder_SubColumns");
var b=this.IndexesSubColumnSelectors.length;
var d=this.IndexesSubColumnSelectors[b-1].get_Model().ColumnName;
if(d!=null&&d!=""){this.IndexesSubColumnSelectors[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector();
this.IndexesSubColumnSelectors[b].set_ViewModel(this.get_ViewModel());
this.IndexesSubColumnSelectors[b].OnChange.After.AddHandler(this,"IndexesSubColumnSelector_Changed",1);
this.IndexesSubColumnSelectors[b].Instantiate();
a.append(this.IndexesSubColumnSelectors[b].jRoot);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.IsUnique_Click=function(){this.get_Model().IsUnique=!this.get_Model().IsUnique;
if(this.get_Model().IsUnique){this.jF2(".Checkbox_IsUnique").attr("checked",true);
}else{this.jF2(".Checkbox_IsUnique").attr("checked",false);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.SaveBttn_Click=function(){if(this.AutoGenerateName){this.get_Model().IndexName="";
}else{this.get_Model().IndexName=this.jF(".Txt_IndexName").val();
}var b=0;
this.get_Model().Columns=[];
for(var a=0;
a<this.IndexesSubColumnSelectors.length;
a++){var c=this.IndexesSubColumnSelectors[a].get_Model().ColumnName;
if(c!=null&&c!=""){this.IndexesSubColumnSelectors[a].get_Model().ColumnId=b;
this.get_Model().Columns[b]=this.IndexesSubColumnSelectors[a].get_Model();
b++;
}}ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__Indexes__Create(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.Save_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.CancelBttn_Click=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.GetCssRoot=function(){return"\r\n                .IndexesNew { background: #6cc5aa; color: #fff; border-bottom: 6px solid #fff; }\r\n                .IndexesNew .Head1 { background: #14498f; line-height: 26px; padding: 0px 15px; text-align: right; }\r\n                .IndexesNew table { width: 100%; }\r\n                .IndexesNew table td { vertical-align:top; padding: 10px 15px; }\r\n                .IndexesNew table .td1 { width: 275px; padding: 5px 0px 15px 5px; }\r\n                .IndexesNew table .td2 { padding-top: 5px; }\r\n                .IndexesNew table .td3 { width: 105px; }\r\n                .IndexesNew table .td4 { width: 134px;  padding: 10px 6px 0px 0px; }\r\n\r\n                .IndexesNew .Div_AutoGenerateName { font-size: .7em; cursor:pointer; padding: 10px; }\r\n                .IndexesNew .Div_AutoGenerateName:hover { background: #98e0ca; color: #fff; }\r\n\r\n                .IndexesNew .Div_IndexName { padding: 0px 0px 0px 10px; }\r\n                .IndexesNew .Div_IndexName span { font-size: .8em; }\r\n                .IndexesNew .Div_IndexName .Txt_IndexName { width: 240px; }\r\n\r\n                .IndexesNew .Bttn { text-align: center; border: 1px solid #caefe4; margin-bottom: 10px; cursor:pointer; line-height: 30px; }\r\n                .IndexesNew .Bttn:hover { background: #98e0ca; }\r\n\r\n                .IndexesNew .Bttn_IsUnique { text-align:left; font-size: .8em; padding: 7px 0px 5px 10px; line-height: 20px; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head1'>Add New Index</div>\r\n                <table>\r\n                    <tr>\r\n                        <td class='td1'>\r\n                            <div class='Div_AutoGenerateName' On_Click='AutoGenerateName_Click'>\r\n                                <input type='checkbox' checked='checked' class='Checkbox_AutoGenerateName' />\r\n                                Auto-generate Index Name\r\n                            </div>\r\n                            <div class='Div_IndexName'>\r\n                                <span>Index Name</span>\r\n                                <br />\r\n                                <input type='text' class='Txt_IndexName' />\r\n                            </div>\r\n                        </td>\r\n                        <td class='td2 Holder_SubColumns'>\r\n                            \r\n                        </td>\r\n                        <td class='td3'>\r\n                            <div class='Bttn Bttn_IsUnique' On_Click='IsUnique_Click'>\r\n                                <input type='checkbox' class='Checkbox_IsUnique' />\r\n                                Is Unique\r\n                            </div>\r\n                        </td>\r\n                        <td class='td4'>\r\n                            <div class='Bttn' On_Click='SaveBttn_Click'>Save</div>\r\n                            <div class='Bttn' On_Click='CancelBttn_Click'>Cancel</div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel=function(a){this.IndexesNew=null;
this.IndexesRows=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(a);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='IndexesPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
this.IndexesNew=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew();
this.IndexesNew.set_ViewModel(this.get_ViewModel());
this.IndexesNew.OnChange.After.AddHandler(this,"IndexesNew_OnSave",0);
this.IndexesNew.Close();
this.IndexesNew.OnClose.After.AddHandler(this,"IndexesNew_Close",0);
this.jF2(".Holder_IndexesNew").append(this.IndexesNew.jRoot);
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.Open_Sub=function(){this.IndexesNew.Close();
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
this.jF2(".Table_IndexItems").html("");
var a=this.get_ViewModel().Get_Minified_TableStructure();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetIndexes_Return").TableDesign__Indexes__Get(a);
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.GetIndexes_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.set_Model(a.ReturnObj);
if(this.get_Model().length<1){this.jF(".WhenZero_Hide").hide();
this.jF(".WhenZero_Show").show();
}else{this.jF(".WhenZero_Hide").show();
this.jF(".WhenZero_Show").hide();
var c=this.jF2(".Table_IndexItems");
this.IndexesRows=[];
for(var b=0;
b<this.get_Model().length;
b++){this.IndexesRows[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow(b);
this.IndexesRows[b].set_Model(this.get_Model()[b]);
this.IndexesRows[b].set_ViewModel(this.get_ViewModel());
this.IndexesRows[b].OnChange.After.AddHandler(this,"IndexesRow_OnChange",0);
this.IndexesRows[b].OnEdit_Enter.After.AddHandler(this,"IndexesRow_OnEdit_Enter",0);
this.IndexesRows[b].OnEdit_Exit.After.AddHandler(this,"IndexesRow_OnEdit_Exit",0);
this.IndexesRows[b].Instantiate();
c.append(this.IndexesRows[b].jRoot);
}}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.NewIndex_Click=function(){this.IndexesRow_OnEdit_Enter();
this.jF2(".Bttn_NewIndex").hide();
this.IndexesNew.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.IndexesNew_Close=function(){this.jF2(".Bttn_NewIndex").show();
this.IndexesRow_OnEdit_Exit();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.IndexesNew_OnSave=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.IndexesRow_OnChange=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.IndexesRow_OnEdit_Enter=function(){if(this.IndexesRows!=null){for(var a=0;
a<this.IndexesRows.length;
a++){this.IndexesRows[a].DisableBttns();
}}this.jF2(".Bttn_NewIndex").hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.IndexesRow_OnEdit_Exit=function(){if(this.IndexesRows!=null){for(var a=0;
a<this.IndexesRows.length;
a++){this.IndexesRows[a].EnableBttns();
}}this.jF2(".Bttn_NewIndex").show();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesNew.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.GetCssRoot=function(){return"\r\n                .IndexesPanel { width: 100%; position:relative; padding-top: 37px; }\r\n                .IndexesPanel .TopColorBar { position:absolute; top: -1px; width: inherit; min-width: 200px; height: 8px; background: #6cc5aa; margin-bottom: 35px; }\r\n\r\n                .IndexesPanel .HeadBar { color: #0c5eca; font-size: .9em; margin-bottom: 6px; }\r\n                .IndexesPanel .HeadBar .Label1 { float:left; width: 280px; line-height: 24px; font-weight:bold; padding-left: 15px; }\r\n                .IndexesPanel .HeadBar .Label2 { float:left; width: 285px; line-height: 24px; font-weight:bold; }\r\n                .IndexesPanel .HeadBar .Bttn_NewIndex { float:right; cursor:pointer; width: 140px; text-align: center;\r\n                                                        line-height: 24px; background: #14498f; color: #fff; }\r\n                .IndexesPanel .HeadBar .Bttn_NewIndex:hover { background: #333; }\r\n\r\n                .IndexesPanel .Label_ZeroIndexes { display:none; background: #eee; line-height: 50px; padding-left: 20px; }\r\n\r\n                .IndexesPanel .ScrollArea { overflow-y:auto; padding-right: 5px; }\r\n                .IndexesPanel .Table_IndexItems { width: 100% }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopColorBar'></div>\r\n                <div class='HeadBar'>\r\n                    <div class='Label1 WhenZero_Hide'>Index Name</div>\r\n                    <div class='Label2 WhenZero_Hide'>Columns in Index</div>\r\n                    <div class='Bttn_NewIndex' On_Click='NewIndex_Click'>+ New Index</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='ScrollArea AutoResize'>\r\n                    <div class='Holder_IndexesNew'></div>\r\n                    <div class='Label_ZeroIndexes WhenZero_Show'>This table has 0 indexes</div>\r\n                    <table class='Table_IndexItems'>\r\n                    </table>\r\n                    <br />\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel=function(a){this.ForeignKeysEdit_NewIn=null;
this.ForeignKeysEdit_NewOut=null;
this.ForeignKeysItems_Inbound=null;
this.ForeignKeysItems_Outbound=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(a);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ForeignKeysPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
this.ForeignKeysEdit_NewIn=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit(true,1,this.get_ViewModel());
this.ForeignKeysEdit_NewIn.Instantiate();
this.ForeignKeysEdit_NewIn.OnClose.After.AddHandler(this,"Item_OnEdit_Exit",0);
this.ForeignKeysEdit_NewIn.OnChange.After.AddHandler(this,"SubItem_Saved",0);
this.ForeignKeysEdit_NewIn.Close();
this.jF(".Holder_Inbound_New").html("").append(this.ForeignKeysEdit_NewIn.jRoot);
this.ForeignKeysEdit_NewOut=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit(true,2,this.get_ViewModel());
this.ForeignKeysEdit_NewOut.Instantiate();
this.ForeignKeysEdit_NewOut.OnClose.After.AddHandler(this,"Item_OnEdit_Exit",0);
this.ForeignKeysEdit_NewOut.OnChange.After.AddHandler(this,"SubItem_Saved",0);
this.ForeignKeysEdit_NewOut.Close();
this.jF(".Holder_Outbound_New").html("").append(this.ForeignKeysEdit_NewOut.jRoot);
this.jF2(".Holder_InboundItems").html("");
this.jF2(".Holder_OutboundItems").html("");
this.jF2(".Inbound_Count").html("(0)");
this.jF2(".Outbound_Count").html("(0)");
var a=this.get_ViewModel().Get_Minified_TableStructure();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetKeys_Return").TableDesign__ForeignKeys__Get(a);
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.GetKeys_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.set_Model(a.ReturnObj);
var b=this.jF2(".Holder_InboundItems");
var c=this.jF2(".Holder_OutboundItems");
this.jF2(".Inbound_Count").html("("+this.get_Model().InboundKeys.length+")");
this.jF2(".Outbound_Count").html("("+this.get_Model().OutboundKeys.length+")");
this.ForeignKeysItems_Inbound=[];
this.ForeignKeysItems_Outbound=[];
for(var d=0;
d<this.get_Model().InboundKeys.length;
d++){this.ForeignKeysItems_Inbound[d]=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem();
this.ForeignKeysItems_Inbound[d].set_ViewModel(this.get_ViewModel());
this.ForeignKeysItems_Inbound[d].set_Model(this.get_Model().InboundKeys[d]);
this.ForeignKeysItems_Inbound[d].Instantiate();
this.ForeignKeysItems_Inbound[d].OnEdit_Enter.After.AddHandler(this,"Item_OnEdit_Enter",0);
this.ForeignKeysItems_Inbound[d].OnEdit_Exit.After.AddHandler(this,"Item_OnEdit_Exit",0);
this.ForeignKeysItems_Inbound[d].OnChange.After.AddHandler(this,"SubItem_Saved",0);
b.append(this.ForeignKeysItems_Inbound[d].jRoot);
}for(var d=0;
d<this.get_Model().OutboundKeys.length;
d++){this.ForeignKeysItems_Outbound[d]=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem();
this.ForeignKeysItems_Outbound[d].set_ViewModel(this.get_ViewModel());
this.ForeignKeysItems_Outbound[d].set_Model(this.get_Model().OutboundKeys[d]);
this.ForeignKeysItems_Outbound[d].Instantiate();
this.ForeignKeysItems_Outbound[d].OnEdit_Enter.After.AddHandler(this,"Item_OnEdit_Enter",0);
this.ForeignKeysItems_Outbound[d].OnEdit_Exit.After.AddHandler(this,"Item_OnEdit_Exit",0);
this.ForeignKeysItems_Outbound[d].OnChange.After.AddHandler(this,"SubItem_Saved",0);
c.append(this.ForeignKeysItems_Outbound[d].jRoot);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.NewInboundRelationship_Click=function(){this.Item_OnEdit_Enter();
this.ForeignKeysEdit_NewIn.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.NewOutboundRelationship_Click=function(){this.Item_OnEdit_Enter();
this.ForeignKeysEdit_NewOut.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.Item_OnEdit_Enter=function(){if(this.ForeignKeysItems_Inbound!=null){for(var a=0;
a<this.ForeignKeysItems_Inbound.length;
a++){this.ForeignKeysItems_Inbound[a].DisableBttns();
}}if(this.ForeignKeysItems_Outbound!=null){for(var a=0;
a<this.ForeignKeysItems_Outbound.length;
a++){this.ForeignKeysItems_Outbound[a].DisableBttns();
}}this.jF2(".NewInboundBttn").hide();
this.jF2(".NewOutboundBttn").hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.Item_OnEdit_Exit=function(){if(this.ForeignKeysItems_Inbound!=null){for(var a=0;
a<this.ForeignKeysItems_Inbound.length;
a++){this.ForeignKeysItems_Inbound[a].EnableBttns();
}}if(this.ForeignKeysItems_Outbound!=null){for(var a=0;
a<this.ForeignKeysItems_Outbound.length;
a++){this.ForeignKeysItems_Outbound[a].EnableBttns();
}}this.jF2(".NewInboundBttn").show();
this.jF2(".NewOutboundBttn").show();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.SubItem_Saved=function(){this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysEdit.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysItem.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.GetCssRoot=function(){return"\r\n                .ForeignKeysPanel { width: 100%; position:relative; padding-top: 17px; }\r\n                .ForeignKeysPanel .TopColorBar { position:absolute; top: -1px; width: inherit; min-width: 200px; height: 8px; background: #0b94da; margin-bottom: 15px; }\r\n\r\n                .ForeignKeysPanel .FKTable { width: 100%; }\r\n                .ForeignKeysPanel .FKTable .Td1 { width: 50%; padding-right: 2px; }\r\n                .ForeignKeysPanel .FKTable .Td2 { width: 7px; min-width: 7px; max-width: 7px; background: #e8e8ed; font-size: 1px; }\r\n                .ForeignKeysPanel .FKTable .Td3 { width: 50%; padding-left: 2px; }\r\n\r\n                .ForeignKeysPanel .AboveScrollSection { padding-bottom: 14px; padding-left: 10px; }\r\n                .ForeignKeysPanel .AboveScrollSection .Head1 { font-size: 1.1em; margin-bottom: 11px; }\r\n                .ForeignKeysPanel .AboveScrollSection .Head1 span { font-size: 1.4em; }\r\n                .ForeignKeysPanel .ScrollSectionDiv {  }\r\n                .ForeignKeysPanel .ScrollSectionDiv .Head2 { text-align: center; background: #f3f3f3; color: #999; padding: 2px 0px; margin-bottom:8px; }\r\n\r\n                .ForeignKeysPanel .NewBttnHolderDiv { line-height: 22px; min-height: 22px; max-height: 22px; }\r\n                .ForeignKeysPanel .Bttn { float:left; cursor:pointer; font-size: .8em; background: #14498f; color: #fff; padding: 0px 12px; }\r\n                .ForeignKeysPanel .Bttn:hover { background: #333; }\r\n\r\n                .ForeignKeysPanel .Inbound_Count  { color: #bbb; }\r\n                .ForeignKeysPanel .Outbound_Count { color: #bbb; }\r\n\r\n                .ForeignKeysPanel .Holder_InboundItems { }\r\n                .ForeignKeysPanel .Holder_OutboundItems { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopColorBar'></div>\r\n                <table class='FKTable'>\r\n                    <tr>\r\n                        <td class='Td1'>\r\n                            <div class='AboveScrollSection'>\r\n                                <div class='Head1'>Relationships <span>TO</span> This Table <span class='Inbound_Count'>(0)</span></div>\r\n                                <div class='NewBttnHolderDiv'>\r\n                                    <div class='Bttn NewInboundBttn' On_Click='NewInboundRelationship_Click'>+ New Inbound Relationship</div>\r\n                                </div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n                            <div class='ScrollSectionDiv AutoResize'>\r\n                                <div class='Head2 hide'>(Foreign Key Table) --&gt; (Primary Key Table)</div>\r\n                                <div class='Holder_Inbound_New'></div>\r\n                                <div class='Holder_InboundItems'></div>\r\n                            </div>\r\n                        </td>\r\n                        <td class='Td2'>&nbsp;</td>\r\n                        <td class='Td3'>\r\n                            <div class='AboveScrollSection'>\r\n                                <div class='Head1'>Relationships <span>FROM</span> This Table <span class='Outbound_Count'>(0)</span></div>\r\n                                <div class='NewBttnHolderDiv'>\r\n                                    <div class='Bttn NewOutboundBttn' On_Click='NewOutboundRelationship_Click'>+ New Outbound Relationship</div>\r\n                                </div>\r\n                                <div class='clear'></div>\r\n                            </div>\r\n                            <div class='ScrollSectionDiv AutoResize'>\r\n                                <div class='Head2 hide'>(Foreign Key Table) --&gt; (Primary Key Table)</div>\r\n                                <div class='Holder_Outbound_New'></div>\r\n                                <div class='Holder_OutboundItems'></div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow=function(a){this.Index=0;
this.IndexesSubColumnSelectors=null;
this.Temp_Model_IsUnique=false;
this.OnEdit_Enter=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnEdit_Exit=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
ASPdb.FrameworkUI.MRBPattern.call(this);
this.Index=a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='IndexesRow jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
if(this.Index==0){this.jF("td").addClass("NoTopBorder");
}var c=this.jF(".Label_ColumnNames");
var d=this.jF(".Label_IsUnique");
var a="";
for(var b=0;
b<this.get_Model().Columns.length;
b++){a+=this.get_Model().Columns[b].ColumnName;
if(this.get_Model().Columns[b].SortDirection==1){a+=" <span>(DESC)</span>";
}a+="<br />";
}c.html(a);
d.html("Is Unique");
if(!this.get_Model().IsUnique){d.html("Not Unique");
d.addClass("NotUnique");
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.DisableBttns=function(){this.jF(".ViewPartBttn").hide();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.EnableBttns=function(){this.jF(".ViewPartBttn").show();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.Edit_Click=function(){this.OnEdit_Enter.After.Fire();
this.jF(".ViewPart").hide();
this.jF(".EditPart").show();
this.jF(".EditTDPart1").addClass("EditTDPart1_ON");
this.jF(".EditTDPart2").addClass("EditTDPart2_ON");
var a=this.jF(".Holder_IndexesSubColumnSelectors");
a.html("");
this.IndexesSubColumnSelectors=[];
for(var b=0;
b<this.get_Model().Columns.length;
b++){this.IndexesSubColumnSelectors[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector();
this.IndexesSubColumnSelectors[b].set_ViewModel(this.get_ViewModel());
this.IndexesSubColumnSelectors[b].set_Model(this.get_Model().Columns[b]);
this.IndexesSubColumnSelectors[b].OnChange.After.AddHandler(this,"IndexesSubColumnSelector_Changed",1);
this.IndexesSubColumnSelectors[b].Instantiate();
a.append(this.IndexesSubColumnSelectors[b].jRoot);
}var c=this.IndexesSubColumnSelectors[this.IndexesSubColumnSelectors.length-1];
this.IndexesSubColumnSelector_Changed(c);
this.Temp_Model_IsUnique=!this.get_Model().IsUnique;
this.IsUnique_Click();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.IndexesSubColumnSelector_Changed=function(c){var a=this.jF2(".Holder_IndexesSubColumnSelectors");
var b=this.IndexesSubColumnSelectors.length;
var d=this.IndexesSubColumnSelectors[b-1].get_Model().ColumnName;
if(d!=null&&d!=""){this.IndexesSubColumnSelectors[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector();
this.IndexesSubColumnSelectors[b].set_ViewModel(this.get_ViewModel());
this.IndexesSubColumnSelectors[b].OnChange.After.AddHandler(this,"IndexesSubColumnSelector_Changed",1);
this.IndexesSubColumnSelectors[b].Instantiate();
a.append(this.IndexesSubColumnSelectors[b].jRoot);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.Delete_Click=function(){if(confirm("Are you sure?")){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Delete_Return").TableDesign__Indexes__Delete(this.get_Model());
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.Delete_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.IsUnique_Click=function(){this.Temp_Model_IsUnique=!this.Temp_Model_IsUnique;
if(this.Temp_Model_IsUnique){this.jF2(".Checkbox_IsUnique").attr("checked",true);
}else{this.jF2(".Checkbox_IsUnique").attr("checked",false);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.Save_Click=function(){this.get_Model().IsUnique=this.Temp_Model_IsUnique;
var b=0;
this.get_Model().Columns=[];
for(var a=0;
a<this.IndexesSubColumnSelectors.length;
a++){var c=this.IndexesSubColumnSelectors[a].get_Model().ColumnName;
if(c!=null&&c!=""){this.IndexesSubColumnSelectors[a].get_Model().ColumnId=b;
this.get_Model().Columns[b]=this.IndexesSubColumnSelectors[a].get_Model();
b++;
}}ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__Indexes__Update(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.Save_Return=function(a){if(a.Error!=null){alert("Error: "+a.Error.Message);
return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.CancelEdit_Click=function(){this.jF(".EditTDPart1").removeClass("EditTDPart1_ON");
this.jF(".EditTDPart2").removeClass("EditTDPart2_ON");
this.jF(".EditPart").hide();
this.jF(".ViewPart").show();
this.OnEdit_Exit.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.GetCssRoot=function(){return"\r\n                .IndexesRow { font-size: .9em; }\r\n                .IndexesRow td { border-top: 6px solid #fff; background: #eeeef2; line-height: 32px; min-height: 32px; }\r\n                .IndexesRow .td1 { width: 280px; background: #fff; }\r\n                .IndexesRow .td2 { padding-left: 20px; white-space:nowrap; overflow:hidden; }\r\n                .IndexesRow .td3 { width: 120px; }\r\n                .IndexesRow .td4 { width: 54px; text-align:center; vertical-align:top; padding: 3px 6px 3px 0px; }\r\n                .IndexesRow .td5 { width: 74px; text-align:center; vertical-align:top; padding: 3px 6px 3px 0px; }\r\n\r\n                .IndexesRow .IndexNameDiv { padding-left: 15px; background: #e8e8ed; line-height: 32px;\r\n                                            white-space:nowrap; overflow:hidden; }\r\n\r\n                .IndexesRow .Label_ColumnNames span { color: #aaa; font-size: .75em; padding-left: 2px; }\r\n                .IndexesRow .NotUnique { color: #ccc; }\r\n\r\n                .IndexesRow .NoTopBorder { border-top-width: 0px; }\r\n\r\n                .IndexesRow .Bttn { background: #fff; color: #222; border: 1px solid #bfbfbf; cursor:pointer; line-height: 24px; }\r\n                .IndexesRow .Bttn:hover { background: #595959; border-color: #595959; color: #fff; }\r\n                .IndexesRow .Bttn_WithTopMargin { margin-top: 28px; }\r\n\r\n                .IndexesRow .ViewPart { }\r\n                .IndexesRow .EditPart { display:none; }\r\n                .IndexesRow .EditPart_WithTopMargin { margin-top: 7px; }\r\n                .IndexesRow .EditTDPart1 { }\r\n                .IndexesRow .EditTDPart1_ON { background: #4e927d; color: #fff; }\r\n                .IndexesRow .EditTDPart2 { }\r\n                .IndexesRow .EditTDPart2_ON { background: #6cc5aa; color: #fff; }\r\n\r\n                .IndexesRow .Bttn_IsUnique { border: 1px solid #caefe4; margin-right: 15px; cursor:pointer;\r\n                                             text-align:left; font-size: .8em; padding: 7px 0px 5px 10px; line-height: 20px; }\r\n                .IndexesRow .Bttn_IsUnique:hover { background: #98e0ca; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow.prototype.GetHtmlRoot=function(){return"\r\n                <td class='td1'>\r\n                    <div class='IndexNameDiv EditTDPart1' ModelKey='IndexName'>&nbsp;</div>\r\n                </td>\r\n                <td class='td2 EditTDPart2'>\r\n                    <div class='Label_ColumnNames ViewPart'></div>\r\n                    <div class='EditPart EditPart_WithTopMargin Holder_IndexesSubColumnSelectors'>\r\n                    </div>\r\n                </td>\r\n                <td class='td3 EditTDPart2'>\r\n                    <div class='Label_IsUnique ViewPart'></div>\r\n                    <div class='EditPart EditPart_WithTopMargin'>\r\n                        <div class='Bttn_IsUnique' On_Click='IsUnique_Click'>\r\n                            <input type='checkbox' class='Checkbox_IsUnique' />\r\n                            Is Unique\r\n                        </div>\r\n                    </div>\r\n                </td>\r\n                <td class='td4 EditTDPart2'>\r\n                    <div class='Bttn                    ViewPart ViewPartBttn' On_Click='Edit_Click'>Edit</div>\r\n                    <div class='Bttn Bttn_WithTopMargin EditPart             ' On_Click='Save_Click'>Save</div>\r\n                </td>\r\n                <td class='td5 EditTDPart2'>\r\n                    <div class='Bttn                    ViewPart ViewPartBttn' On_Click='Delete_Click'>Delete</div>\r\n                    <div class='Bttn Bttn_WithTopMargin EditPart             ' On_Click='CancelEdit_Click'>Cancel</div>\r\n                </td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.IndexesRow,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='IndexesSubColumnSelector jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var b=this.jF(".Select_ColumnNames");
b.html("<option value=''></option>");
if(this.get_ViewModel().TableStructure.Columns!=null){for(var c=0;
c<this.get_ViewModel().TableStructure.Columns.length;
c++){var a=this.get_ViewModel().TableStructure.Columns[c].ColumnName;
b.append("<option value='"+a+"'>"+a+"</option>");
}}if(this.get_Model()==null){this.set_Model(new ASPdatabaseNET.DbInterfaces.TableObjects.IndexColumn());
this.get_Model().SortDirection=0;
}else{b.val(this.get_Model().ColumnName);
if(this.get_Model().SortDirection==1){this.jF(".Checkbox_IsDESC").attr("checked",true);
}}};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.prototype.Select_ColumnNames_Changed=function(){this.get_Model().ColumnName=this.jF(".Select_ColumnNames").val();
this.OnChange.After.Fire1(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.prototype.IsDESC_Click=function(){if(this.get_Model().SortDirection==0){this.get_Model().SortDirection=1;
this.jF(".Checkbox_IsDESC").attr("checked",true);
}else{this.get_Model().SortDirection=0;
this.jF(".Checkbox_IsDESC").attr("checked",false);
}this.OnChange.After.Fire1(this);
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.GetCssRoot=function(){return"\r\n                .IndexesSubColumnSelector { line-height: 30px; }\r\n                .IndexesSubColumnSelector .Div1 { float:left; width: 210px; }\r\n                .IndexesSubColumnSelector .Div2 { float:left; width: 110px; padding-left: 10px; font-size: .8em; cursor: pointer; }\r\n                .IndexesSubColumnSelector .Div2:hover { background: #98e0ca; }\r\n\r\n                .IndexesSubColumnSelector .Select_ColumnNames { width: 200px; min-width: 200px; max-width: 200px; }\r\n                .IndexesSubColumnSelector .Checkbox_IsDESC { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Div1'>\r\n                    <select class='Select_ColumnNames' On_Change='Select_ColumnNames_Changed'>\r\n                    </select>\r\n                </div>\r\n                <div class='Div2' On_Click='IsDESC_Click'>\r\n                    <input type='checkbox' class='Checkbox_IsDESC' />\r\n                    <span>Descending</span>\r\n                </div>\r\n                <div class='clear'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.IndexesSubColumnSelector,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel=function(a){this.KeyDoesNotExist=true;
this.InEditMode=false;
this.PrimaryKeyRows=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(a);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='PrimaryKeyPanel jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.jRoot.hide();
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.Open_Sub=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"PrimaryKey__Get_Return").TableDesign__PrimaryKey__Get(this.get_ViewModel().TableId);
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.PrimaryKey__Get_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.KeyDoesNotExist=(this.get_Model()==null);
if(this.KeyDoesNotExist){this.set_Model(new ASPdatabaseNET.DbInterfaces.TableObjects.PrimaryKey());
this.get_Model().ConnectionId=this.get_ViewModel().ConnectionId;
this.get_Model().TableId=this.get_ViewModel().TableStructure.TableId;
this.get_Model().Schema=this.get_ViewModel().TableStructure.Schema;
this.get_Model().TableName=this.get_ViewModel().TableStructure.TableName;
this.get_Model().Columns=[];
this.jF(".BttnPK_Remove").hide();
}else{this.jF(".BttnPK_Remove").show();
}this.PrimaryKeyRows=[];
var b=this.jF(".Holder_PrimaryKeyFields").html("");
this.get_Model().Columns[this.get_Model().Columns.length]=new ASPdatabaseNET.DbInterfaces.TableObjects.PrimaryKeyColumn();
for(var c=0;
c<this.get_Model().Columns.length;
c++){this.PrimaryKeyRows[c]=new ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow();
this.PrimaryKeyRows[c].set_ViewModel(this.get_ViewModel());
this.PrimaryKeyRows[c].set_Model(this.get_Model().Columns[c]);
this.PrimaryKeyRows[c].Instantiate();
this.PrimaryKeyRows[c].OnChange.After.AddHandler(this,"SubItem_Changed",0);
b.append(this.PrimaryKeyRows[c].jRoot);
}this.SubItem_Changed();
this.InEditMode=false;
this.RefreshBttns();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.RefreshBttns=function(){if(this.InEditMode){this.jF(".BttnPK_Toggleable").removeClass("BttnPK_Off");
}else{this.jF(".BttnPK_Toggleable").addClass("BttnPK_Off");
}};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.Save_Click=function(){if(!this.InEditMode){return;
}var c=0;
this.get_Model().Columns=[];
for(var b=0;
b<this.PrimaryKeyRows.length;
b++){var a=this.PrimaryKeyRows[b].GetModel();
if(a!=null){this.get_Model().Columns[c++]=a;
}}if(this.KeyDoesNotExist){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__PrimaryKey__Create(this.get_Model());
}else{ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__PrimaryKey__Update(this.get_Model());
}};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.Save_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.OnChange.After.Fire();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.Cancel_Click=function(){if(!this.InEditMode){return;
}this.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.Remove_Click=function(){if(confirm("Are you sure?")){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").TableDesign__PrimaryKey__Delete(this.get_Model());
}};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.SubItem_Changed=function(){this.InEditMode=true;
this.RefreshBttns();
var c=this.PrimaryKeyRows.length-1;
var a=this.PrimaryKeyRows[c].HasValue();
if(a){var b=c+1;
this.PrimaryKeyRows[b]=new ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow();
this.PrimaryKeyRows[b].set_ViewModel(this.get_ViewModel());
this.PrimaryKeyRows[b].set_Model(new ASPdatabaseNET.DbInterfaces.TableObjects.PrimaryKeyColumn());
this.PrimaryKeyRows[b].Instantiate();
this.PrimaryKeyRows[b].OnChange.After.AddHandler(this,"SubItem_Changed",0);
this.jF(".Holder_PrimaryKeyFields").append(this.PrimaryKeyRows[b].jRoot);
}var d=-1;
for(var b=0;
b<this.PrimaryKeyRows.length;
b++){if(this.PrimaryKeyRows[b].IsIdentity){d=b;
}}if(d>-1){for(var b=0;
b<this.PrimaryKeyRows.length;
b++){if(b!=d){this.PrimaryKeyRows[b].HideIdentityUI();
}}}else{for(var b=0;
b<this.PrimaryKeyRows.length;
b++){this.PrimaryKeyRows[b].ShowIdentityUI();
}}};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyRow.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.GetCssRoot=function(){return"\r\n                .PrimaryKeyPanel { width: 100%; position:relative; padding-top: 37px; }\r\n                .PrimaryKeyPanel .TopColorBar { position:absolute; top: -1px; width: inherit; min-width: 200px; height: 8px; background: #f26b0b; margin-bottom: 35px; }\r\n\r\n                .PrimaryKeyPanel .BttnsBar2 { }\r\n                .PrimaryKeyPanel .BttnsBar2 .BttnPK { font-size: .85em; float:left; background: #14498f; color: #fff; cursor: pointer; padding: .3em 1.3em; margin-right: 1.2em; }\r\n                .PrimaryKeyPanel .BttnsBar2 .BttnPK:hover { background: #333; }\r\n                .PrimaryKeyPanel .BttnsBar2 .BttnPK_Off { background: #e5e5ea; cursor: default; }\r\n                .PrimaryKeyPanel .BttnsBar2 .BttnPK_Off:hover { background: #e5e5ea; }\r\n\r\n                .PrimaryKeyPanel .Label2 { margin: 1.5em 1.375em .25em; color: #14498f; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopColorBar'></div>\r\n                <div class='BttnsBar2 NoSelect'>\r\n                    <div class='BttnPK BttnPK_Toggleable BttnPK_Off' On_Click='Save_Click'>Save</div>\r\n                    <div class='BttnPK BttnPK_Toggleable BttnPK_Off' On_Click='Cancel_Click'>Cancel Changes</div>\r\n                    <div class='BttnPK BttnPK_Remove' On_Click='Remove_Click'>Remove Primary Key</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='Label2'>Primary Key Fields</div>\r\n                <table class='Holder_PrimaryKeyFields'></table>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI=function(){this.LastPanelTypeOnSaved=0;
this.ColumnsPanel=null;
this.PrimaryKeyPanel=null;
this.ForeignKeysPanel=null;
this.IndexesPanel=null;
this.AppPropertiesPanel=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(new ASPdatabaseNET.UI.PageParts.TableDesign.TableDesign_ViewModel());
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TableDesignMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.ColumnsPanel=new ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel(this.get_ViewModel());
this.PrimaryKeyPanel=new ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel(this.get_ViewModel());
this.ForeignKeysPanel=new ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel(this.get_ViewModel());
this.IndexesPanel=new ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel(this.get_ViewModel());
this.AppPropertiesPanel=new ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel(this.get_ViewModel());
var a=this.jF2(".PanelsHolder");
a.append(this.ColumnsPanel.jRoot);
a.append(this.PrimaryKeyPanel.jRoot);
a.append(this.ForeignKeysPanel.jRoot);
a.append(this.IndexesPanel.jRoot);
a.append(this.AppPropertiesPanel.jRoot);
this.PrimaryKeyPanel.OnChange.After.AddHandler(this,"PrimaryKeyPanel_Changed",0);
this.ForeignKeysPanel.OnChange.After.AddHandler(this,"ForeignKeysPanel_Changed",0);
this.IndexesPanel.OnChange.After.AddHandler(this,"IndexesPanel_Changed",0);
this.ColumnsPanel.OnHasPendingChanges.After.AddHandler(this,"OnSubPanel_HasPendingChanges",0);
this.ColumnsPanel.OnGotoTab.After.AddHandler(this,"OnGotoTab_Method",1);
this.ColumnsPanel.OnSaved.After.AddHandler(this,"OnSubPanelSaved",1);
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.Open_Sub=function(){this.Get_HashInputs();
this.get_ViewModel().AllTables_InDb=null;
this.jF2(".TopSection_CreateTable").hide();
this.jF2(".TopSection_DesignTable").hide();
this.jF2(".Tab").hide();
this.jF2(".PanelsHolder").hide();
this.jF2(".Bttn_Close").html("Close Designer");
if(this.get_ViewModel().IsCreateNew){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_ForCreateNew_Return").TableDesign__GetInfo_ForCreateNew(this.get_ViewModel().ConnectionId);
}else{ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_ForModify_Return").TableDesign__GetInfo_ForModify(this.get_ViewModel().TableId);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.Get_HashInputs=function(){this.get_ViewModel().ConnectionId=-1;
this.get_ViewModel().TableId=-1;
try{var b=ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().PageParam2;
var d=ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().PageParam3;
var c=ASPdb.FrameworkUI.JsStr.S(b).ToLower().String;
if(c=="new"){this.get_ViewModel().IsCreateNew=true;
if(!isNaN(d)){this.get_ViewModel().ConnectionId=1*d;
}}else{this.get_ViewModel().IsCreateNew=false;
if(!isNaN(b)){this.get_ViewModel().TableId=1*b;
}}}catch(a){}};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.GetInfo_ForCreateNew_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}var c=a.ReturnObj;
this.get_ViewModel().Set(c);
this.get_ViewModel().IsCreateNew=true;
this.set_Model(new ASPdatabaseNET.DbInterfaces.TableObjects.TableStructure());
this.get_Model().ConnectionId=this.get_ViewModel().ConnectionId;
this.ColumnsPanel.set_Model(this.get_Model());
this.get_ViewModel().TableStructure=this.get_Model();
this.jF2(".TopSection_CreateTable").show();
this.jF2(".Label1_ConnectionName").html(c.ConnectionName);
this.jF2(".Txt_TableName").focus().val("");
this.jF2(".Tab_ForCreate").show();
this.jF2(".PanelsHolder").show();
var d=this.jF2(".Select_Schema");
d.html("");
for(var b=0;
b<c.Schemas.length;
b++){if(ASPdb.FrameworkUI.JsStr.S(c.Schemas[b]).ToLower().String=="dbo"){d.append("<option selected='selected'>"+c.Schemas[b]+"</option>");
}else{d.append("<option>"+c.Schemas[b]+"</option>");
}}this.TabClick_Columns();
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.GetInfo_ForModify_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}var b=a.ReturnObj;
this.get_ViewModel().Set(b);
this.get_ViewModel().IsCreateNew=false;
this.set_Model(b.TableStructure);
this.ColumnsPanel.set_Model(this.get_Model());
this.jF2(".TopSection_DesignTable").show();
this.jF2(".Tab_ForModify").show();
this.jF2(".PanelsHolder").show();
this.BindUI();
this.Populate_JumpToSelect();
switch(this.LastPanelTypeOnSaved){case 1:this.TabClick_Columns();
break;
case 2:this.TabClick_PrimaryKey();
break;
case 3:this.TabClick_ForeignKeys();
break;
case 4:this.TabClick_Indexes();
break;
case 5:this.TabClick_AppProperties();
break;
default:this.TabClick_Columns();
break;
}this.LastPanelTypeOnSaved=0;
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.Populate_JumpToSelect=function(){var d=this.jF2(".Select_JumpTo");
d.html("<option value='-1'></option>");
var e=this.get_ViewModel().AllTables_InDb;
if(e==null){return;
}for(var a=0;
a<e.length;
a++){var b=e[a];
var c=ASPdb.FrameworkUI.JsStr.StrFormat3("<option value='{0}'>{1}.{2}</option>",b.TableId,b.Schema,b.TableName);
d.append(c);
}};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.BttnClick_Create=function(){this.get_Model().Schema=this.jF2(".Select_Schema").val();
this.get_Model().TableName=this.jF2(".Txt_TableName").val();
this.ColumnsPanel.SaveToModel();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"CreateTable_Return").TableDesign__CreateTable(this.get_Model());
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.CreateTable_Return=function(ajaxResponse){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(ajaxResponse)){return;
}var response=ajaxResponse.ReturnObj;
if(response.TableId<0){alert("Could not determin new TableId");
this.BttnClick_Cancel();
}else{var url="#00-TableDesign-"+response.TableId;
eval("window.location = url;");
}};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.BttnClick_Cancel=function(){var url="#00-ManageAssets-"+this.get_ViewModel().ConnectionId;
if(this.get_ViewModel().ConnectionId<0){url="#00-StartPage";
}eval("window.location = url;");
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.TabClick_Columns=function(){this.CloseAllTabs();
this.jF2(".Tab_Columns").addClass("Selected").addClass("Tab_Columns_Selected");
this.ColumnsPanel.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.TabClick_PrimaryKey=function(){this.CloseAllTabs();
this.jF2(".Tab_PrimaryKey").addClass("Selected").addClass("Tab_PrimaryKey_Selected");
this.PrimaryKeyPanel.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.TabClick_ForeignKeys=function(){this.CloseAllTabs();
this.jF2(".Tab_ForeignKeys").addClass("Selected").addClass("Tab_ForeignKeys_Selected");
this.ForeignKeysPanel.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.TabClick_Indexes=function(){this.CloseAllTabs();
this.jF2(".Tab_Indexes").addClass("Selected").addClass("Tab_Indexes_Selected");
this.IndexesPanel.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.TabClick_AppProperties=function(){this.CloseAllTabs();
this.jF2(".Tab_AppProperties").addClass("Selected").addClass("Tab_AppProperties_Selected");
this.AppPropertiesPanel.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.CloseAllTabs=function(){this.jF2(".Tab").removeClass("Selected").removeClass("Tab_Columns_Selected").removeClass("Tab_PrimaryKey_Selected").removeClass("Tab_ForeignKeys_Selected").removeClass("Tab_Indexes_Selected").removeClass("Tab_AppProperties_Selected");
if(this.ColumnsPanel!=null&&this.ColumnsPanel.IsOpen){this.ColumnsPanel.Close();
}if(this.PrimaryKeyPanel!=null&&this.PrimaryKeyPanel.IsOpen){this.PrimaryKeyPanel.Close();
}if(this.ForeignKeysPanel!=null&&this.ForeignKeysPanel.IsOpen){this.ForeignKeysPanel.Close();
}if(this.IndexesPanel!=null&&this.IndexesPanel.IsOpen){this.IndexesPanel.Close();
}if(this.AppPropertiesPanel!=null&&this.AppPropertiesPanel.IsOpen){this.AppPropertiesPanel.Close();
}};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.OnSubPanel_HasPendingChanges=function(){this.jF2(".Bttn_Close").html("Undo Changes & Close Designer");
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.OnGotoTab_Method=function(a){switch(a){case"PK":this.TabClick_PrimaryKey();
break;
case"FK":this.TabClick_ForeignKeys();
break;
case"IX":this.TabClick_Indexes();
break;
}};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.OnSubPanelSaved=function(a){switch(a){case"Columns":this.LastPanelTypeOnSaved=1;
break;
case"ForeignKeys":this.LastPanelTypeOnSaved=3;
break;
case"PrimaryKey":this.LastPanelTypeOnSaved=2;
break;
case"Indexes":this.LastPanelTypeOnSaved=4;
break;
case"AppProperties":this.LastPanelTypeOnSaved=5;
break;
default:this.LastPanelTypeOnSaved=0;
break;
}this.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.PrimaryKeyPanel_Changed=function(){this.LastPanelTypeOnSaved=2;
this.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.ForeignKeysPanel_Changed=function(){this.LastPanelTypeOnSaved=3;
this.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.IndexesPanel_Changed=function(){this.LastPanelTypeOnSaved=4;
this.Open();
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.JumpTo_Change=function(){var a=this.jF2(".Select_JumpTo").val();
if(a<0){return;
}window.location.hash="#00-TableDesign-"+a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.TableName_Click=function(){window.location=("#00-Table-"+this.get_Model().TableId);
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ColumnsPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.PrimaryKeyPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.ForeignKeysPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.IndexesPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TableDesign.AppPropertiesPanel.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.GetCssRoot=function(){return"\r\n                .TableDesignMainUI { width: 946px; }\r\n                .TableDesignMainUI .TopSection_CreateTable { display: none; position: relative; }\r\n                .TableDesignMainUI .TopSection_DesignTable { display: none; position: relative; }\r\n\r\n\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar { margin-top: 14px; }\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar .Dot1 { float: left; margin: 4px 2px 0px 3px; font-size: 1.1em; }\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar .Dot2 { float: left; margin: 4px 3px 0px 2px; font-size: 1.1em; }\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar .Label1 {        font-size: 16px; border: 1px solid #f9c364; border-width: 1px 0px 1px 1px; background: #fefe9f; display: block; float: left; line-height: 24px; padding: 0px 8px; max-width: 200px; overflow: hidden; white-space:nowrap; }\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar .Select_Schema { font-size: 16px; border: 1px solid #f9c364; border-width: 1px 0px 1px 0px; background: #fefe9f; display: block; float: left; height:26px; min-width: 90px; border-left: 1px solid #fefe9f; border-right: 1px solid #fefe9f; }\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar .Txt_TableName { font-size: 16px; border: 1px solid #f9c364; border-width: 1px 1px 1px 0px; background: #fefe9f; display: block; float: left; line-height: 20px; width: 325px; }\r\n                .TableDesignMainUI .TopSection_CreateTable .NameBar .Label_TableName { float:left; position:relative; top: -14px; left: -122px; font-size: .6em; color: #999; width: 120px; text-align: right; }\r\n                                                     \r\n                .TableDesignMainUI .TopSection_CreateTable .BttnsBar { position: absolute; top: 6px; width: 100%; }\r\n                .TableDesignMainUI .TopSection_CreateTable .BttnsBar .Bttn { float: right; background: #14498f; color: #fff; line-height: 40px; padding: 0px 25px; \r\n                                                                             cursor: pointer; margin-left: 5px; }\r\n                .TableDesignMainUI .TopSection_CreateTable .BttnsBar .Bttn:hover { background: #333; }\r\n                .TableDesignMainUI .TopSection_CreateTable .BttnsBar .Bttn_Create:hover { background: #e14738; }\r\n\r\n                .TableDesignMainUI .TopSection_CreateTable .BttnsBar .Inactive { background: #ddd; cursor: default; }\r\n                .TableDesignMainUI .TopSection_CreateTable .BttnsBar .Inactive:hover { background: #ddd; }\r\n\r\n\r\n\r\n\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar { margin-top: 14px; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .For { color: #aaaaaa; padding-right: 1px; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Label1 { background: #fefe9f; color: #888; padding: 3px 8px; border: 1px solid #f9c364; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Txt_TableRename { display:none; border: 1px solid #14498f; background: #fefe9f; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Label1_Period {         border-width: 1px 0px 1px 0px; padding: 3px 3px; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Label1_ConnectionName { border-width: 1px 0px 1px 1px; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Label1_Schema {         border-width: 1px 0px 1px 0px; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Label1_TableName {      border-width: 1px 1px 1px 0px; cursor:pointer; color: #000; }\r\n                .TableDesignMainUI .TopSection_DesignTable .NameBar .Label1_TableName:hover { background: #fff; }\r\n                \r\n\r\n                .TableDesignMainUI .TopSection_DesignTable .BttnsBar { position: absolute; top: 6px; width: 100%; }\r\n                .TableDesignMainUI .TopSection_DesignTable .BttnsBar .Bttn { float: right; background: #14498f; color: #fff; line-height: 40px; padding: 0px 25px; \r\n                                                                             cursor: pointer; margin-left: 5px; }\r\n                .TableDesignMainUI .TopSection_DesignTable .BttnsBar .Bttn:hover { background: #333; }\r\n                .TableDesignMainUI .TopSection_DesignTable .BttnsBar .Inactive { background: #ddd; cursor: default; }\r\n                .TableDesignMainUI .TopSection_DesignTable .BttnsBar .Inactive:hover { background: #ddd; }\r\n\r\n                .TableDesignMainUI .TopSection_DesignTable .JumpToBox { position:absolute; top: 6px; left: 280px; width: 350px; font-size: .8em; color: #999; }\r\n                .TableDesignMainUI .TopSection_DesignTable .JumpToBox .Select_JumpTo { min-width: 250px; max-width: 250px; border-color: #bbb; }\r\n\r\n\r\n                .TableDesignMainUI .TabsBar { line-height: 28px; color: #222; margin-top: 32px; font-size: .9em; }\r\n                .TableDesignMainUI .TabsBar .Tab { float: left; cursor: pointer; z-index: 2; position: relative; padding-top: 1px;\r\n                                                   width: 135px; text-align: center; background: #e5e5ea; margin-right: 10px; }\r\n                .TableDesignMainUI .TabsBar .Tab:hover { background: #555; color: #fff; }\r\n                .TableDesignMainUI .TabsBar .Selected { line-height: 28px; width: 133px;\r\n                                                        border: 1px solid #585858; border-bottom-width: 0px; background: #fff; }\r\n                .TableDesignMainUI .TabsBar .Tab_Columns { margin-left: 28px; }\r\n                .TableDesignMainUI .TabsBar .Tab_CreateNote {       width: 420px; font-size: .8em; text-align:center; cursor: default; margin-right: 18px;\r\n                                                                    border: 1px solid #dfdfe5; border-width: 1px 1px 0px 1px; padding-top: 0px;\r\n                                                                    background: #fafafa; color: #8c8b8b;  }\r\n                .TableDesignMainUI .TabsBar .Tab_CreateNote:hover { background: #fafafa; color: #8c8b8b; }\r\n                .TableDesignMainUI .TabsBar .HozLine { position: relative; top: -1px; border-bottom: 1px solid #585858; z-index:1; }\r\n\r\n\r\n                .TableDesignMainUI .TabsBar .Tab_Columns_Selected { background: #979aa5; color: #fff; cursor:default; }\r\n                .TableDesignMainUI .TabsBar .Tab_Columns_Selected:hover { background: #979aa5; }\r\n\r\n                .TableDesignMainUI .TabsBar .Tab_PrimaryKey_Selected { background: #f26b0b; color: #fff; cursor:default; }\r\n                .TableDesignMainUI .TabsBar .Tab_PrimaryKey_Selected:hover { background: #f26b0b; }\r\n\r\n                .TableDesignMainUI .TabsBar .Tab_ForeignKeys_Selected { background: #0b94da; color: #fff; cursor:default; }\r\n                .TableDesignMainUI .TabsBar .Tab_ForeignKeys_Selected:hover { background: #0b94da; }\r\n\r\n                .TableDesignMainUI .TabsBar .Tab_Indexes_Selected { background: #6cc5aa; color: #fff; cursor:default; }\r\n                .TableDesignMainUI .TabsBar .Tab_Indexes_Selected:hover { background: #6cc5aa; }\r\n\r\n                .TableDesignMainUI .TabsBar .Tab_AppProperties_Selected { background: #173a67; color: #fff; cursor:default; }\r\n                .TableDesignMainUI .TabsBar .Tab_AppProperties_Selected:hover { background: #173a67; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopSection_CreateTable'>\r\n                    <div class='Head'>Create Table</div>\r\n                    <div class='BttnsBar'>\r\n                        <div class='Bttn Bttn_Cancel' On_Click='BttnClick_Cancel'>Cancel</div>\r\n                        <div class='Bttn Bttn_Create' On_Click='BttnClick_Create'>Create Table</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='NameBar'>\r\n                        <div class='Label1 Label1_ConnectionName'></div>\r\n                        <div class='Dot1'>.</div>\r\n                        <select class='Select_Schema'>\r\n                        </select>\r\n                        <div class='Dot2'>.</div>\r\n                        <input type='text' class='Txt_TableName' value='' />\r\n                        <div class='Label_TableName'>Table Name</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class='TopSection_DesignTable'>\r\n                    <div class='Head'>Design Table</div>\r\n                    <div class='BttnsBar'>\r\n                        <div class='Bttn Bttn_Close' On_Click='BttnClick_Cancel'>Close Designer</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='JumpToBox'>\r\n                        Jump To\r\n                        <select class='Select_JumpTo' On_Change='JumpTo_Change'></select>\r\n                    </div>\r\n                    <div class='NameBar'>\r\n                        <span class='Label1 Label1_ConnectionName' ModelKey='ConnectionName'></span\r\n                            ><span class='Label1 Label1_Period'>.</span><span class='Label1 Label1_Schema' ModelKey='Schema'></span\r\n                            ><span class='Label1 Label1_Period'>.</span><span class='Label1 Label1_TableName' ModelKey='TableName' On_Click='TableName_Click'></span\r\n                            >\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class='TabsBar'>\r\n                    <div class='Tab Tab_ForModify Tab_ForCreate Tab_Columns'       On_Click='TabClick_Columns'       >Columns</div>\r\n                    <div class='Tab               Tab_ForCreate Tab_CreateNote'                                      >Foreign Keys & Indexes can be set once the table is created</div>\r\n                    <div class='Tab Tab_ForModify               Tab_PrimaryKey'    On_Click='TabClick_PrimaryKey'    >Primary Key</div>\r\n                    <div class='Tab Tab_ForModify               Tab_ForeignKeys'   On_Click='TabClick_ForeignKeys'   >Foreign Keys</div>\r\n                    <div class='Tab Tab_ForModify               Tab_Indexes'       On_Click='TabClick_Indexes'       >Indexes</div>\r\n                    <div class='Tab Tab_ForModify               Tab_AppProperties' On_Click='TabClick_AppProperties' >App Properties</div>\r\n                    <div class='clear'></div>\r\n                    <div class='HozLine'></div>\r\n                </div>\r\n\r\n                <div class='PanelsHolder'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesign_ViewModel=function(){this.IsCreateNew=false;
this.ConnectionId=-1;
this.TableId=-1;
this.TableStructure=null;
this.AllTables_InDb=null;
this.TableStructure_TempOtherTable=null;
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesign_ViewModel.prototype.Set=function(a){this.ConnectionId=a.ConnectionId;
this.TableId=a.TableId;
this.TableStructure=a.TableStructure;
this.AllTables_InDb=a.AllTables_InDb;
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesign_ViewModel.prototype.Get_Minified_TableStructure=function(){var a=new ASPdatabaseNET.DbInterfaces.TableObjects.TableStructure();
a.ConnectionId=this.ConnectionId;
a.TableId=this.TableId;
a.Schema=this.TableStructure.Schema;
a.TableName=this.TableStructure.TableName;
return a;
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesign_ViewModel.prototype.GetTableInfo=function(b){if(this.AllTables_InDb!=null){for(var a=0;
a<this.AllTables_InDb.length;
a++){if(this.AllTables_InDb[a].TableId==b){return this.AllTables_InDb[a];
}}}return null;
};
ASPdatabaseNET.UI.PageParts.TableDesign.TableDesign_ViewModel.prototype.GetTableId=function(b,d){if(this.AllTables_InDb!=null){for(var a=0;
a<this.AllTables_InDb.length;
a++){var c=this.AllTables_InDb[a];
if(c.Schema==b&&c.TableName==d){return c.TableId;
}}}return -1;
};
if(typeof(ASPdatabaseNET.UI.PageParts.TablePermissions)=="undefined"){ASPdatabaseNET.UI.PageParts.TablePermissions={};
}ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TablePermissionProperties jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties.GetCssRoot=function(){return"\r\n            .TablePermissionProperties { }\r\n            .TablePermissionProperties .ArrowBox { border: 1px solid #bebfc1; background: #e6e7e9; padding: 7px; color: #5a6169; margin-bottom: 40px; }\r\n            .TablePermissionProperties .ArrowBox .Label1 { padding-left: 35px; font-size: .6em; }\r\n            .TablePermissionProperties .ArrowBox .CenterBox { width: 445px; }\r\n            .TablePermissionProperties .ArrowBox .CenterBox .Label2 { text-align: right; margin: 2px 0px; }\r\n            .TablePermissionProperties .ArrowBox .CenterBox .Label3 { font-size: .7em; text-align: right; }\r\n\r\n            .TablePermissionProperties .Left2a { float: left; margin-left: 55px; width: 212px; font-size: .9em; line-height: 24px; }\r\n            .TablePermissionProperties .Left2b { float: left; width: 255px; font-size: .9em; line-height: 24px; }\r\n            .TablePermissionProperties .Label4 { font-size: 1.1em; }\r\n\r\n            .TablePermissionProperties .DivSpace1 { height: 14px; }\r\n\r\n            .TablePermissionProperties .BottomSectionLine { border: 1px solid #bebfc1; border-top-width: 0px; \r\n                                                            background: #e6e7e9; height: 5px; margin: 17px 0px; }\r\n\r\n            .TablePermissionProperties .Label5 { margin-left: 17px; color: #b1bdcb; font-size: .9em; }\r\n            .TablePermissionProperties .Label6 { margin-left: 17px; color: #3e444a; font-size: .9em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties.prototype.GetHtmlRoot=function(){return"\r\n                <div class='ArrowBox'>\r\n                    <div class='Label1'>Permissions Between:</div>\r\n                    <div class='CenterBox'>\r\n                        <div class='Label2'>Table Name   <------------->   Group Name 03</div>\r\n                        <div class='Label3'>(has 7 users)</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class='Left2a'>\r\n                    <div class='Label4'>Access Level</div>\r\n\r\n                    <input type='radio' name='Radio_AccessLevel' value='NoAccess' />\r\n                    No Access\r\n                    <br />\r\n                    <input type='radio' name='Radio_AccessLevel' value='View' checked='checked' />\r\n                    View\r\n                    <br />\r\n                    <input type='radio' name='Radio_AccessLevel' value='Edit' />\r\n                    Edit\r\n                    <br />\r\n                    <input type='radio' name='Radio_AccessLevel' value='FullAdmin' />\r\n                    Full Admin\r\n                </div>\r\n\r\n                <div class='Left2b'>\r\n                    <div class='Label4'>Options</div>\r\n\r\n                    <input type='checkbox' />\r\n                    Can Download\r\n                    <br />\r\n\r\n                    <input type='checkbox' />\r\n                    Can Create Custom Views\r\n                    \r\n                    <div class='DivSpace1'></div>\r\n\r\n                    <input type='checkbox' />\r\n                    Can Import\r\n                    <br />\r\n\r\n                    <input type='checkbox' />\r\n                    Can Create New Records\r\n                    <br />\r\n\r\n                    <input type='checkbox' />\r\n                    Can Delete\r\n                </div>\r\n\r\n                <div class='clear'></div>\r\n                <div class='BottomSectionLine'></div>\r\n\r\n                <div class='Label5'>Implied Settings</div>\r\n                <div class='Label6'>\r\n                    Users in Group Name 03 can do the following:\r\n                    <br /><br />\r\n\t                &nbsp;&nbsp;&nbsp;&nbsp;    - View All Table Data <br />\r\n\t                &nbsp;&nbsp;&nbsp;&nbsp;    - Create Custom Views<br />\r\n\t                &nbsp;&nbsp;&nbsp;&nbsp;    - Export/Download Data\r\n                </div>\r\n\r\n                <div class='BottomSectionLine'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI=function(){this.TablePermissionsMenu=null;
this.TablePermissionProperties=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TableDesignMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.TablePermissionsMenu=new ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu();
this.TablePermissionProperties=new ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties();
this.jF2(".Left").append(this.TablePermissionsMenu.jRoot);
this.jF2(".Right").append(this.TablePermissionProperties.jRoot);
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionProperties.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI.GetCssRoot=function(){return"\r\n                .TableDesignMainUI { position: relative; }\r\n\r\n                .TableDesignMainUI .BttnsBar { position: absolute; top: 32px; width: 760px; }\r\n                .TableDesignMainUI .BttnsBar .Bttn { float: right; background: #14498f; color: #fff; line-height: 40px; padding: 0px 25px; \r\n                                                     cursor: pointer; margin-left: 5px; }\r\n                .TableDesignMainUI .BttnsBar .Bttn:hover { background: #333; }\r\n                .TableDesignMainUI .BttnsBar .Inactive { background: #ddd; cursor: default; }\r\n                .TableDesignMainUI .BttnsBar .Inactive:hover { background: #ddd; }\r\n\r\n                .TableDesignMainUI .TableNameLabel { margin-top: 15px; font-size: 1.05em; color: #555; }\r\n                .TableDesignMainUI .TableNameLabel span { background: #f8f8f8; padding: 1px 3px; border: 1px solid #eee; }\r\n\r\n                .TableDesignMainUI .Left { float: left; width: 215px; margin-top: 25px; }\r\n                .TableDesignMainUI .Right { float: right; width: 525px; margin-top: 25px; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>Permissions</div>\r\n                <div class='BttnsBar'>\r\n                    <div class='Bttn'>Cancel</div>\r\n                    <div class='Bttn Inactive'>Save</div>\r\n                </div>\r\n                <div class='TableNameLabel'>\r\n                    For Table: <span>[Connection Name]</span>.<span>["+ASPdatabaseNET.Config.SystemProperties.AppSchema+"]</span>.<span>[Table Name]</span>\r\n                </div>\r\n                <div class='Main'>\r\n                    <div class='Left'></div>\r\n                    <div class='Right'></div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
this.Instantiate();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TablePermissionsMenu jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.prototype.TabClick_UserGroups=function(){this.jF2(".Tab").removeClass("Selected");
this.jF2(".Tab_UserGroups").addClass("Selected");
this.jF2(".MenuBox").hide();
this.jF2(".MenuBox_UG").show();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.prototype.TabClick_ImpliedPermissions=function(){this.jF2(".Tab").removeClass("Selected");
this.jF2(".Tab_ImpliedPermissions").addClass("Selected");
this.jF2(".MenuBox").hide();
this.jF2(".MenuBox_IP").show();
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.GetCssRoot=function(){return"\r\n            .TablePermissionsMenu { }\r\n            .TablePermissionsMenu .Tabs .Tab { float: left; color: #14498f; font-size: .8em; text-align:center; \r\n                                            line-height: 19px; padding-bottom: 3px; cursor: pointer; }\r\n            .TablePermissionsMenu .Tabs .Tab:hover { background: #e0e0e0; }\r\n            .TablePermissionsMenu .Tabs .Tab_UserGroups { width: 68px;\r\n                                                    border-top: 1px solid #e0e0e0; \r\n                                                    border-left: 1px solid #e0e0e0;\r\n                                                    border-bottom: 1px solid #14498f; }\r\n            .TablePermissionsMenu .Tabs .Tab_ImpliedPermissions { width: 144px; \r\n                                                            border-top: 1px solid #e0e0e0; \r\n                                                            border-right: 1px solid #e0e0e0;\r\n                                                            border-bottom: 1px solid #14498f; }\r\n            .TablePermissionsMenu .Tabs .Selected { border: 1px solid #14498f; border-bottom-color: #fff; }\r\n\r\n            .TablePermissionsMenu .MenuBox { border: 1px solid #14498f; border-top-width: 0px; padding: 10px 0px; }\r\n\r\n            .TablePermissionsMenu .MenuBox .Item { line-height: 24px; color: #45494f; font-size: .8em; padding-left: 8px; cursor: pointer; }\r\n            .TablePermissionsMenu .MenuBox .Item:hover { background: #ddd; color: #000; }\r\n            .TablePermissionsMenu .MenuBox .Selected { background: #5a6169; color: #fff; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Tabs'>\r\n                    <div class='Tab Tab_UserGroups Selected' On_Click='TabClick_UserGroups'>User<br />Groups</div>\r\n                    <div class='Tab Tab_ImpliedPermissions' On_Click='TabClick_ImpliedPermissions'>Implied Permissions<br />(by Username)</div>\r\n                </div>\r\n                <div class='clear'></div>\r\n                <div class='MenuBox MenuBox_UG'>\r\n                    <div class='Item'>Group Name 01</div>\r\n                    <div class='Item'>Group Name 02</div>\r\n                    <div class='Item Selected'>Group Name 03</div>\r\n                    <div class='Item'>Group Name 04</div>\r\n                    <div class='Item'>Group Name 05</div>\r\n                    <div class='Item'>Group Name 06</div>\r\n                </div>\r\n                <div class='MenuBox MenuBox_IP hide'>\r\n                    <div class='Item'>Username 01</div>\r\n                    <div class='Item'>Username 02</div>\r\n                    <div class='Item'>Username 03</div>\r\n                    <div class='Item'>Username 04</div>\r\n                    <div class='Item'>Username 05</div>\r\n                    <div class='Item'>Username 06</div>\r\n                    <div class='Item'>Username 07</div>\r\n                    <div class='Item Selected'>Username 08</div>\r\n                    <div class='Item'>Username 09</div>\r\n                    <div class='Item'>Username 10</div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMenu,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI=function(){this.OnSave=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ViewSettingsMainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.BindUI();
var d=1;
var b=1;
var f=this.jF2(".Table3");
for(var c=0;
c<3;
c++){var a=new ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow();
if(c<2){a.IsPK=true;
}a.OrdinalPosition=d++;
a.DisplayOrder=b++;
a.Instantiate();
f.append(a.jRoot);
}var e=new ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow();
e.DisplayOrder=b++;
e.Instantiate();
f.append(e.jRoot);
for(var c=0;
c<6;
c++){var a=new ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow();
a.OrdinalPosition=d++;
a.DisplayOrder=b++;
a.Instantiate();
f.append(a.jRoot);
}e=new ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow();
e.DisplayOrder=b++;
e.Instantiate();
f.append(e.jRoot);
for(var c=0;
c<4;
c++){var a=new ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow();
a.OrdinalPosition=d++;
a.DisplayOrder=b++;
a.Instantiate();
f.append(a.jRoot);
}};
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.prototype.BttnClick_Ok=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.prototype.BttnClick_Cancel=function(){this.Close();
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_ColumnRow.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.EditViewSettings.ViewSettings_SectionRow.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.GetCssRoot=function(){var a="946px";
return"\r\n                .ViewSettingsMainUI { position: relative; }\r\n                .ViewSettingsMainUI .Head { width: "+a+"; color: #173a67; font-size: 1.6em; margin-bottom: 35px; }\r\n                .ViewSettingsMainUI .BttnsBar { position: absolute; top: 0px; width: "+a+"; }\r\n                .ViewSettingsMainUI .BttnsBar .Bttn { float: right; background: #14498f; color: #fff; line-height: 40px; \r\n                                                      padding: 0px 25px; cursor: pointer; margin-left: 5px; }\r\n                .ViewSettingsMainUI .BttnsBar .Bttn:hover { background: #333; }\r\n                .ViewSettingsMainUI .BttnsBar .Inactive { background: #ddd; cursor: default; }\r\n                .ViewSettingsMainUI .BttnsBar .Inactive:hover { background: #ddd; }\r\n\r\n                .ViewSettingsMainUI .Body1 { width: "+a+"; }\r\n                .ViewSettingsMainUI .Body1 .NameBox { float: left; width: 351px; }\r\n                .ViewSettingsMainUI .Body1 .NameBox .NameBoxItem { display: block; }\r\n                .ViewSettingsMainUI .Body1 .NameBox .Label1 { font-size: .7em; margin-bottom: 3px; }\r\n                .ViewSettingsMainUI .Body1 .NameBox input { border: 1px solid #14498f; line-height: 25px; width: 351px; }\r\n\r\n                .ViewSettingsMainUI .Body1 .SubBttnsBox { float: right; width: 402px; margin-top: 16px; }\r\n                .ViewSettingsMainUI .Body1 .SubBttnsBox .Bttn2 { float: right; background: #14498f; color: #fff; line-height: 31px; text-align: center; \r\n                                                                 width: 196px; cursor: pointer; margin-left: 5px; font-size: .75em; }\r\n                .ViewSettingsMainUI .Body1 .SubBttnsBox .Bttn2:hover { background: #333; }\r\n                .ViewSettingsMainUI .Body1 .SubBttnsBox .Bttn2_1st { margin-left: 0px; }\r\n\r\n                .ViewSettingsMainUI .Body1 .Body2 { margin: 30px 0px 0px 20px; }\r\n\r\n                .ViewSettingsMainUI .Body1 .Body2 .Table1 { width: 100%; margin-bottom: 25px; }\r\n                .ViewSettingsMainUI .Body1 .Body2 .Table1 .td1 { line-height: 31px; width: 180px; text-align: center; cursor: pointer; \r\n                                                                 background: #14498f; color: #fff; font-size: .85em; }\r\n                .ViewSettingsMainUI .Body1 .Body2 .Table1 .td1:hover { background: #333; }\r\n                .ViewSettingsMainUI .Body1 .Body2 .Table1 .td2 { line-height: 29px; font-size: .75em; background: #eee; \r\n                                                                 padding: 0px 0px 0px 12px;\r\n                                                                 border: 1px dashed #bbb; border-left-width: 0px; }\r\n\r\n                .ViewSettingsMainUI .Table3 { width: 100%; font-size: .8em; }\r\n                .ViewSettingsMainUI .Table3 th { border-bottom: 2px solid #12325d; color: #6d6d6d; font-weight: bold; \r\n                                                 vertical-align: middle; text-align: center; padding-bottom: 2px; }\r\n                .ViewSettingsMainUI .Table3 .th1 { width: 95px; font-size: .8em; }\r\n                .ViewSettingsMainUI .Table3 .th2 { width: 35px; }\r\n                .ViewSettingsMainUI .Table3 .th3 { width: 60px; font-size: .8em; }\r\n                .ViewSettingsMainUI .Table3 .th4 { }\r\n                .ViewSettingsMainUI .Table3 .th5 { width: 50px; }\r\n                .ViewSettingsMainUI .Table3 .th6 { width: 40px; }\r\n                .ViewSettingsMainUI .Table3 .th7 { width: 100px; }\r\n                .ViewSettingsMainUI .Table3 .th8 { width: 140px; }\r\n                .ViewSettingsMainUI .Table3 .th9 { width: 140px; font-size: .8em; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='BttnsBar'>\r\n                    <div class='Bttn' On_Click='BttnClick_Cancel'>Cancel</div>\r\n                    <div class='Bttn' On_Click='BttnClick_Ok'>Ok</div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n                <div class='Head'>Edit View Settings</div>\r\n                <div class='Body1'>\r\n                    <div class='NameBox'>\r\n                        <div class='Label1 NameBoxItem'>App View Name</div>\r\n                        <input class='NameBoxItem Txt_NameBox' type='text' />\r\n                    </div>\r\n                    <div class='SubBttnsBox'>\r\n                        <div class='Bttn2'>See All Implied Permissions</div>\r\n                        <div class='Bttn2 Bttn2_1st'>Global Permissions</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='clear'></div>\r\n\r\n                    <div class='Body2'>\r\n                        <table class='Table1'>\r\n                            <tr>\r\n                                <td class='td1'>+ Column Section</td>\r\n                                <td class='td2'>\r\n                                    Use these sections to group & organize columns.&nbsp; \r\n                                    Permissions can be applied separately to each column section.\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                        <table class='Table3'>\r\n                            <tr>\r\n                                <th class='th1'>Display<br />Order</th>\r\n                                <th class='th2'></th>\r\n                                <th class='th3'>Ordinal<br />Position</th>\r\n                                <th class='th4'>Column Name</th>\r\n                                <th class='th5'></th>\r\n                                <th class='th6'>Hide</th>\r\n                                <th class='th7'>Sort<br /></th>\r\n                                <th class='th8'>Filter</th>\r\n                                <th class='th9'>Display<br />Settings</th>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI,ASPdb.FrameworkUI.MRBPattern);
function ASPdatabaseNET_Start(ready){eval(" $(document).ready(function(){ ASPdatabaseNET_Start__DocumentIsReady(); }); ");
}function ASPdatabaseNET_Start__DocumentIsReady(){$("body").append("<style>"+ASPdatabaseNET.UI.PagesFramework.BasePage.GetCssTree()+"</style>");
var a=new ASPdatabaseNET.UI.PagesFramework.BasePage();
a.Instantiate();
$("body").append(a.jRoot);
a.Open();
}function ASPdatabaseNET_LoginPage(ready){eval(" $(document).ready(function(){ ASPdatabaseNET_LoginPage__DocumentIsReady(); }); ");
}function ASPdatabaseNET_LoginPage__DocumentIsReady(){$("body").append("<style>"+ASPdatabaseNET.UI.PagesFramework.BasePage.GetCssTree()+"</style>");
var a=new ASPdatabaseNET.UI.PageParts.Login.LoginMainUI();
a.Instantiate();
$("body").append(a.jRoot);
a.Open();
}function ASPdatabaseNET_InstallPage(ready){eval(" $(document).ready(function(){ ASPdatabaseNET_InstallPage__DocumentIsReady(); }); ");
}function ASPdatabaseNET_InstallPage__DocumentIsReady(){$("body").append("<style>"+ASPdatabaseNET.UI.PagesFramework.BasePage.GetCssTree()+"</style>");
var a=new ASPdatabaseNET.UI.PageParts.Install.InstallMainUI();
a.Instantiate();
$("body").append(a.jRoot);
a.Open();
}if(typeof(ASPdatabaseNET.UI.PagesFramework)=="undefined"){ASPdatabaseNET.UI.PagesFramework={};
}ASPdatabaseNET.UI.PagesFramework.BasePage=function(){this.SubPage=null;
this.IgnoreNext_HashChange=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.AttachThisToDocument();
this.DoPing();
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.DoPing=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"DoPing_Return").PingServerTime();
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.DoPing_Return=function(){var thisObj=this;
eval("setTimeout(function(){ thisObj.DoPing(); }, 90000);");
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.AttachThisToDocument=function(){var thisObj=this;
eval("document.ASPdatabaseNET_BasePage = thisObj;");
};
ASPdatabaseNET.UI.PagesFramework.BasePage.GetFromDocument=function(){var rtn=null;
try{eval("rtn = document.ASPdatabaseNET_BasePage;");
}catch($$e14){rtn=null;
}return rtn;
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='BasePage jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.ConnectEvents_Sub=function(){var thisObj=this;
eval("$(window).on('hashchange', function() { thisObj.OnWindow_HashChange(); });");
eval("$(window).resize(function() { thisObj.WindowResized_InstancePassThru(); });");
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
if(window.location.hash==""){window.location.hash="#00-Home";
}ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().Launch();
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.LaunchPage=function(a){this.SubPage=a.CreateAndGetPageObj();
this.jRoot.find(".PageContent").html("");
this.jRoot.find(".PageContent").append(this.SubPage.Get_jRoot());
this.SubPage.Open();
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.OnWindow_HashChange=function(){if(this.IgnoreNext_HashChange){this.IgnoreNext_HashChange=false;
return;
}document.title="ASPdatabase.NET";
var a=ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash();
if(this.SubPage.get_PageId().PageType==a.PageType){this.SubPage.set_PageId(a);
}else{a.Launch();
}};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.WindowResized_InstancePassThru=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized=function(){var g=$(window).height();
var h=$(window).width();
var a=$(".AutoResize");
for(var d=0;
d<a.length;
d++){var e=$(a[d]);
var c=g-e.offset().top-ASPdatabaseNET.UI.PagesFramework.BasePage.Get_AutoResize_BottomSpace(e);
e.height(c);
}var b=$(".AutoResizeXY");
for(var d=0;
d<b.length;
d++){var e=$(b[d]);
var c=g-e.offset().top-ASPdatabaseNET.UI.PagesFramework.BasePage.Get_AutoResize_BottomSpace(e);
var f=h-e.offset().left-ASPdatabaseNET.UI.PagesFramework.BasePage.Get_AutoResize_RightSpace(e);
e.height(c);
e.width(f);
}};
ASPdatabaseNET.UI.PagesFramework.BasePage.Get_AutoResize_BottomSpace=function(b){var c=0;
try{c=b.attr("AutoResize_BottomSpace");
if(c==null||(1*c)<1){c=0;
}}catch(a){c=0;
}return c;
};
ASPdatabaseNET.UI.PagesFramework.BasePage.Get_AutoResize_RightSpace=function(b){var c=0;
try{c=b.attr("AutoResize_RightSpace");
if(c==null||(1*c)<1){c=0;
}}catch(a){c=0;
}return c;
};
ASPdatabaseNET.UI.PagesFramework.BasePage.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PagesFramework.BasePage.GetCssRoot();
a+=ASPdatabaseNET.UI.PageParts.Login.LoginMainUI.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Install.InstallMainUI.GetCssTree();
a+=ASPdatabaseNET.UI.GlobalParts.TopBar.GetCssTree();
a+=ASPdatabaseNET.UI.GlobalParts.LeftNav.GetCssTree();
a+=ASPdatabaseNET.UI.Pages.EverythingPage.GetCssTree();
a+=ASPdatabaseNET.UI.Pages.OtherSamplePage.GetCssTree();
return a;
};
ASPdatabaseNET.UI.PagesFramework.BasePage.GetCssRoot=function(){return"\r\n            .AutoResize { overflow-x: hidden; overflow-y: auto; }\r\n            .AutoResizeXY { overflow: auto; }\r\n\r\n            .BasePage {  }\r\n\r\n\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed, \r\nfigure, figcaption, footer, header, hgroup, \r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video, input {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: 0;\r\n\tfont-size: 100%;\r\n\tfont-family: Verdana, Geneva, sans-serif;\r\n\tvertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure, \r\nfooter, header, hgroup, menu, nav, section { display: block; }\r\nol, ul { list-style: none; }\r\nblockquote, q { quotes: none; }\r\nblockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; }\r\ntable { border-collapse: collapse; border-spacing: 0; }\r\ntd { vertical-align: top; }\r\n.clear{ clear: both; }\r\n.hide { display: none; }\r\nbody { background: #ffffff; color: #222222; overflow: hidden; cursor: default; }\r\na { text-decoration: none; }\r\ninput[type=button] { padding: 5px 10px; }\r\ninput[type=text] { padding: 2px; }\r\ninput[type=button] {\r\n  -webkit-appearance: none;\r\n  -webkit-border-radius: 0;\r\n}\r\nASPdatabaseNET { display: none; }\r\n.Table100 { width: 100%; }\r\n.NoSelect { \r\n-webkit-touch-callout: none;\r\n-webkit-user-select: none;\r\n-khtml-user-select: none;\r\n-moz-user-select: none;\r\n-ms-user-select: none;\r\nuser-select: none; }\r\n.YesSelect { \r\n-webkit-touch-callout: initial;\r\n-webkit-user-select: initial;\r\n-khtml-user-select: initial;\r\n-moz-user-select: initial;\r\n-ms-user-select: initial;\r\nuser-select: initial; }\r\n            ";
};
ASPdatabaseNET.UI.PagesFramework.BasePage.prototype.GetHtmlRoot=function(){return"\r\n            <div class='PageContent'>\r\n            </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PagesFramework.BasePage,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PagesFramework.PageIdentifier=function(a){this.PageType=0;
this.PageParam1="";
this.PageParam2="";
this.PageParam3="";
this.PageParam4="";
this.PageParam5="";
this.PageType=a;
};
ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash=function(){var rtn=new ASPdatabaseNET.UI.PagesFramework.PageIdentifier(0);
var arr=window.location.hash.replace("#","").split("-");
if(arr.length>0){if(arr[0].toLowerCase()=="manageassets"){window.location.href="#00-ManageAssets";
}}var pageTypeInt=ASPdb.FrameworkUI.IntStatic.Parse(arr[0],0);
var allEnumInts=ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetAllPageTypesInts();
var pageTypeIsValid=false;
for(var i=0;
i<allEnumInts.length;
i++){if(allEnumInts[i]==pageTypeInt){pageTypeIsValid=true;
}}rtn.PageType=0;
if(pageTypeIsValid){var tmpPageType=0;
eval("tmpPageType = pageTypeInt;");
rtn.PageType=tmpPageType;
}else{window.location.hash="";
}if(arr.length>1){rtn.PageParam1=arr[1];
}if(arr.length>2){rtn.PageParam2=arr[2];
}if(arr.length>3){rtn.PageParam3=arr[3];
}if(arr.length>4){rtn.PageParam4=arr[4];
}if(arr.length>5){rtn.PageParam5=arr[5];
}return rtn;
};
ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetAllPageTypesInts=function(){var a=0;
var b=[];
b[a++]=0;
b[a++]=20;
return b;
};
ASPdatabaseNET.UI.PagesFramework.PageIdentifier.prototype.ToHash=function(){var c="";
var d=this.PageType;
if((""+d).length<2){c+="#0"+d;
}else{c+="#"+d;
}var a=false;
var b=5;
if(!a){if((""+this.PageParam5).length>0){a=true;
}else{b=4;
}}if(!a){if((""+this.PageParam4).length>0){a=true;
}else{b=3;
}}if(!a){if((""+this.PageParam3).length>0){a=true;
}else{b=2;
}}if(!a){if((""+this.PageParam2).length>0){a=true;
}else{b=1;
}}if(!a){if((""+this.PageParam1).length>0){a=true;
}else{b=0;
}}if((""+this.PageParam1).length<1){this.PageParam1="00";
}if((""+this.PageParam2).length<1){this.PageParam2="00";
}if((""+this.PageParam3).length<1){this.PageParam3="00";
}if((""+this.PageParam4).length<1){this.PageParam4="00";
}if((""+this.PageParam5).length<1){this.PageParam5="00";
}if(b>=1){c+="-"+this.PageParam1;
}if(b>=2){c+="-"+this.PageParam2;
}if(b>=3){c+="-"+this.PageParam3;
}if(b>=4){c+="-"+this.PageParam4;
}if(b>=5){c+="-"+this.PageParam5;
}return c;
};
ASPdatabaseNET.UI.PagesFramework.PageIdentifier.prototype.CreateAndGetPageObj=function(){var a=null;
switch(this.PageType){case 0:a=new ASPdatabaseNET.UI.Pages.EverythingPage();
break;
case 20:a=new ASPdatabaseNET.UI.Pages.OtherSamplePage();
break;
}if(a!=null){a.set_PageId(this);
a.Instantiate();
}return a;
};
ASPdatabaseNET.UI.PagesFramework.PageIdentifier.prototype.Launch=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.GetFromDocument().LaunchPage(this);
};
if(typeof(ASPdatabaseNET.UI.Pages)=="undefined"){ASPdatabaseNET.UI.Pages={};
}ASPdatabaseNET.UI.Pages.OtherSamplePage=function(){this._pageId=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.Get_jRoot=function(){return this.jRoot;
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.Get_HeaderColor=function(){return"";
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.get_PageId=function(){return this._pageId;
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.set_PageId=function(a){this._pageId=a;
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='OtherSamplePage jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.ConnectEvents_Sub=function(){};
ASPdatabaseNET.UI.Pages.OtherSamplePage.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.Pages.OtherSamplePage.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.GetCssRoot=function(){return"\r\n                .OtherSamplePage { }\r\n            ";
};
ASPdatabaseNET.UI.Pages.OtherSamplePage.prototype.GetHtmlRoot=function(){return"\r\n                OtherSamplePage\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.Pages.OtherSamplePage,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.Pages.EverythingPage=function(){this.TopBar=null;
this.LeftNav=null;
this.CurrentSubUI=null;
this.TableGridMain=null;
this.HomePageMainUI=null;
this.MyAccountMainUI=null;
this.ConnectionsMainUI=null;
this.ConnectionPropertiesMainUI=null;
this.ManageAssetsMainUI=null;
this.TableDesignMainUI=null;
this.TablePermissionsMainUI=null;
this.UsersMainUI=null;
this.SubscriptionMainUI=null;
this.OtherSettingsMainUI=null;
this.SendFeedbackMainUI=null;
this.AboutMainUI=null;
this.RecordMainUI=null;
this._pageId=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
var thisObj=this;
eval("document.The_EverythingPage = thisObj;");
};
ASPdatabaseNET.UI.Pages.EverythingPage.Get_The_EverythingPage=function(){var rtn=null;
try{eval("rtn = document.The_EverythingPage;");
}catch($$e17){}return rtn;
};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.Get_jRoot=function(){return this.jRoot;
};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.Get_HeaderColor=function(){return"";
};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.get_PageId=function(){return this._pageId;
};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.set_PageId=function(g){this._pageId=g;
var b=ASPdb.FrameworkUI.JsStr.S(this.get_PageId().PageParam1).ToLower().Trim().String;
var c=ASPdb.FrameworkUI.JsStr.S(this.get_PageId().PageParam2).ToLower().Trim().String;
var d=this.CurrentSubUI;
var e=null;
if(b=="table"||b=="view"){if(this.TableGridMain!=null){if(d!=null){d.Close();
}this.TableGridMain.set_ViewModel(new ASPdatabaseNET.UI.TableGrid.Objs.GridViewModel());
switch(b){case"table":this.TableGridMain.get_ViewModel().TableType=1;
break;
case"view":this.TableGridMain.get_ViewModel().TableType=2;
break;
default:this.TableGridMain.get_ViewModel().TableType=0;
break;
}this.TableGridMain.get_ViewModel().Id=-1;
try{var f=1*this.get_PageId().PageParam2;
this.TableGridMain.get_ViewModel().Id=f;
}catch(a){}this.TableGridMain.Instantiate();
this.jF2(".TableGridMain_Holder").html("");
this.jF2(".TableGridMain_Holder").append(this.TableGridMain.jRoot);
this.CurrentSubUI=this.TableGridMain;
}}else{switch(b){case"home":e=this.HomePageMainUI;
break;
case"myaccount":e=this.MyAccountMainUI;
break;
case"connections":e=this.ConnectionsMainUI;
break;
case"connectionproperties":e=this.ConnectionPropertiesMainUI;
break;
case"manageassets":e=this.ManageAssetsMainUI;
break;
case"tabledesign":e=this.TableDesignMainUI;
break;
case"tablepermissions":e=this.TablePermissionsMainUI;
break;
case"users":e=this.UsersMainUI;
break;
case"subscription":e=this.SubscriptionMainUI;
break;
case"othersettings":e=this.OtherSettingsMainUI;
break;
case"sendfeedback":e=this.SendFeedbackMainUI;
break;
case"about":e=this.AboutMainUI;
break;
case"record":e=this.RecordMainUI;
break;
}if(e!=null){if(d!=null&&d!=e){d.Close();
}if(!e.Get_IsInstantiated()){e.Instantiate();
this.jF2(".TD_MainBox").append(e.Get_jRoot());
}e.Open();
this.CurrentSubUI=e;
}}};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='StartPage jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.TopBar=new ASPdatabaseNET.UI.GlobalParts.TopBar();
this.jF2(".TopBarHolder").append(this.TopBar.jRoot);
this.LeftNav=new ASPdatabaseNET.UI.GlobalParts.LeftNav();
this.jF2(".TD_LeftNav").append(this.LeftNav.jRoot);
this.TableGridMain=new ASPdatabaseNET.UI.TableGrid.TableGridMain();
this.HomePageMainUI=new ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI();
this.MyAccountMainUI=new ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI();
this.ConnectionsMainUI=new ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI();
this.ConnectionPropertiesMainUI=new ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI();
this.ManageAssetsMainUI=new ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI();
this.TableDesignMainUI=new ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI();
this.TablePermissionsMainUI=new ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI();
this.UsersMainUI=new ASPdatabaseNET.UI.PageParts.Users.UsersMainUI();
this.SubscriptionMainUI=new ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI();
this.OtherSettingsMainUI=new ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI();
this.SendFeedbackMainUI=new ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI();
this.AboutMainUI=new ASPdatabaseNET.UI.PageParts.About.AboutMainUI();
this.RecordMainUI=new ASPdatabaseNET.UI.PageParts.Record.RecordMainUI();
this.set_PageId(this.get_PageId());
};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.ConnectEvents_Sub=function(){};
ASPdatabaseNET.UI.Pages.EverythingPage.GetCssTree=function(){var a=""+ASPdatabaseNET.UI.Pages.EverythingPage.GetCssRoot()+ASPdatabaseNET.UI.TableGrid.TableGridMain.GetCssTree()+ASPdatabaseNET.UI.PageParts.HomePage.HomePageMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.ConnectionProperties.ConnectionPropertiesMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.TableDesign.TableDesignMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.TablePermissions.TablePermissionsMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.SendFeedback.SendFeedbackMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.About.AboutMainUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Record.RecordMainUI.GetCssTree();
return a;
};
ASPdatabaseNET.UI.Pages.EverythingPage.GetCssRoot=function(){return"\r\n                .StartPage { font-size: 16px; }\r\n                .StartPage .TopBarHolder { }\r\n                .StartPage .Table_StartPage { width: 100%; }\r\n                .StartPage .Table_StartPage .TD_LeftNav { width: 15em; min-width: 15em; background: #e4e4e4; }\r\n                .StartPage .Table_StartPage .TD_MainBox { width: 100%; }\r\n\r\n\r\n                .StartPage .Table_StartPage .TD_MainBox .MainUI { padding: 2em 1.75em 0em 2.625em; }\r\n                .StartPage .Table_StartPage .TD_MainBox .MainUI .Head { width: 29.6875em; color: #173a67; font-size: 1.6em; }\r\n                .StartPage .Table_StartPage .TD_MainBox .MainUI .Main { width: 47.5em; padding-top: 1.125em; }\r\n\r\n                @media (max-width: 1050px) { .StartPage { font-size: .95em; } }\r\n                @media (max-width: 1000px) { .StartPage { font-size: .9em;  } }\r\n                @media (max-width: 950px)  { .StartPage { font-size: .85em; } }\r\n                @media (max-width: 900px)  { .StartPage { font-size: .8em;  } }\r\n                @media (max-width: 850px)  { .StartPage { font-size: .75em; } }\r\n                @media (max-width: 800px)  { .StartPage { font-size: .7em;  } }\r\n            ";
};
ASPdatabaseNET.UI.Pages.EverythingPage.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TopBarHolder'></div>\r\n                <table class='Table_StartPage'>\r\n                    <tr>\r\n                        <td class='TD_LeftNav'></td>\r\n                        <td class='TD_MainBox'>\r\n                            <div class='TableGridMain_Holder'></div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.Pages.EverythingPage,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.About.AboutMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='AboutMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
var a=this.jF(".OtherToolsDiv");
a.append(this.GetNotice_SharpKit());
a.append(this.GetNotice_jQuery());
a.append(this.GetNotice_jQueryJSON());
a.append(this.GetNotice_CryptoJS());
a.append(this.GetNotice_bcrypt());
a.append(this.GetNotice_bouncycastle());
a.append(this.GetNotice_EPPlus());
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.Open_Sub=function(){ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Return").AboutPage_GetInfo();
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.BindUI();
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.About.AboutMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.GetCssRoot=function(){return"\r\n                .AboutMainUI { }\r\n                .AboutMainUI a { color: blue; padding: 0px 2px; }\r\n                .AboutMainUI a:hover { background: #14498f; color: #fff; }\r\n                .AboutMainUI .OtherToolsDiv { overflow-y:scroll; max-height: 10em; background: #f3f3f3; padding: .5em; }\r\n                .AboutMainUI .OtherToolsDiv .Div1 { margin: .5em 0em .5em 1.4em; border-top: 1px solid #ccc; padding-top: .3em; }\r\n                .AboutMainUI .OtherToolsDiv .Div1 .A1 { display:block; width: 16em; padding: .1em .5em; margin-bottom: .2em; }\r\n                .AboutMainUI .OtherToolsDiv .Div1 div { padding: 0.125em 0.625em; font-size:.7em; }\r\n                .AboutMainUI .Holder_SubscriptionAgreement {  }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetHtmlRoot=function(){return"\r\n            <div class='Head'>About ASPdatabase.NET</div>\r\n            <div class='Main AutoResize' AutoResize_BottomSpace='21'>\r\n\r\n                <br />\r\n                <a href='http://www.aspdatabase.net/' target='_new'>www.ASPdatabase.NET</a>\r\n                <br />\r\n                <br />\r\n                Version: <span ModelKey='Version'></span>\r\n                <br />\r\n                Version Date: <span ModelKey='VersionDate'></span>\r\n                <br />\r\n                <br />\r\n                Created by <a href='https://twitter.com/mdtanner' target='_new'>Michael Tanner</a>\r\n                <br />\r\n                <br />\r\n                <div class='CopyrightLine' ModelKey='CopyrightLine'></div>\r\n                <br />\r\n\r\n                <div class='OtherToolsDiv'>\r\n                    3rd Party Tools<br />\r\n                </div>\r\n\r\n                <br />\r\n                <br />\r\n                <a href='ASPdatabase.NET.aspx?SubscriptionAgreement' target='_new'>Open Subscription Agreement <i>(In new tab/window)</i></a>\r\n                <br />\r\n                <br />\r\n                <div class='SubscriptionAgreement' ModelKey='SubscriptionAgreement'></div>\r\n                <br />\r\n                <br />\r\n                <br />\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_SharpKit=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='https://github.com/SharpKit/SharpKit' target='_blank'>SharpKit</a>\r\n                <div>\r\n                    SharpKit is licensed under GPL. It has all features and has no restrictions. \r\n                    <br />\r\n                    For commercial licenses please refer to <a href='http://sharpkit.net' target='_blank'>http://sharpkit.net</a>\r\n                </div>\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_jQuery=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='http://jquery.com/' target='_blank'>jQuery & jQuery UI</a>\r\n                <div>\r\n                    Copyright (C) 2006-2014 jQuery Foundation\r\n                    <br /><br />\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n                    <br /><br />\r\n                    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n                    <br /><br />\r\n                    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n                </div>\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_jQueryJSON=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='https://github.com/Krinkle/jquery-json' target='_blank'>jQuery JSON</a>\r\n                <div>\r\n                    Copyright 2009-2011 Brantley Harris<br />\r\n                    Copyright 2010â2014 Timo Tijhof<br />\r\n                    <br /><br />\r\n                    Permission is hereby granted, free of charge, to any person obtaining\r\n                    a copy of this software and associated documentation files (the\r\n                    \"Software\"), to deal in the Software without restriction, including\r\n                    without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to\r\n                    permit persons to whom the Software is furnished to do so, subject to\r\n                    the following conditions:\r\n                    <br /><br />\r\n                    The above copyright notice and this permission notice shall be\r\n                    included in all copies or substantial portions of the Software.\r\n                    <br /><br />\r\n                    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n                    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n                    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n                    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n                    LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n                    OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n                    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n                </div>\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_CryptoJS=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='https://code.google.com/p/crypto-js/' target='_blank'>CryptoJS</a>\r\n                <div>\r\n                    (c) 2009-2013 by Jeff Mott. All rights reserved.\r\n                    <br /><br />\r\n                    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n                    <br /><br />\r\n                    Redistributions of source code must retain the above copyright notice, this list of conditions, and the following disclaimer.\r\n                    <br /><br />\r\n                    Redistributions in binary form must reproduce the above copyright notice, this list of conditions, and the following disclaimer in the documentation or other materials provided with the distribution.\r\n                    <br /><br />\r\n                    Neither the name CryptoJS nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\n                    <br /><br />\r\n                    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS,\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<br />\r\n                </div>\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_bcrypt=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='http://bcrypt.codeplex.com/' target='_blank'>BCrypt.Net</a>\r\n                <div>\r\n                    Copyright (c) 2006, 2010, Damien Miller <djm@mindrot.org>, Ryan Emerle\r\n                    All rights reserved.\r\n                    <br /><br />\r\n                    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n                    <br /><br />\r\n                    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\r\n                    <br /><br />\r\n                    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\r\n                    <br /><br />\r\n                    * Neither the name of BCrypt.Net nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\n                    <br /><br />\r\n                    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n                </div>\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_bouncycastle=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='http://www.bouncycastle.org/csharp/' target='_blank'>Bouncy Castle C# API</a>\r\n                <div>\r\n                    Copyright (c) 2000 - 2011 The Legion of the Bouncy Castle Inc. (<a href='http://www.bouncycastle.org' target='_blank'>http://www.bouncycastle.org</a>)\r\n                    <br /><br />\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n                    <br /><br />\r\n                    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n                    <br /><br />\r\n                    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n                </div>\r\n            </div>\r\n            ";
};
ASPdatabaseNET.UI.PageParts.About.AboutMainUI.prototype.GetNotice_EPPlus=function(){return"\r\n            <div class='Div1'>\r\n                <a class='A1' href='http://epplus.codeplex.com/' target='_blank'>EPPlus</a>\r\n                <div>\r\n                    GNU Library General Public License (LGPL)\r\n                    <br />\r\n                    Version 2.1, February 1999\r\n                    <br />\r\n                    <br />\r\n                    Copyright (C) 1991, 1999 Free Software Foundation, Inc. 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.\r\n                    <br />\r\n                    <br />\r\n                    [This is the first released version of the Lesser GPL. It also counts as the successor of the GNU Library Public License, version 2, hence the version number 2.1.]\r\n                    <br />\r\n                    <br />\r\n                    <a href='http://epplus.codeplex.com/license' target='_blank'>http://epplus.codeplex.com/license</a>\r\n                </div>\r\n            </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.About.AboutMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.Connections)=="undefined"){ASPdatabaseNET.UI.PageParts.Connections={};
}ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ConnectionsMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.prototype.Open_Sub=function(){this.jF2(".ActiveItemsDiv").html("");
this.jF2(".HiddenItemsDiv").html("");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetList_AjaxReturn").DatabaseConnections__GetList();
this.jF2(".FrontLevelPage").show();
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.prototype.GetList_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}var b=a.ReturnObj;
this.jF2(".Span_ActiveConnections_Count").html("("+b.ActiveConnections.length+")");
this.jF2(".Span_HiddenConnections_Count").html("("+b.HiddenConnections.length+")");
this.jF2(".SectionDiv_NoConnections").show();
this.jF2(".SectionDiv_Active").hide();
if(b.ActiveConnections.length>0){var c=this.jF2(".ActiveItemsDiv");
for(var f=0;
f<b.ActiveConnections.length;
f++){var g=b.ActiveConnections[f];
var h="TmpId_"+g.ConnectionId;
var e=ASPdb.FrameworkUI.JsStr.StrFormat3("\r\n                            <div class='ConnectionItem'>\r\n                                <div class='NameLabel'>{0}</div>\r\n                                <div class='BttnsHolder'>\r\n                                    <a class='Bttn_ModifyConnection {1}' href='#00-ConnectionProperties-{2}'>Edit Connection</a>\r\n                                    <a class='Bttn_ManageAssets' href='#00-ManageAssets-{2}'>Manage Assets</a>\r\n                                </div>\r\n                                <div class='clear'></div>\r\n                            </div>",g.ConnectionName,h,g.ConnectionId);
c.append(e);
}this.jF2(".SectionDiv_NoConnections").hide();
this.jF2(".SectionDiv_Active").show();
}this.jF2(".SectionDiv_Hidden").hide();
if(b.HiddenConnections.length>0){var d=this.jF2(".HiddenItemsDiv");
for(var f=0;
f<b.HiddenConnections.length;
f++){var g=b.HiddenConnections[f];
var h="TmpId_"+g.ConnectionId;
var e=ASPdb.FrameworkUI.JsStr.StrFormat3("\r\n                            <div class='ConnectionItem'>\r\n                                <div class='NameLabel'>{0}</div>\r\n                                <div class='BttnsHolder'>\r\n                                    <a class='Bttn_ModifyConnection {1}' href='#00-ConnectionProperties-{2}'>Edit Connection</a>\r\n                                </div>\r\n                                <div class='clear'></div>\r\n                            </div>",g.ConnectionName,h,g.ConnectionId);
d.append(e);
}this.jF2(".SectionDiv_NoConnections").hide();
this.jF2(".SectionDiv_Hidden").show();
}};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.prototype.BttnAdd_Click=function(){};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.prototype.OnClose_ConnectionPropertiesUI=function(){this.Open();
};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.GetCssRoot=function(){return"\r\n                .ConnectionsMainUI { }\r\n                .ConnectionsMainUI .FrontLevelPage { display:block; }\r\n                .ConnectionsMainUI .Head { position:relative; }\r\n                .ConnectionsMainUI .Head .BttnAdd { position:absolute; display:block; top: 2px; right: 0px; width: auto; font-size: .65em; cursor: pointer;\r\n                                                    background: #14498f; color: #fff; line-height:2.375em; padding: 0px 1.5em; border-radius: 0em; }\r\n                .ConnectionsMainUI .Head .BttnAdd:hover { background: #222; }\r\n\r\n                .ConnectionsMainUI .Main { }\r\n                .ConnectionsMainUI .Main .LicenseInfo { display:block; border: 1px solid #afafaf; background: #e8e8e8; color: #6a6e73; \r\n                                                        padding: .25em 1em .25em 1em; line-height: 1.3em; font-size: .8em; }\r\n                .ConnectionsMainUI .Main .FeedbackInfo { display:block; border: 1px solid #d3d3d3; background: #f9f9f9; color: #6a6e73; \r\n                                                         padding: .25em 1em .25em 1em; line-height: 1.3em; font-size: .8em; \r\n                                                         border-top-width: 0px; }\r\n                .ConnectionsMainUI .Main .LicenseInfo:hover { background: #6a6e73; border-color: #6a6e73; color: #fff; }\r\n                .ConnectionsMainUI .Main .FeedbackInfo:hover { background: #6a6e73; border-color: #6a6e73; color: #fff; }\r\n\r\n                .ConnectionsMainUI .Main .SubHead { background: #5b6776; color: #fff; line-height: 1.75em; padding-left: 1.25em;\r\n                                                    margin: 2.5em 0em 1.25em; }\r\n                .ConnectionsMainUI .Main .SubHead span { }\r\n                .ConnectionsMainUI .Main .ItemsListHolder { margin-left: 3.125em; border-top: 1px solid #d3d3d3; }\r\n\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem { position:relative; line-height: 2.375em; border-bottom: 1px solid #d3d3d3; background: #e8e8e8; }\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem .NameLabel { padding-left: 1.5em; white-space:nowrap; }\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem .BttnsHolder { position:absolute; top: 0px; right: 0px; }\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem .BttnsHolder a { float:right; cursor:pointer; color: #00f; background: #e8e8e8; font-size: .8em; padding: 0em 2em; }\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem .BttnsHolder a:hover { background: #585858; color: #fff; }\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem .BttnsHolder .Bttn_ModifyConnection { }\r\n                .ConnectionsMainUI .Main .ItemsListHolder .ConnectionItem .BttnsHolder .Bttn_ManageAssets { }\r\n\r\n                .ConnectionsMainUI .SectionDiv_Active { display:none; }\r\n                .ConnectionsMainUI .SectionDiv_Hidden { display:none; }\r\n                .ConnectionsMainUI .SectionDiv_NoConnections { display:none; margin: 1.5em 0em 0em 1em; line-height: 1.8125em; }\r\n                .ConnectionsMainUI .SectionDiv_NoConnections span { background: #eee; }\r\n                \r\n            ";
};
ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='FrontLevelPage'>\r\n                    <div class='Head'>\r\n                        Database Connections\r\n                        <a class='BttnAdd' href='#00-ConnectionProperties-New'>+ Add Connection</a>\r\n                    </div>\r\n                    <div class='Main'>\r\n                        <a href='#00-Subscription' class='LicenseInfo'>\r\n                            Free accounts are allowed 1 connection. Paid accounts can have unlimited connections.<br /> \r\n                            Check your subscription settings (click here).\r\n                        </a>\r\n                        <div class='hide'>\r\n                        <a href='#00-SendFeedback' class='FeedbackInfo'>\r\n                            Supported database connections include: Microsoft SQL Server, SQL Server Azure.<br />\r\n                            Click Here to provide feedback on what other database types you would like to see in future versions.\r\n                        </a>\r\n                        </div>\r\n                        \r\n                        <div class='AutoResize'>\r\n                            <div class='SubHead SectionDiv_Active'>\r\n                                Active Connections\r\n                                <span class='Span_ActiveConnections_Count'>(0)</span>\r\n                            </div>\r\n                            <div class='ItemsListHolder ActiveItemsDiv SectionDiv_Active'>\r\n                            </div>\r\n\r\n                            <div class='SubHead SectionDiv_Hidden'>\r\n                                Hidden Connections\r\n                                <span class='Span_HiddenConnections_Count'>(0)</span>\r\n                            </div>\r\n                            <div class='ItemsListHolder HiddenItemsDiv SectionDiv_Hidden'>\r\n                            </div>\r\n\r\n                            <div class='SectionDiv_NoConnections'>\r\n                                There are currently 0 database connections.<br />\r\n                                Click the <span>[+ Add Connection]</span> button above to create a new database connections.\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Connections.ConnectionsMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI=function(){this.ConnectionId=-1;
this.TablesPanel_Active=null;
this.TablesPanel_Hidden=null;
this.SQLViewsPanel_Active=null;
this.SQLViewsPanel_Hidden=null;
this.SchemasPanel=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ManageAssetsMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.TablesPanel_Active=new ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel(false);
this.jF2(".MainBody").append(this.TablesPanel_Active.jRoot);
this.TablesPanel_Hidden=new ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel(true);
this.jF2(".MainBody").append(this.TablesPanel_Hidden.jRoot);
this.SQLViewsPanel_Active=new ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel(false);
this.jF2(".MainBody").append(this.SQLViewsPanel_Active.jRoot);
this.SQLViewsPanel_Hidden=new ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel(true);
this.jF2(".MainBody").append(this.SQLViewsPanel_Hidden.jRoot);
this.SchemasPanel=new ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel();
this.jF2(".MainBody").append(this.SchemasPanel.jRoot);
this.TablesPanel_Active.OnChange.After.AddHandler(this,"Refresh",0);
this.TablesPanel_Hidden.OnChange.After.AddHandler(this,"Refresh",0);
this.SQLViewsPanel_Active.OnChange.After.AddHandler(this,"Refresh",0);
this.SQLViewsPanel_Hidden.OnChange.After.AddHandler(this,"Refresh",0);
this.SchemasPanel.OnChange.After.AddHandler(this,"Refresh",0);
this.BindUI();
this.MenuBttnClick_Tables_Active();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.Open_Sub=function(){this.jF2(".FrontLevelPage").show();
this.Populate_ConnectionId();
this.jF2(".Bttn_ManageConnection").attr("href","#00-ConnectionProperties-"+this.Get_StringBased_ConnectionId()+"-MA");
this.TablesPanel_Active.set_ViewModel(this.ConnectionId);
this.TablesPanel_Hidden.set_ViewModel(this.ConnectionId);
this.SQLViewsPanel_Active.set_ViewModel(this.ConnectionId);
this.SQLViewsPanel_Hidden.set_ViewModel(this.ConnectionId);
this.SchemasPanel.set_ViewModel(this.ConnectionId);
this.Refresh();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.Populate_ConnectionId=function(){var b=-1;
try{var c=ASPdatabaseNET.UI.PagesFramework.PageIdentifier.GetFromUrlHash().PageParam2;
if(isNaN(c)){b=-1;
}else{if(c!=""){b=1*c;
}}}catch(a){}this.ConnectionId=b;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.Get_StringBased_ConnectionId=function(){if(this.ConnectionId<0){return"Null";
}else{return(1*this.ConnectionId);
}};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.Refresh=function(){this.jF2(".MA_Main").hide();
this.jF2(".LoadingLabel").show();
if(this.ConnectionId<0){this.jF2(".LoadingLabel").html("Invalid ConnectionId");
return;
}this.jF2(".LoadingLabel").html("Loading ...");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetAssetsLists_AjaxReturn").ManageAssets__GetAssetsLists(this.ConnectionId);
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.GetAssetsLists_AjaxReturn=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}var c=a.ReturnObj;
var b=c.AssetsListsInfo;
this.jF2(".Menu_TablesActive span").html("("+b.Tables_Active.length+")");
this.jF2(".Menu_TablesHidden span").html("("+b.Tables_Hidden.length+")");
this.jF2(".Menu_SQLViewsActive span").html("("+b.SqlViews_Active.length+")");
this.jF2(".Menu_SQLViewsHidden span").html("("+b.SqlViews_Hidden.length+")");
this.jF2(".Menu_Schemas span").html("("+b.Schemas.length+")");
this.jF2(".LoadingLabel").hide();
this.jF2(".MA_Main").show();
this.TablesPanel_Active.set_Model(b.Tables_Active);
this.TablesPanel_Hidden.set_Model(b.Tables_Hidden);
this.SQLViewsPanel_Active.set_Model(b.SqlViews_Active);
this.SQLViewsPanel_Hidden.set_Model(b.SqlViews_Hidden);
this.SchemasPanel.set_Model(b.Schemas);
this.jF2(".Label_ConnectionName").html("["+b.ConnectionName+"]");
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.BttnClick_Refresh=function(){this.Refresh();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.OnClose_ConnectionPropertiesUI=function(){this.jF2(".FrontLevelPage").show();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.CloseAllPanels=function(){var b=[];
b[0]=this.TablesPanel_Active;
b[1]=this.TablesPanel_Hidden;
b[2]=this.SQLViewsPanel_Active;
b[3]=this.SQLViewsPanel_Hidden;
b[4]=this.SchemasPanel;
for(var a=0;
a<5;
a++){if(b[a]!=null&&b[a].Get_IsOpen()){b[a].Close();
}}};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.MenuBttnClick_Tables_Active=function(){this.jF2(".LeftMenu .MenuItem").removeClass("Selected");
this.jF2(".Menu_TablesActive").addClass("Selected");
this.CloseAllPanels();
this.TablesPanel_Active.Open();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.MenuBttnClick_Tables_Hidden=function(){this.jF2(".LeftMenu .MenuItem").removeClass("Selected");
this.jF2(".Menu_TablesHidden").addClass("Selected");
this.CloseAllPanels();
this.TablesPanel_Hidden.Open();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.MenuBttnClick_SQLViews_Active=function(){this.jF2(".LeftMenu .MenuItem").removeClass("Selected");
this.jF2(".Menu_SQLViewsActive").addClass("Selected");
this.CloseAllPanels();
this.SQLViewsPanel_Active.Open();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.MenuBttnClick_SQLViews_Hidden=function(){this.jF2(".LeftMenu .MenuItem").removeClass("Selected");
this.jF2(".Menu_SQLViewsHidden").addClass("Selected");
this.CloseAllPanels();
this.SQLViewsPanel_Hidden.Open();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.MenuBttnClick_Schemas=function(){this.jF2(".LeftMenu .MenuItem").removeClass("Selected");
this.jF2(".Menu_Schemas").addClass("Selected");
this.CloseAllPanels();
this.SchemasPanel.Open();
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.EditViewSettings.EditViewSettingsMainUI.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.TablesPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SQLViewsPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.SchemasPanel.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.GetCssRoot=function(){return"\r\n                .ManageAssetsMainUI { }\r\n                .ManageAssetsMainUI .FrontLevelPage { display:block; }\r\n                .ManageAssetsMainUI .MA_SubHead { font-size: 1.1em; padding: 10px 0px 32px 0px; }\r\n                .ManageAssetsMainUI .MA_SubHead .Label1 { margin-right: 10px; }\r\n                .ManageAssetsMainUI .MA_SubHead .Bttn { display:inline; font-size: .7em; \r\n                                                        padding: 2px 10px 3px; border: 1px solid #c3c3c3; color: #14498f; cursor: pointer; }\r\n                .ManageAssetsMainUI .MA_SubHead .Bttn:hover { background: #c3c3c3; color: #111; border-color: #aaa; }\r\n                .ManageAssetsMainUI .MA_SubHead .Bttn span { font-size: .7em; color: #aaa; }\r\n\r\n\r\n                .ManageAssetsMainUI .LoadingLabel { display:none; }\r\n\r\n                .ManageAssetsMainUI .MA_Main { display:none; width: 920px; position:relative; }\r\n\r\n                .ManageAssetsMainUI .MA_Main .LeftMenu { position:absolute; top: 0px; left: 0px; z-index: 2;\r\n                                                         width: 211px; background: #e4e4e4; font-size: .8em; }\r\n                .ManageAssetsMainUI .MA_Main .LeftMenu .MenuItem { padding: 6px 7px; cursor:pointer;\r\n                                                                   border-right: 1px solid #585858; }\r\n                .ManageAssetsMainUI .MA_Main .LeftMenu .MenuItem:hover  { background: #b3b3b3; }\r\n                .ManageAssetsMainUI .MA_Main .LeftMenu .Selected { background: #fff;\r\n                                                                   padding: 5px 7px; \r\n                                                                   border-top: 1px solid #585858;\r\n                                                                   border-bottom: 1px solid #585858;\r\n                                                                   border-right: 1px solid #fff; }\r\n\r\n                .ManageAssetsMainUI .MA_Main .MainBody { position: absolute; top: 0px; left: 210px; z-index: 1;\r\n                                                         width: 710px; padding-left: 25px;\r\n                                                         background: #fff; border: 1px solid #585858; border-width: 1px 0px 0px 1px; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='FrontLevelPage'>\r\n                    <div class='Head'>Manage Assets</div>\r\n                    <div class='MA_SubHead'>\r\n                        <span class='Label1'>Connection: <span class='Label_ConnectionName'>[]</span></span>\r\n                        <a class='Bttn' href='#00-Connections'>Return to All Connections</a>\r\n                        <a class='Bttn Bttn_ManageConnection' href='#'>Manage This Connection</a>\r\n                        <div class='Bttn Bttn_Refresh' On_Click='BttnClick_Refresh'>Refresh</div>\r\n                    </div>\r\n\r\n                    <div class='LoadingLabel'></div>\r\n\r\n                    <div class='MA_Main'>\r\n\r\n                        <div class='LeftMenu'>\r\n                            <div class='MenuItem Menu_TablesActive' On_Click='MenuBttnClick_Tables_Active'>\r\n                                Tables - Active \r\n                                <span>(0)</span>\r\n                            </div>\r\n                            <div class='MenuItem Menu_TablesHidden' On_Click='MenuBttnClick_Tables_Hidden'>\r\n                                Tables - Hidden \r\n                                <span>(0)</span>\r\n                            </div>\r\n                            <div class='MenuItem Menu_SQLViewsActive' On_Click='MenuBttnClick_SQLViews_Active'>\r\n                                SQL Views - Active \r\n                                <span>(0)</span>\r\n                            </div>\r\n                            <div class='MenuItem Menu_SQLViewsHidden' On_Click='MenuBttnClick_SQLViews_Hidden'>\r\n                                SQL Views - Hidden \r\n                                <span>(0)</span>\r\n                            </div>\r\n                            <div class='MenuItem Menu_Schemas' On_Click='MenuBttnClick_Schemas'>\r\n                                Schemas\r\n                                <span>(0)</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class='MainBody'>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.ManageAssets.ManageAssetsMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='MyAccountMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.Open_Sub=function(){this.jF(".D_MainBox").hide();
this.jF(".D_ResetPasswordBox").hide();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").MyAccount__GetInfo();
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.GetInfo_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
this.BindUI();
this.jF(".D_ResetPasswordBox").hide();
this.jF(".D_MainBox").show();
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.Save_Click=function(){this.get_Model().FirstName=this.jF(".T_FirstName").val();
this.get_Model().LastName=this.jF(".T_LastName").val();
this.get_Model().Email=this.jF(".T_Email").val();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").YesEncryption().MyAccount__Save(this.get_Model());
this.jF(".D_MainBox").hide();
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.Save_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}alert("Saved");
this.Open();
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.ResetPassword_Click=function(){this.jF(".T_PasswordOld").val("");
this.jF(".T_Password1").val("");
this.jF(".T_Password2").val("");
this.jF(".D_MainBox").hide();
this.jF(".D_ResetPasswordBox").show();
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.SavePassword_Click=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"Save_Return").YesEncryption().MyAccount__ResetPassword(this.get_Model(),this.jF(".T_PasswordOld").val(),this.jF(".T_Password1").val(),this.jF(".T_Password2").val());
this.jF(".T_PasswordOld").val("");
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.CancelPassword_Click=function(){this.jF(".D_ResetPasswordBox").hide();
this.jF(".D_MainBox").show();
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.GetCssRoot=function(){return"\r\n                .MyAccountMainUI { }\r\n                .MyAccountMainUI .S_Username { color:blue; }\r\n                .MyAccountMainUI .Float1 { float:left; width: 18.75em; }\r\n                .MyAccountMainUI input { width: 16em; border: 1px solid #14498f; }\r\n                .MyAccountMainUI .Bttn1 { float:left; background: #14498f; color: #fff; margin-right: 1em; cursor:pointer; padding: .25em 1.2em; }\r\n                .MyAccountMainUI .Bttn1:hover { background: #333; }\r\n\r\n                .MyAccountMainUI .D_ResetPasswordBox { display:none; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>My Account Settings</div>\r\n                <div class='Main'>\r\n                    <div class='D_MainBox'>\r\n                        <br />\r\n                        Username: <span class='S_Username' ModelKey='Username'></span>\r\n                        <br />\r\n                        <br />\r\n                        <div class='Float1'>\r\n                            First Name <br />\r\n                            <input type='text' class='T_FirstName' ModelKey='FirstName' />\r\n                        </div>\r\n                        <div class='Float1'>\r\n                            Last Name <br />\r\n                            <input type='text' class='T_LastName' ModelKey='LastName' />\r\n                        </div>\r\n                        <div class='clear'></div>\r\n                        <br />\r\n                        Email <br />\r\n                        <input type='text' class='T_Email' ModelKey='Email' />\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        <div class='Bttn1' On_Click='Save_Click'>Save</div>\r\n                        <div class='Bttn1' On_Click='ResetPassword_Click'>Reset Password</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n\r\n                    <div class='D_ResetPasswordBox'>\r\n                        <br />\r\n                        Username: <span class='S_Username' ModelKey='Username'></span>\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        Old Password <br />\r\n                        <input type='password' class='T_PasswordOld' />\r\n                        <br />\r\n                        <br />\r\n                        New Password <br />\r\n                        <input type='password' class='T_Password1' />\r\n                        <br />\r\n                        <br />\r\n                        Repeat New Password <br />\r\n                        <input type='password' class='T_Password2' />\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        <div class='Bttn1' On_Click='SavePassword_Click'>Save Password</div>\r\n                        <div class='Bttn1' On_Click='CancelPassword_Click'>Cancel</div>\r\n                    </div>\r\n\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.MyAccount.MyAccountMainUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.UI.PageParts.OtherSettings)=="undefined"){ASPdatabaseNET.UI.PageParts.OtherSettings={};
}ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='OtherSettingsMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI.GetCssRoot=function(){return"\r\n                .OtherSettingsMainUI { }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>Other Settings</div>\r\n                <div class='Main'>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.OtherSettings.OtherSettingsMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='RegistrationMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.Open_Sub=function(){this.ShowLoading();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").Subscription__GetInfo();
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.GetInfo_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.jF(".D_Loading").hide();
this.jF(".T_SubscriptionKey").val("");
this.set_Model(a.ReturnObj);
if(this.get_Model().SubscriptionKey.length<1){this.jF(".D_SubscriptionEmpty").show();
this.jF(".T_SubscriptionKey").focus();
}else{this.jF(".D_SubscriptionSet").show();
this.jF(".D_SubscriptionKey").html(this.get_Model().SubscriptionKey);
if(this.get_Model().SubscriptionCount==1){this.jF(".D_SubscriptionCount").html("1 User");
}else{this.jF(".D_SubscriptionCount").html(this.get_Model().SubscriptionCount+" Users");
}var b="Your subscription was last validated with www.aspdatabase.net ";
if(this.get_Model().LastCheck_MinutesLapsed=="1"){b+="1 minute ago.";
}else{b+=this.get_Model().LastCheck_MinutesLapsed+" minutes ago.";
}this.jF(".D_LastCheckMsg").html(b);
}};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.ShowLoading=function(){this.jF(".D_Loading").show();
this.jF(".D_SubscriptionEmpty").hide();
this.jF(".D_SubscriptionSet").hide();
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.B_SaveKey_Click=function(){var a=this.jF(".T_SubscriptionKey").val();
if(a.length<36||a.length>200){alert("Invalid Subscription Key");
return;
}this.ShowLoading();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").Subscription__SaveKey(a);
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.Bttn_Remove=function(){if(prompt("Are you sure you want to remove your subscription?\n\nIf so, type 'remove'.")!="remove"){return;
}this.set_Model(new ASPdatabaseNET.UI.PageParts.Subscription.Objs.SubscriptionInfo());
this.ShowLoading();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").Subscription__RemoveKey();
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.Bttn_Refresh=function(){this.ShowLoading();
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetInfo_Return").Subscription__Refresh();
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.GetCssRoot=function(){return"\r\n                .RegistrationMainUI { }\r\n                .RegistrationMainUI .D_Loading { display:none; }\r\n                .RegistrationMainUI .D_SubscriptionEmpty { display:none; }\r\n                .RegistrationMainUI .D_SubscriptionSet { display:none; }\r\n                .RegistrationMainUI a { }\r\n                .RegistrationMainUI a:hover { background: #555; color: #fff; }\r\n\r\n                .RegistrationMainUI .D_SubscriptionEmpty .T_SubscriptionKey { width: 44em; border: 1px solid #444; background: #f3f3f3; padding: .3em; margin-top: .5em; }\r\n                .RegistrationMainUI .D_SubscriptionEmpty .B_SaveKey { float:left; background: #144184; color: #fff; padding: .5em 2em; cursor:pointer; }\r\n                .RegistrationMainUI .D_SubscriptionEmpty .B_SaveKey:hover { background: #444; }\r\n\r\n                .RegistrationMainUI .D_SubscriptionSet .Label1 { width:40em; margin-top: .4em; background: #fcffa9; padding: .3em .8em; }\r\n                .RegistrationMainUI .D_SubscriptionSet .Bttn { font-size: .9em; float:left; color: #fff; background: #144184; margin-right: .8em; cursor:pointer; padding: .2em 1em; }\r\n                .RegistrationMainUI .D_SubscriptionSet .Bttn:hover { background: #444; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>Product Subscription</div>\r\n                <div class='Main'>\r\n                    <div class='D_Loading'>Loading...</div>\r\n                    <div class='D_SubscriptionEmpty'>\r\n                        <br />\r\n                        Enter your Subscription Key here:\r\n                        <br />\r\n                        <input type='text' class='T_SubscriptionKey' />\r\n                        <br />\r\n                        <br />\r\n                        <div class='B_SaveKey' On_Click='B_SaveKey_Click'>Save Key</div>\r\n                        <div class='clear'></div>\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        If you don't yet have a Subscription Key, please go here to learn more:\r\n                        <br />\r\n                        <br />\r\n                        <a href='https://www.aspdatabase.net/Subscribe/' target='_blank'>https://www.aspdatabase.net/Subscribe/</a>\r\n                    </div>\r\n                    <div class='D_SubscriptionSet'>\r\n                        <br />\r\n                        Your Subscription Key:\r\n                        <br />\r\n                        <div class='D_SubscriptionKey Label1'></div>\r\n                        <br />\r\n                        <br />\r\n                        Your current subscription allows for up to:\r\n                        <br />\r\n                        <div class='D_SubscriptionCount Label1'></div>\r\n                        <br />\r\n                        <br />\r\n                        <div class='D_LastCheckMsg hide'></div>\r\n                        <br />\r\n                        <div class='Bttn' On_Click='Bttn_Remove'>Remove Subscription Key</div>\r\n                        <div class='Bttn' On_Click='Bttn_Refresh'>Refresh Subscription Count from www.aspdatabase.net</div>\r\n                        <div class='clear'></div>\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                        Learn more about Subscriptions here:\r\n                        <a href='https://www.aspdatabase.net/Subscribe/' target='_blank'>https://www.aspdatabase.net/Subscribe/</a>\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Subscription.SubscriptionMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI=function(){this.UserUI=null;
this.GroupUI=null;
this.MenuItemUIs_1=null;
this.MenuItemUIs_2=null;
this.MenuItemUIs_3=null;
this.MenuItemUIs_4=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
this.set_ViewModel(new ASPdatabaseNET.UI.PageParts.Users.Objs.UsersViewModel());
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='UsersMainUI MainUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
this.UserUI=new ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI();
this.UserUI.set_ViewModel(this.get_ViewModel());
this.UserUI.Instantiate();
this.UserUI.Close();
this.UserUI.OnChange.After.AddHandler(this,"UserUI_Saved",0);
this.jF(".Holder_UserUI").append(this.UserUI.jRoot);
this.GroupUI=new ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI();
this.GroupUI.set_ViewModel(this.get_ViewModel());
this.GroupUI.Instantiate();
this.GroupUI.Close();
this.GroupUI.OnChange.After.AddHandler(this,"GroupUI_Saved",0);
this.jF(".Holder_GroupUI").append(this.GroupUI.jRoot);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.Open_Sub=function(){this.jF(".BttnTd_1 span").html("(0)");
this.jF(".BttnTd_2 span").html("(0)");
this.jF(".BttnTd_3 span").html("(0)");
this.jF(".BttnTd_4 span").html("(0)");
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetMenuInfo_Return").Users__GetMenuInfo();
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.GetMenuInfo_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.set_Model(a.ReturnObj);
var l="";
switch(this.get_Model().UserSubscriptions_Total){case 0:l="Your subscription allows for 1 limited user.  Click Here to see your subscription settings.";
break;
case 1:l="Your subscription allows for 1 user.  Click Here to see your subscription settings.";
break;
default:l="Your subscription allows for up to "+this.get_Model().UserSubscriptions_Total+" users.  Click Here to see your subscription settings.";
break;
}this.jF(".LicenseInfo").html(l);
var g=this.jF(".MenuHolder_1").html("<div class='MenuHead'>Users (Active)</div>");
this.MenuItemUIs_1=[];
if(this.get_Model().Users_Active!=null){for(var f=0;
f<this.get_Model().Users_Active.length;
f++){this.MenuItemUIs_1[f]=new ASPdatabaseNET.UI.PageParts.Users.MenuItemUI();
this.MenuItemUIs_1[f].set_ViewModel(this.get_ViewModel());
this.MenuItemUIs_1[f].set_Model(this.get_Model().Users_Active[f]);
this.MenuItemUIs_1[f].Instantiate();
this.MenuItemUIs_1[f].OnChange.After.AddHandler(this,"MenuItem_Clicked",1);
g.append(this.MenuItemUIs_1[f].jRoot);
}}var h=this.jF(".MenuHolder_2").html("<div class='MenuHead'>Users (Inactive)</div>");
this.MenuItemUIs_2=[];
if(this.get_Model().Users_Inactive!=null){for(var f=0;
f<this.get_Model().Users_Inactive.length;
f++){this.MenuItemUIs_2[f]=new ASPdatabaseNET.UI.PageParts.Users.MenuItemUI();
this.MenuItemUIs_2[f].set_ViewModel(this.get_ViewModel());
this.MenuItemUIs_2[f].set_Model(this.get_Model().Users_Inactive[f]);
this.MenuItemUIs_2[f].Instantiate();
this.MenuItemUIs_2[f].OnChange.After.AddHandler(this,"MenuItem_Clicked",1);
h.append(this.MenuItemUIs_2[f].jRoot);
}}var j=this.jF(".MenuHolder_3").html("<div class='MenuHead'>Groups (Active)</div>");
this.MenuItemUIs_3=[];
if(this.get_Model().Groups_Active!=null){for(var f=0;
f<this.get_Model().Groups_Active.length;
f++){this.MenuItemUIs_3[f]=new ASPdatabaseNET.UI.PageParts.Users.MenuItemUI();
this.MenuItemUIs_3[f].set_ViewModel(this.get_ViewModel());
this.MenuItemUIs_3[f].set_Model(this.get_Model().Groups_Active[f]);
this.MenuItemUIs_3[f].Instantiate();
this.MenuItemUIs_3[f].OnChange.After.AddHandler(this,"MenuItem_Clicked",1);
j.append(this.MenuItemUIs_3[f].jRoot);
}}var k=this.jF(".MenuHolder_4").html("<div class='MenuHead'>Groups (Inactive)</div>");
this.MenuItemUIs_4=[];
if(this.get_Model().Groups_Inactive!=null){for(var f=0;
f<this.get_Model().Groups_Inactive.length;
f++){this.MenuItemUIs_4[f]=new ASPdatabaseNET.UI.PageParts.Users.MenuItemUI();
this.MenuItemUIs_4[f].set_ViewModel(this.get_ViewModel());
this.MenuItemUIs_4[f].set_Model(this.get_Model().Groups_Inactive[f]);
this.MenuItemUIs_4[f].Instantiate();
this.MenuItemUIs_4[f].OnChange.After.AddHandler(this,"MenuItem_Clicked",1);
k.append(this.MenuItemUIs_4[f].jRoot);
}}var b=0,c=0,d=0,e=0;
if(this.get_Model().Users_Active!=null){b=this.get_Model().Users_Active.length;
}if(this.get_Model().Users_Inactive!=null){c=this.get_Model().Users_Inactive.length;
}if(this.get_Model().Groups_Active!=null){d=this.get_Model().Groups_Active.length;
}if(this.get_Model().Groups_Inactive!=null){e=this.get_Model().Groups_Inactive.length;
}this.jF(".BttnTd_1 span").html("("+b+")");
this.jF(".BttnTd_2 span").html("("+c+")");
this.jF(".BttnTd_3 span").html("("+d+")");
this.jF(".BttnTd_4 span").html("("+e+")");
if(this.get_ViewModel().SaveJustHappened){if(this.get_ViewModel().LastMenuItem==null&&this.get_ViewModel().CurrentId>-1){for(var f=0;
f<this.MenuItemUIs_1.length;
f++){if(this.MenuItemUIs_1[f].get_Model().Id==this.get_ViewModel().CurrentId){this.get_ViewModel().LastMenuItem=this.MenuItemUIs_1[f];
}}for(var f=0;
f<this.MenuItemUIs_2.length;
f++){if(this.MenuItemUIs_2[f].get_Model().Id==this.get_ViewModel().CurrentId){this.get_ViewModel().LastMenuItem=this.MenuItemUIs_2[f];
}}for(var f=0;
f<this.MenuItemUIs_3.length;
f++){if(this.MenuItemUIs_3[f].get_Model().Id==this.get_ViewModel().CurrentId){this.get_ViewModel().LastMenuItem=this.MenuItemUIs_3[f];
}}for(var f=0;
f<this.MenuItemUIs_4.length;
f++){if(this.MenuItemUIs_4[f].get_Model().Id==this.get_ViewModel().CurrentId){this.get_ViewModel().LastMenuItem=this.MenuItemUIs_4[f];
}}}if(this.get_ViewModel().LastMenuItem!=null){this.MenuItem_Clicked(this.get_ViewModel().LastMenuItem);
}this.get_ViewModel().SaveJustHappened=false;
}else{this.TabClick_1();
}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.NewUser_Click=function(){this.TabClick(-1);
this.get_ViewModel().CurrentId=-1;
this.UserUI.Open();
this.jF(".MenuHolder_NewUser").show();
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.NewGroup_Click=function(){this.TabClick(-1);
this.get_ViewModel().CurrentId=-1;
this.GroupUI.Open();
this.jF(".MenuHolder_NewGroup").show();
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.TabClick_1=function(){this.TabClick(1);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.TabClick_2=function(){this.TabClick(2);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.TabClick_3=function(){this.TabClick(3);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.TabClick_4=function(){this.TabClick(4);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.TabClick=function(a){this.get_ViewModel().CurrentTabId=a;
this.jF(".BttnTd").removeClass("On");
this.jF(".MenuHolder").hide();
if(a>0){this.jF(".BttnTd_"+a).addClass("On");
this.jF(".MenuHolder_"+a).show();
}if(this.UserUI.IsOpen){this.UserUI.Close();
}if(this.GroupUI.IsOpen){this.GroupUI.Close();
}this.TurnOff_AllMenuItems();
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.TurnOff_AllMenuItems=function(){if(this.MenuItemUIs_1!=null){for(var a=0;
a<this.MenuItemUIs_1.length;
a++){if(this.MenuItemUIs_1[a].IsOn){this.MenuItemUIs_1[a].TurnOff();
}}}if(this.MenuItemUIs_2!=null){for(var a=0;
a<this.MenuItemUIs_2.length;
a++){if(this.MenuItemUIs_2[a].IsOn){this.MenuItemUIs_2[a].TurnOff();
}}}if(this.MenuItemUIs_3!=null){for(var a=0;
a<this.MenuItemUIs_3.length;
a++){if(this.MenuItemUIs_3[a].IsOn){this.MenuItemUIs_3[a].TurnOff();
}}}if(this.MenuItemUIs_4!=null){for(var a=0;
a<this.MenuItemUIs_4.length;
a++){if(this.MenuItemUIs_4[a].IsOn){this.MenuItemUIs_4[a].TurnOff();
}}}};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.MenuItem_Clicked=function(b){this.get_ViewModel().LastMenuItem=b;
if(this.UserUI.IsOpen){this.UserUI.Close();
}if(this.GroupUI.IsOpen){this.GroupUI.Close();
}this.get_ViewModel().CurrentId=b.get_Model().Id;
if(b.get_Model().MenuType==1){this.UserUI.Open();
}else{if(b.get_Model().MenuType==2){this.GroupUI.Open();
}}this.TurnOff_AllMenuItems();
if(this.get_ViewModel().CurrentTabId==1){if(this.MenuItemUIs_1!=null){for(var a=0;
a<this.MenuItemUIs_1.length;
a++){if(this.MenuItemUIs_1[a].get_Model().Id==b.get_Model().Id){this.MenuItemUIs_1[a].TurnOn();
}}}}else{if(this.get_ViewModel().CurrentTabId==2){if(this.MenuItemUIs_2!=null){for(var a=0;
a<this.MenuItemUIs_2.length;
a++){if(this.MenuItemUIs_2[a].get_Model().Id==b.get_Model().Id){this.MenuItemUIs_2[a].TurnOn();
}}}}else{if(this.get_ViewModel().CurrentTabId==3){if(this.MenuItemUIs_3!=null){for(var a=0;
a<this.MenuItemUIs_3.length;
a++){if(this.MenuItemUIs_3[a].get_Model().Id==b.get_Model().Id){this.MenuItemUIs_3[a].TurnOn();
}}}}else{if(this.get_ViewModel().CurrentTabId==4){if(this.MenuItemUIs_4!=null){for(var a=0;
a<this.MenuItemUIs_4.length;
a++){if(this.MenuItemUIs_4[a].get_Model().Id==b.get_Model().Id){this.MenuItemUIs_4[a].TurnOn();
}}}}}}}};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.UserUI_Saved=function(){this.get_ViewModel().SaveJustHappened=true;
var a=this.get_ViewModel().CurrentTabId;
if(this.UserUI.get_Model().UserId<0){this.get_ViewModel().LastMenuItem=null;
}if(a<0&&this.UserUI.get_Model().Active){a=1;
}else{if(a<0&&!this.UserUI.get_Model().Active){a=2;
}else{if(a==1&&!this.UserUI.get_Model().Active){a=2;
}else{if(a==2&&this.UserUI.get_Model().Active){a=1;
}}}}this.Open();
this.TabClick(a);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.GroupUI_Saved=function(){this.get_ViewModel().SaveJustHappened=true;
var a=this.get_ViewModel().CurrentTabId;
if(this.GroupUI.get_Model().GroupId<0){this.get_ViewModel().LastMenuItem=null;
}if(a<0&&this.GroupUI.get_Model().Active){a=3;
}else{if(a<0&&!this.GroupUI.get_Model().Active){a=4;
}else{if(a==3&&this.GroupUI.get_Model().Active==false){a=4;
}else{if(a==4&&this.GroupUI.get_Model().Active==true){a=3;
}}}}this.Open();
this.TabClick(a);
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.GetCssTree=function(){var a=ASPdatabaseNET.UI.PageParts.Users.MenuItemUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Users.Panel_UserUI.GetCssTree()+ASPdatabaseNET.UI.PageParts.Users.Panel_GroupUI.GetCssTree();
a+=ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.GetCssRoot=function(){return"\r\n                .UsersMainUI { }\r\n                .UsersMainUI .Main { position:relative; }\r\n\r\n                .UsersMainUI .Main .NewBttns { position:absolute; top: -2em; width: 47.5em; }\r\n                .UsersMainUI .Main .NewBttns .Bttn1 { float:right; background: #3d7bcc; color: #fff; padding: .4em 1em; margin-left: 1px; cursor:pointer; }\r\n                .UsersMainUI .Main .NewBttns .Bttn1:hover { background: #0a346b; }\r\n\r\n                .UsersMainUI .Main .LicenseInfo { display:block; border: 1px solid #e3e3e3; background: #e8e8e8; color: #6a6e73; \r\n                                                  padding-left: 1.171875em; line-height: 2em; font-size: .8em; margin-bottom: 1em; }\r\n                .UsersMainUI .Main .LicenseInfo:hover { background: #6a6e73; border-color: #6a6e73; color: #fff; }\r\n\r\n                .UsersMainUI .Main .BttnsTbl { margin-bottom: 1em; width: 100%; }\r\n                .UsersMainUI .Main .BttnsTbl td { background: #a1a1a1; width: 25%; padding: .4em .75em; border-left: 1px solid #fff; cursor:pointer; font-size: .85em; text-align:center; color: #444; }\r\n                .UsersMainUI .Main .BttnsTbl FirstTd { border-width: 0px; }\r\n                .UsersMainUI .Main .BttnsTbl td:hover { background: #6a6e73; color: #fff; }\r\n                .UsersMainUI .Main .BttnsTbl .On { background: #222; color: #fff; }\r\n\r\n                .UsersMainUI .Main .MainTable001 { width: 47.5em; }\r\n                .UsersMainUI .Main .MainTable001 tr { }\r\n                .UsersMainUI .Main .MainTable001 tr td { }\r\n                .UsersMainUI .Main .MainTable001 tr .Td001 { width: 11.875em; background: #eee; }\r\n                .UsersMainUI .Main .MainTable001 tr .Td002 {  }\r\n                .UsersMainUI .Main .MainTable001 tr .Td001 .MenuHolder { display:none; }\r\n                .UsersMainUI .Main .MainTable001 tr .Td001 .MenuHolder .MenuHead { text-align:center; border-bottom: 1px solid #f9f9f9; color: #999; padding: .5em 0em; }\r\n                .UsersMainUI .Main .MainTable001 tr .Td001 .MenuHolder_New { font-size: 1.4em; text-align:center; padding-top: 1.55em; color: #888; }\r\n            ";
};
ASPdatabaseNET.UI.PageParts.Users.UsersMainUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Head'>Users & Permissions</div>\r\n                <div class='Main'>\r\n                    <div class='NewBttns'>\r\n                        <div class='Bttn1' On_Click='NewGroup_Click'>+ New Group</div>\r\n                        <div class='Bttn1' On_Click='NewUser_Click'>+ New User</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <a href='#00-Subscription' class='LicenseInfo'></a>\r\n                    \r\n                    <table class='BttnsTbl'>\r\n                        <tr>\r\n                            <td On_Click='TabClick_1' class='BttnTd BttnTd_1 FirstTd'>Users (Active)    <span>(0)</span></td>\r\n                            <td On_Click='TabClick_2' class='BttnTd BttnTd_2'        >Users (Inactive)  <span>(0)</span></td>\r\n                            <td On_Click='TabClick_3' class='BttnTd BttnTd_3'        >Groups (Active)   <span>(0)</span></td>\r\n                            <td On_Click='TabClick_4' class='BttnTd BttnTd_4'        >Groups (Inactive) <span>(0)</span></td>\r\n                        </td>\r\n                    </table>\r\n\r\n                    <table class='MainTable001'>\r\n                        <tr>\r\n                            <td class='Td001'>\r\n                                <div class='AutoResize'>\r\n                                    <div class='MenuHolder MenuHolder_1'>  </div>\r\n                                    <div class='MenuHolder MenuHolder_2'>  </div>\r\n                                    <div class='MenuHolder MenuHolder_3'>  </div>\r\n                                    <div class='MenuHolder MenuHolder_4'>  </div>\r\n                                    <div class='MenuHolder MenuHolder_New MenuHolder_NewUser'>Add<br />New User</div>\r\n                                    <div class='MenuHolder MenuHolder_New MenuHolder_NewGroup'>Add<br />New Group</div>\r\n                                </div>\r\n                            </td>\r\n                            <td class='Td002'>\r\n                                <div class='Holder_UserUI'></div>\r\n                                <div class='Holder_GroupUI'></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                    \r\n                    <div class='clear'></div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.PageParts.Users.UsersMainUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.GridToolBar=function(){this.OnRefresh=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnImportExportClick=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnViewOptionsClick=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnRequestToDeleteSelection=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='GridToolBar jRoot NoSelect'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.Open_Sub=function(){if(this.get_Model()==null){return;
}this.jF(".TitleLabel").html(this.get_Model().TableName_FullNameLabel);
this.jF(".Bttn_RecordCount").html("("+this.get_Model().Count_DisplayItems+" of "+this.get_Model().Count_TotalItems+")");
this.SelectionCountChanged();
if(this.get_Model().TableType==1){this.jF(".Bttn_DesignTable").show().attr("href","#00-TableDesign-"+this.get_Model().Id);
}else{this.jF(".Bttn_DesignTable").hide();
}this.jF(".Bttn_Insert").hide();
this.jF(".Bttn_Download").hide();
this.jF(".Bttn_DesignTable").hide();
if(this.get_Model().TableType==1){if(this.get_Model().IsAdmin){this.jF(".Bttn_DesignTable").show();
}if(this.get_Model().PermissionValues.Insert){this.jF(".Bttn_Insert").show();
}}};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.SelectionCountChanged=function(){if(this.get_Model().PermissionValues.Delete&&this.get_Model().TableType==1){if(this.get_ViewModel().SelectionCount<1){this.jF(".Bttn_Delete").hide();
this.jF(".Bttn_RecordCount").show();
}else{this.jF(".Bttn_RecordCount").hide();
this.jF(".Bttn_Delete").show().html("Delete Selected ("+this.get_ViewModel().SelectionCount+")");
}}};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.SetFilterCount=function(a){if(a<0){this.jF(".Bttn_ViewOptions").html("View Options");
}else{this.jF(".Bttn_ViewOptions").html("View Options ("+a+")");
}};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_RecordCount=function(){};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_DeleteSelected=function(){var b=this.get_ViewModel().SelectionCount;
var a="Are you sure you want to permanently delete this record?";
if(b>1){a="Are you certain you want to permanently delete these "+b+" records?";
}a+='\n\nIf so, please type "delete" to confirm.';
var c=prompt(a);
if(c!=null&&c.toLowerCase()=="delete"){this.OnRequestToDeleteSelection.After.Fire();
}};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_Refresh=function(){this.OnRefresh.After.Fire();
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_Insert=function(){window.location=("#00-Record-"+this.get_Model().UniqueKey_ForNewRecord);
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_Download=function(){alert("BttnClick_Download");
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_ImportExport=function(){this.OnImportExportClick.After.Fire();
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.BttnClick_ViewOptions=function(){this.OnViewOptionsClick.After.Fire();
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.GetCssTree=function(){var a=""+ASPdatabaseNET.UI.TableGrid.ViewOptions.GetCssTree()+ASPdatabaseNET.UI.TableGrid.GridToolBar.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.GetCssRoot=function(){return"\r\n                .GridToolBar { position:relative; background: #093a79; color: #fff; line-height: 2.1875em; margin-bottom: 5px;\r\n                               white-space:nowrap; overflow:hidden; }\r\n                .GridToolBar .TitleLabel { font-size: 1em; padding-left: 20px;\r\n                                           white-space:nowrap; overflow:hidden; }\r\n                .GridToolBar .RightSide { position:absolute; top: 0px; right: 0px; line-height: 2.1875em; background: #093a79; }\r\n\r\n\r\n                .GridToolBar .RightSide .Bttn { font-size: .75em; display:block; float:right; color:#fff; padding: 0em .6em; widthz: 2.5em; text-align: center; cursor:pointer; }\r\n                .GridToolBar .RightSide .Bttn:hover { background: #001d44; }\r\n                .GridToolBar .RightSide .Bttn_ViewOptions { width:auto; background: #eb640a; padding: 0em 1.4em; margin-left: .4em; }\r\n                .GridToolBar .RightSide .Bttn_ViewOptions:hover { background: #f4f4f4; color: #eb640a; }\r\n                .GridToolBar .RightSide .Bttn_ImportExport_ { line-height: 1.2625em; padding: .3em .64em; font-size: .7em; }\r\n                .GridToolBar .RightSide .Bttn_DesignTable { }\r\n                .GridToolBar .RightSide .Bttn_Download { }\r\n                .GridToolBar .RightSide .Bttn_Insert { }\r\n                .GridToolBar .RightSide .Bttn_Refresh { }\r\n                .GridToolBar .RightSide .Bttn_Delete { display:none; font-size: .6em; width: auto; padding: 0em 1.4em;\r\n                                                       line-height: 2.2em; background: #ffffb1; color: #093a79; margin: .75em 1em 0em; border-radius: .9em; }\r\n                .GridToolBar .RightSide .Bttn_Delete:hover { background: #ffff00; color: #000; }\r\n                .GridToolBar .RightSide .Bttn_RecordCount { font-size: .6em; width: auto; padding: 0em 1.4em; cursor:default; }\r\n                .GridToolBar .RightSide .Bttn_RecordCount:hover { background: #093a79; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.GridToolBar.prototype.GetHtmlRoot=function(){return"\r\n                <div class='TitleLabel YesSelect'></div>\r\n                <div class='RightSide'>\r\n                    <div class='Bttn Bttn_ViewOptions'  On_Click='BttnClick_ViewOptions'    title='View Options'    >View Options</div>\r\n                    <div class='Bttn Bttn_ImportExport' On_Click='BttnClick_ImportExport'   title='Export' >Export</div>\r\n                    <a   class='Bttn Bttn_DesignTable'  href='#'                            title='Design Table'    >Design</a>\r\n                    <div class='Bttn Bttn_Download'     On_Click='BttnClick_Download'       title='Download'        >(D)</div>\r\n                    <div class='Bttn Bttn_Insert'       On_Click='BttnClick_Insert'         title='Insert'          >+ New</div>\r\n                    <div class='Bttn Bttn_Refresh'      On_Click='BttnClick_Refresh'        title='Refresh'         >Refresh</div>\r\n                    <div class='Bttn Bttn_Delete'       On_Click='BttnClick_DeleteSelected' title='Delete Selected' >Delete Selected (0)</div>\r\n                    <div class='Bttn Bttn_RecordCount'  On_Click='BttnClick_RecordCount'    title=''                >(0 of 0)</div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.GridToolBar,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.Objs.ImportExcelInfo=function(){this.GuidKey=null;
this.TableId=0;
this.UploadTime=System.DateTime.MinValue;
this.FileName=null;
this.ContentType=null;
this.ContentLength=0;
this.ExcelPackage=null;
this.ExceptionMessage=null;
this.ExceptionStacktrace=null;
this.TableColumns=null;
this.Worksheets=null;
};
ASPdatabaseNET.UI.TableGrid.Objs.ImportExcelInfo_Worksheet=function(){this.WorksheetName=null;
this.Columns=null;
this.CustomMapText=null;
};
ASPdatabaseNET.UI.TableGrid.Objs.ImportExportViewModel=function(){this.GuidKey="";
this.GridRequest=null;
this.SelectedWorksheet=null;
this.IsInDemoMode=false;
};
ASPdatabaseNET.UI.TableGrid.Objs.ViewOptions_FilterField=function(){this.FieldName=null;
this.FilterType=0;
this.Value=null;
};
ASPdatabaseNET.UI.TableGrid.Objs.ViewOptions_SortField=function(){this.FieldName=null;
this.Descending=false;
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI=function(){this.GridResponse=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='RecordViewerUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.prototype.Open_Sub=function(){this.jF(".Txt_TableName").html(this.GridResponse.Schema+"."+this.GridResponse.TableName);
this.jF(".NavigatorText").html((this.get_Model().DisplayIndex+1));
if(this.get_Model().DisplayIndex>0){this.jF(".Arrow_Left_Off").hide();
this.jF(".Arrow_Left").show();
}else{this.jF(".Arrow_Left").hide();
this.jF(".Arrow_Left_Off").show();
}if(this.get_Model().DisplayIndex<this.GridResponse.Rows.length-1){this.jF(".Arrow_Right_Off").hide();
this.jF(".Arrow_Right").show();
}else{this.jF(".Arrow_Right").hide();
this.jF(".Arrow_Right_Off").show();
}var b=this.jF(".Holder_FieldUIs").html("");
for(var c=0;
c<this.get_Model().Values.length;
c++){var a=this.GridResponse.HeaderItems[c].FieldName;
var d=this.get_Model().Values[c];
b.append(ASPdb.FrameworkUI.st.New("\r\n                <tr>\r\n                    <td class='NameTd'><div class='NameDiv'>{0}</div></td>\r\n                    <td class='ValueTd'>\r\n                        <div class='ValueDiv'>{1}</div>\r\n                    </td>\r\n                </tr>\r\n                ").Format2(a,d).TheString);
}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.prototype.RecordsList_Click=function(){this.Close();
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.prototype.Left_Click=function(){this.set_Model(this.GridResponse.Rows[this.get_Model().DisplayIndex-1]);
this.Open();
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.prototype.Right_Click=function(){this.set_Model(this.GridResponse.Rows[this.get_Model().DisplayIndex+1]);
this.Open();
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.RecordViewerUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.GetCssRoot=function(){return"\r\n                .RecordViewerUI { paddingz: 0.75em 0em 0em 0.75em; width: 55em; max-width: 55em; }\r\n                .RecordViewerUI .Txt_TableName { font-size: 1.2em; padding-bottom: 0.625em; color: #eb640a; }\r\n                .RecordViewerUI .BttnBar { background: #093a79; color: #fff; line-height: 2.1875em; border-bottom: 0.375em solid #fff; }\r\n                .RecordViewerUI .BttnBar .Box1 { float:left; width: 15em; }\r\n                .RecordViewerUI .BttnBar .Box2 { float:left; width: 13em; }\r\n                .RecordViewerUI .BttnBar .Box3 { float:right; width: 25em; }\r\n                .RecordViewerUI .BttnBar .Bttn { float:right; cursor:pointer; background: #093a79; color: #fff; padding: 0em .75em; }\r\n                .RecordViewerUI .BttnBar .Bttn:hover { background: #001d44; }\r\n                .RecordViewerUI .BttnBar .Bttn_RecordsList { float:left; }\r\n                .RecordViewerUI .BttnBar .Bttn_Off { float:right; background: #093a79; color: #fff; padding: 0em .75em; }\r\n\r\n                .RecordViewerUI .BttnBar .Navigator { }\r\n                .RecordViewerUI .BttnBar .Navigator .Arrow_Off { float:left; text-align:center; width: 2.1875em; background: #7490b4; }\r\n                .RecordViewerUI .BttnBar .Navigator .Arrow { display:none; float:left; text-align:center; width: 2.1875em; background: #7490b4; color: #ececec; cursor:pointer; }\r\n                .RecordViewerUI .BttnBar .Navigator .Arrow:hover { background: #3f679b; }\r\n                .RecordViewerUI .BttnBar .Navigator .NavigatorText { float:left; text-align:center; background: #ececec; color: #093a79; font-size: 1.25em; padding: 0em 1em; width: 1em; }\r\n\r\n                .RecordViewerUI .BttnBar .Box3_StandardBttns { }\r\n                .RecordViewerUI .BttnBar .Box3_SaveBttns { display:none; }\r\n\r\n                .RecordViewerUI .Holder_FieldUIs { width: 100%; }\r\n                .RecordViewerUI .Holder_FieldUIs tr { line-height: 1.875em; border-bottom: 0.125em solid #fff; background: #f4f4f4; }\r\n                .RecordViewerUI .Holder_FieldUIs tr .NameTd { background: #eee; font-size: .8em; line-height: 2.34375em; width: 18em; max-width: 18em; min-width: 18em; overflow:hidden; }\r\n                .RecordViewerUI .Holder_FieldUIs tr .ValueTd { font-size: .8em; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.RecordViewerUI.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Txt_TableName'></div>\r\n                <div class='BttnBar'>\r\n                    <div class='Box1'>\r\n                        <div class='Bttn Bttn_RecordsList' On_Click='RecordsList_Click'>&lt;&lt; Records List</div>\r\n                    </div>\r\n                    <div class='Box2 HideIfNoPK'>\r\n                        <div class='Navigator NoSelect'>\r\n                            <div class='Arrow Arrow_Left' On_Click='Left_Click'>&lt;</div>\r\n                            <div class='Arrow_Off Arrow_Left_Off'>&nbsp;</div>\r\n                            <div class='NavigatorText'>&nbsp;</div>\r\n                            <div class='Arrow Arrow_Right' On_Click='Right_Click'>&gt;</div>\r\n                            <div class='Arrow_Off Arrow_Right_Off' title='End of current set'>?</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class='Box3 Box3_StandardBttns HideIfNoPK'>\r\n                        <div class='Bttn_Off'>(Read-Only View)</div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class='clear'></div>\r\n                </div>\r\n\r\n                <div class='AutoResize'>\r\n                    <table class='Holder_FieldUIs'>\r\n                    </table>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.RecordViewerUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.RowUI=function(){this.IsOdd=false;
this.IsSelected=false;
this.OnSelection=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.OnOpenViewer=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.RowUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<tr class='RowUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
if(this.IsOdd){this.jRoot.addClass("RowUI_Alt");
}for(var i=0;
i<this.get_Model().Values.length;
i++){var value=this.get_Model().Values[i];
if(this.get_ViewModel().TableType==2){if(value.length>100){value=ASPdb.FrameworkUI.st.New(value).TruncateRight(value.length-99).TheString+"...";
}}this.jRoot.append(ASPdb.FrameworkUI.JsStr.StrFormat1("<td>{0}</td>",value));
}if(this.get_ViewModel().TableType==1){this.jF(".Bttn_Open").attr("href","#00-Record-"+this.get_Model().UniqueKey);
}else{this.jF(".Bttn_Open").hide();
this.jF(".Bttn_Open2").show();
}var thisObj=this;
var jRootObj=this.jRoot;
eval("\r\n                jRootObj.find('td').click(function() { thisObj.Td_Clicked(this); });\r\n                jRootObj.find('td').dblclick(function() { thisObj.Td_DoubleClicked(this); });\r\n            ");
};
ASPdatabaseNET.UI.TableGrid.RowUI.prototype.Td_Clicked=function(a){if(!$(a).hasClass("Td_Open")){this.SetSelection(!this.IsSelected);
this.OnSelection.After.Fire();
}};
ASPdatabaseNET.UI.TableGrid.RowUI.prototype.SetSelection=function(a){this.IsSelected=a;
if(this.IsSelected){this.jRoot.addClass("RowUI_Selected");
this.jF(".Checkbox_Select").attr("checked",true);
}else{this.jRoot.removeClass("RowUI_Selected");
this.jF(".Checkbox_Select").removeAttr("checked");
}};
ASPdatabaseNET.UI.TableGrid.RowUI.prototype.Td_DoubleClicked=function(a){switch(this.get_ViewModel().TableType){case 1:window.location=("#00-Record-"+this.get_Model().UniqueKey);
break;
case 2:this.Bttn_Open2_Click();
break;
}};
ASPdatabaseNET.UI.TableGrid.RowUI.prototype.Bttn_Open2_Click=function(){this.OnOpenViewer.After.Fire1(this.get_Model());
};
ASPdatabaseNET.UI.TableGrid.RowUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.RowUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.RowUI.GetCssRoot=function(){return"\r\n                .RowUI { }\r\n                .RowUI { }\r\n                .RowUI td { background: #ededed; margin: 0px 1px 1px 0px; white-space:nowrap;\r\n                            border: 1px solid #fff; border-width: 1px 1px 1px 0px; padding: 0.125em 0.375em; }\r\n                .RowUI_Alt td { background: #cfd4da; }\r\n\r\n                .RowUI .Td_CheckboxSelect { padding-top: .25em; padding-bottom: 0em; }\r\n                .RowUI .Td_CheckboxSelect:hover { background: #093a79; }\r\n                .RowUI .Td_CheckboxSelect .Checkbox_Select { }\r\n\r\n                .RowUI .Td_Open { padding: 0em; }\r\n                .RowUI .Td_Open .Bttn_Open { display:block; text-decoration:none; color: blue; padding: 0.125em 0.375em; }\r\n                .RowUI .Td_Open .Bttn_Open:hover { background: #093a79; color: #fff; }\r\n                .RowUI .Td_Open .Bttn_Open span { font-size: .9em; }\r\n\r\n                .RowUI .Td_Open .Bttn_Open2 { display:none; text-decoration:none; color: blue; padding: 0.125em 0.375em; cursor:pointer; }\r\n                .RowUI .Td_Open .Bttn_Open2:hover { background: #093a79; color: #fff; }\r\n                .RowUI .Td_Open .Bttn_Open2 span { font-size: .9em; }\r\n\r\n\r\n                .RowUI:hover td { background: #42a4ed; color: #fff; }\r\n                .RowUI:hover .Bttn_Open { color: #fff; }\r\n                .RowUI:hover .Bttn_Open2 { color: #fff; }\r\n\r\n                .RowUI_Selected td { background: #2c6fc5; color: #fff; }\r\n                .RowUI_Selected .Td_Open .Bttn_Open { color: #fff; }\r\n                .RowUI_Selected .Td_Open .Bttn_Open2 { color: #fff; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.RowUI.prototype.GetHtmlRoot=function(){return"\r\n                <td class='Td_CheckboxSelect'><input type='checkbox' class='Checkbox_Select' /></td>\r\n                <td class='Td_Open'>\r\n                    <a class='Bttn_Open' href='#'><span>Open</span></a>\r\n                    <div class='Bttn_Open2' On_Click='Bttn_Open2_Click'><span>Open</span></div>\r\n                </td>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.RowUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.TableGridMain=function(){this.GridToolBar=null;
this.ImportExportUI=null;
this.ViewOptions=null;
this.RowUIs=null;
this.RecordViewerUI=null;
this.LastAttemptWas_InvalidFilterField=false;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='TableGridMain jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
try{var c=localStorage.getItem(this.get_ViewModel().get_LocalStorage_Key_ViewOptions());
if(c!=null&&c.length>0){var b=(new ASPdb.Ajax.AjaxHelper()).FromJson(c);
this.get_ViewModel().DisplayTopNRows=b.DisplayTopNRows;
this.get_ViewModel().FilterAndSort.FilterFields=b.FilterFields;
this.get_ViewModel().FilterAndSort.SortFields=b.SortFields;
}}catch(a){}this.GridToolBar=new ASPdatabaseNET.UI.TableGrid.GridToolBar();
this.GridToolBar.set_ViewModel(this.get_ViewModel());
this.GridToolBar.Instantiate();
this.GridToolBar.OnRefresh.After.AddHandler(this,"GridToolBar_OnRefresh",0);
this.GridToolBar.OnImportExportClick.After.AddHandler(this,"GridToolBar_OnImportExportClick",0);
this.GridToolBar.OnViewOptionsClick.After.AddHandler(this,"GridToolBar_OnViewOptionsClick",0);
this.GridToolBar.OnRequestToDeleteSelection.After.AddHandler(this,"GridToolBar_OnRequestToDeleteSelection",0);
this.jF(".Holder_GridToolBar").append(this.GridToolBar.jRoot);
this.ImportExportUI=new ASPdatabaseNET.UI.TableGrid.ImportExportUI();
this.ImportExportUI.Instantiate();
this.ImportExportUI.Close();
this.jF(".Holder_ImportExportUI").append(this.ImportExportUI.jRoot);
this.ViewOptions=new ASPdatabaseNET.UI.TableGrid.ViewOptions();
this.ViewOptions.set_ViewModel(this.get_ViewModel());
this.ViewOptions.Instantiate();
this.ViewOptions.OnRefresh.After.AddHandler(this,"ViewOptions_OnRefresh",0);
this.ViewOptions.Close();
this.jF(".Holder_ViewOptions").append(this.ViewOptions.jRoot);
ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetGrid_Return").TableGrid__GetGrid(this.GetGridRequest());
ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GetGridRequest=function(){var a=new ASPdatabaseNET.UI.TableGrid.Objs.GridRequest();
a.TableType=this.get_ViewModel().TableType;
a.Id=this.get_ViewModel().Id;
a.DisplayTopNRows=this.get_ViewModel().DisplayTopNRows;
this.ViewOptions.Update_FiltersAndSorts();
a.FilterFields=this.get_ViewModel().FilterAndSort.FilterFields;
a.SortFields=this.get_ViewModel().FilterAndSort.SortFields;
return a;
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GetGrid_Return=function(response){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(response)){if(response.Error.Message=="Invalid FilterField."&&!this.LastAttemptWas_InvalidFilterField){this.LastAttemptWas_InvalidFilterField=true;
this.get_ViewModel().FilterAndSort=new ASPdatabaseNET.UI.TableGrid.Objs.FilterAndSort();
this.get_ViewModel().FilterAndSort.FilterFields=[];
this.get_ViewModel().FilterAndSort.SortFields=[];
this.ViewOptions.BttnClick_ApplyAndRefresh();
}else{return;
}}this.LastAttemptWas_InvalidFilterField=false;
if(this.RecordViewerUI!=null){this.RecordViewerUI=null;
}this.set_Model(response.ReturnObj);
document.title="["+this.get_Model().TableName+"] - ASPdatabase.NET";
if(this.get_ViewModel().FilterAndSort.FilterFields!=null&&this.get_ViewModel().FilterAndSort.FilterFields.length>0){this.GridToolBar.SetFilterCount(this.get_ViewModel().FilterAndSort.FilterFields.length);
}else{if(this.get_ViewModel().FilterAndSort.SortFields!=null&&this.get_ViewModel().FilterAndSort.SortFields.length>0){this.GridToolBar.SetFilterCount(0);
}else{this.GridToolBar.SetFilterCount(-1);
}}this.get_ViewModel().SelectionCount=0;
this.get_ViewModel().AllColumnNames=[];
for(var i=0;
i<this.get_Model().HeaderItems.length;
i++){this.get_ViewModel().AllColumnNames[i]=this.get_Model().HeaderItems[i].FieldName;
}this.BindUI();
this.GridToolBar.set_Model(this.get_Model());
this.GridToolBar.Open();
var tableGridTable=this.jF(".TableGridTable").html("");
var headerHTML="<tr><th class='SelectAllBox' title='Select/Deselect All'><span></span></th><th></th>";
for(var i=0;
i<this.get_Model().HeaderItems.length;
i++){headerHTML+=ASPdb.FrameworkUI.JsStr.StrFormat1("<th>{0}</th>",this.get_Model().HeaderItems[i].FieldName);
}headerHTML+="</tr>";
tableGridTable.html(headerHTML);
var thisObj=this;
var jRootObj=this.jRoot;
eval("jRootObj.find('.SelectAllBox').click(function(){ thisObj.SelectAllBox_Click(); });");
this.RowUIs=[];
for(var i=0;
i<this.get_Model().Rows.length;
i++){this.RowUIs[i]=new ASPdatabaseNET.UI.TableGrid.RowUI();
this.RowUIs[i].IsOdd=(i%2==1);
this.RowUIs[i].set_ViewModel(this.get_ViewModel());
this.RowUIs[i].set_Model(this.get_Model().Rows[i]);
this.RowUIs[i].get_Model().DisplayIndex=i;
this.RowUIs[i].OnSelection.After.AddHandler(this,"RowUI_OnSelection",0);
this.RowUIs[i].OnOpenViewer.After.AddHandler(this,"RowUI_OnOpenViewer",1);
this.RowUIs[i].Instantiate();
tableGridTable.append(this.RowUIs[i].jRoot);
}ASPdatabaseNET.UI.PagesFramework.BasePage.WindowResized();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GridToolBar_OnImportExportClick=function(){this.ImportExportUI.get_ViewModel().IsInDemoMode=this.get_Model().IsInDemoMode;
if(this.ImportExportUI.IsOpen){this.ImportExportUI.Close();
}else{this.ImportExportUI.get_ViewModel().GridRequest=this.GetGridRequest();
this.ImportExportUI.Open();
}};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GridToolBar_OnViewOptionsClick=function(){if(this.ViewOptions.IsOpen){this.ViewOptions.Close();
}else{this.ViewOptions.Open();
}};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.Refresh=function(){ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"GetGrid_Return").TableGrid__GetGrid(this.GetGridRequest());
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GridToolBar_OnRefresh=function(){this.Refresh();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.ViewOptions_OnRefresh=function(){this.Refresh();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.RowUI_OnSelection=function(){var a=0;
for(var b=0;
b<this.RowUIs.length;
b++){if(this.RowUIs[b].IsSelected){a++;
}}this.get_ViewModel().SelectionCount=a;
this.GridToolBar.SelectionCountChanged();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.SelectAllBox_Click=function(){var b=(this.get_ViewModel().SelectionCount<1);
for(var a=0;
a<this.RowUIs.length;
a++){if(this.RowUIs[a].IsSelected!=b){this.RowUIs[a].SetSelection(b);
}}this.RowUI_OnSelection();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GridToolBar_OnRequestToDeleteSelection=function(){var c=[];
var b=0;
for(var a=0;
a<this.RowUIs.length;
a++){if(this.RowUIs[a].IsSelected){c[b++]=this.RowUIs[a].get_Model().UniqueKey;
}}ASPdatabaseNET.AjaxService.ASPdatabaseService.New(this,"DeleteRecords_Return").TableGrid__DeleteRecords(c);
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.DeleteRecords_Return=function(a){if(ASPdatabaseNET.UI.Errors.ExceptionHandler.Check(a)){return;
}this.Refresh();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.RowUI_OnOpenViewer=function(a){if(this.RecordViewerUI==null){this.RecordViewerUI=new ASPdatabaseNET.UI.TableGrid.RecordViewerUI();
this.RecordViewerUI.Instantiate();
this.RecordViewerUI.OnClose.After.AddHandler(this,"RecordViewerUI_OnClose",0);
this.jRoot.append(this.RecordViewerUI.jRoot);
}this.RecordViewerUI.set_Model(a);
this.RecordViewerUI.GridResponse=this.get_Model();
this.jF(".FrontLevelPage").hide();
this.RecordViewerUI.Open();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.RecordViewerUI_OnClose=function(){this.jF(".FrontLevelPage").show();
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.RowUI.GetCssTree();
a+=ASPdatabaseNET.UI.TableGrid.GridToolBar.GetCssTree();
a+=ASPdatabaseNET.UI.TableGrid.ImportExportUI.GetCssTree();
a+=ASPdatabaseNET.UI.TableGrid.RecordViewerUI.GetCssTree();
a+=ASPdatabaseNET.UI.TableGrid.TableGridMain.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.GetCssRoot=function(){return"\r\n                .TableGridMain { margin: 12px; }\r\n                .TableGridMain .FrontLevelPage { display:block; position:relative; }\r\n\r\n                .TableGridMain .Holder_GridToolBar { max-width: 880px; }\r\n                .TableGridMain .Holder_ImportExportUI { max-width: 880px; min-width: 55em; position:absolute; top: 2.25em; left: 0em; z-index: 1000; }\r\n                .TableGridMain .Holder_ViewOptions { max-width: 880px; min-width: 55em; position:absolute; top: 2.25em; left: 0em; z-index: 1000; }\r\n\r\n                .TableGridMain .TableScrollDiv { font-size: .9em; }\r\n                .TableGridMain .TableScrollDiv .TableGridTable { font-size: .85em; }\r\n                .TableGridMain .TableScrollDiv .TableGridTable tr th { background: #464f5b; color: #fff; font-weight: normal; text-align: left; white-space:nowrap; \r\n                                                                       border: 1px solid #fff; border-width: 1px 1px 1px 0px; padding: 2px 6px; }\r\n\r\n                .TableGridMain .TableScrollDiv .TableGridTable .SelectAllBox { cursor:pointer; }\r\n                .TableGridMain .TableScrollDiv .TableGridTable .SelectAllBox:hover { background: #42a4ed; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.TableGridMain.prototype.GetHtmlRoot=function(){return"\r\n            <div class='FrontLevelPage'>\r\n                <div class='Holder_GridToolBar'></div>\r\n                <div class='Holder_ImportExportUI'></div>\r\n                <div class='Holder_ViewOptions'></div>\r\n\r\n                <div class='TableScrollDiv AutoResizeXY' AutoResize_RightSpace='0'>\r\n                    <table class='TableGridTable'>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.TableGridMain,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.ViewOptions=function(){this.HasBeenOpen=false;
this.OnRefresh=new ASPdb.FrameworkUI.JsEvent_BeforeAfter();
this.FilterUIs=null;
this.SortUIs=null;
ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ViewOptions jRoot NoSelect'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.Open_Sub=function(){var a=this.get_ViewModel().FilterAndSort;
if(a.FilterFields==null){a.FilterFields=[];
}for(var d=a.FilterFields.length;
d<5;
d++){a.FilterFields[d]=new ASPdatabaseNET.UI.TableGrid.Objs.ViewOptions_FilterField();
}if(a.SortFields==null){a.SortFields=[];
}for(var d=a.SortFields.length;
d<5;
d++){a.SortFields[d]=new ASPdatabaseNET.UI.TableGrid.Objs.ViewOptions_SortField();
}this.HasBeenOpen=true;
if(this.FilterUIs==null){this.FilterUIs=[];
var b=this.jF(".Holder_FilterUIs").html("");
for(var d=0;
d<5;
d++){this.FilterUIs[d]=new ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI();
this.FilterUIs[d].set_ViewModel(this.get_ViewModel());
this.FilterUIs[d].set_Model(a.FilterFields[d]);
this.FilterUIs[d].Instantiate();
b.append(this.FilterUIs[d].jRoot);
}this.SortUIs=[];
var c=this.jF(".Holder_SortUIs").html("");
for(var d=0;
d<5;
d++){this.SortUIs[d]=new ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI();
this.SortUIs[d].set_ViewModel(this.get_ViewModel());
this.SortUIs[d].set_Model(a.SortFields[d]);
this.SortUIs[d].Instantiate();
c.append(this.SortUIs[d].jRoot);
}}this.RefreshUI();
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.RefreshUI=function(){this.jF(".Txt_DisplayTopNRows").val(this.get_ViewModel().DisplayTopNRows);
for(var a=0;
a<this.FilterUIs.length;
a++){this.FilterUIs[a].Open();
}for(var a=0;
a<this.SortUIs.length;
a++){this.SortUIs[a].Open();
}};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.Update_FiltersAndSorts=function(){if(this.HasBeenOpen){this.get_ViewModel().FilterAndSort.FilterFields=this.Get_FilterFields();
this.get_ViewModel().FilterAndSort.SortFields=this.Get_SortFields();
}};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.Get_FilterFields=function(){var c=[];
if(this.FilterUIs==null){return c;
}var b=0;
for(var a=0;
a<this.FilterUIs.length;
a++){var d=this.FilterUIs[a].GetCurrentModel();
if(d!=null){c[b++]=d;
}}return c;
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.Get_SortFields=function(){var c=[];
if(this.SortUIs==null){return c;
}var b=0;
for(var a=0;
a<this.SortUIs.length;
a++){var d=this.SortUIs[a].GetCurrentModel();
if(d!=null){c[b++]=d;
}}return c;
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.BttnClick_ApplyAndRefresh=function(){var d=ASPdb.FrameworkUI.IntStatic.Parse(this.jF(".Txt_DisplayTopNRows").val(),this.get_ViewModel().DisplayTopNRows);
this.get_ViewModel().DisplayTopNRows=d;
this.jF(".Txt_DisplayTopNRows").val(d);
var b=new ASPdatabaseNET.UI.TableGrid.Objs.GridRequest();
b.TableType=this.get_ViewModel().TableType;
b.Id=this.get_ViewModel().Id;
b.DisplayTopNRows=this.get_ViewModel().DisplayTopNRows;
this.Update_FiltersAndSorts();
b.FilterFields=this.get_ViewModel().FilterAndSort.FilterFields;
b.SortFields=this.get_ViewModel().FilterAndSort.SortFields;
try{var c=(new ASPdb.Ajax.AjaxHelper()).ToJson(b);
localStorage.setItem(this.get_ViewModel().get_LocalStorage_Key_ViewOptions(),c);
}catch(a){}this.Close();
this.OnRefresh.After.Fire();
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.BttnClick_Reset=function(){this.jF(".Txt_DisplayTopNRows").val((new ASPdatabaseNET.UI.TableGrid.Objs.GridViewModel()).DisplayTopNRows);
for(var b=0;
b<this.FilterUIs.length;
b++){this.FilterUIs[b].Reset();
}for(var b=0;
b<this.SortUIs.length;
b++){this.SortUIs[b].Reset();
}try{localStorage.setItem(this.get_ViewModel().get_LocalStorage_Key_ViewOptions(),"");
}catch(a){}};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.BttnClick_Cancel=function(){this.Close();
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.GetCssTree=function(){return""+ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.GetCssTree()+ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.GetCssTree()+ASPdatabaseNET.UI.TableGrid.ViewOptions.GetCssRoot();
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.GetCssRoot=function(){return"\r\n                .ViewOptions { }\r\n                .ViewOptions .Div_BG { background: #464f5b; opacity: 0.65; position:fixed; width: 100%; height: 8000px; top: 0px; left: 0px; }\r\n\r\n                .ViewOptions .InFrontBox { position:relative; background: #f4f4f4; min-height: 15em; box-shadow: 0.125em 0.125em .2em #777; }\r\n                .ViewOptions .InFrontBox .TopLine { height: .5em; background: #eb640a; }\r\n                .ViewOptions .InFrontBox .MainBox { padding: 0.75em 5em 2.5em 1.375em; color: #093a79; }\r\n                .ViewOptions .InFrontBox .MainBox .Bttn1 { font-size: .9em; float:left; margin-right: 0.75em; line-height: 2em; padding: 0em 1em;\r\n                                                           background: #093a79; color: #fff; border-radius: 0em; cursor:pointer; }\r\n                .ViewOptions .InFrontBox .MainBox .Bttn1:hover { background: #000; }\r\n                             \r\n                .ViewOptions .InFrontBox .MainBox .Txt_DisplayTopNRows { border: 1px solid #093a79; width: 80px; text-align:center; }\r\n                             \r\n                .ViewOptions .InFrontBox .MainBox .SubHead { margin: 1.35em 0em .15em; font-size: 1.3em; }\r\n                .ViewOptions .InFrontBox .MainBox .Holder_FilterUIs { }\r\n                .ViewOptions .InFrontBox .MainBox .Holder_SortUIs { }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.ViewOptions.prototype.GetHtmlRoot=function(){return"\r\n                <div class='Div_BG NoSelect' On_Click='Close'>&nbsp;</div>\r\n                <div class='InFrontBox'>\r\n                    <div class='TopLine'><span></span></div>\r\n                    <div class='MainBox'>\r\n                        <div class='Bttn1' On_Click='BttnClick_ApplyAndRefresh'>Apply & Refresh</div>\r\n                        <div class='Bttn1' On_Click='BttnClick_Reset'>Reset</div>\r\n                        <div class='Bttn1' On_Click='BttnClick_Cancel'>Cancel</div>\r\n                        <div class='clear'></div>\r\n                        <br />\r\n                        <br />\r\n                        Display Top <input type='text' class='Txt_DisplayTopNRows' /> Rows\r\n                    \r\n                        <div class='SubHead'>Filter</div>\r\n                        <div class='Holder_FilterUIs'></div>\r\n\r\n                        <div class='SubHead'>Sort By</div>\r\n                        <div class='Holder_SortUIs'></div>\r\n                    </div>\r\n                </div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.ViewOptions,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ViewOptions_SortUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.prototype.Open_Sub=function(){var c=this.jF(".Select_SortColumns").html("").append("<option value=''></option>");
for(var a=0;
a<this.get_ViewModel().AllColumnNames.length;
a++){var b=this.get_ViewModel().AllColumnNames[a];
c.append("<option value='"+b+"'>"+b+"</option>");
}if(this.get_Model().FieldName!=null&&this.get_Model().FieldName.length>0){c.val(this.get_Model().FieldName);
}this.get_Model().Descending=!this.get_Model().Descending;
this.Descending_Click();
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.prototype.Reset=function(){this.jF(".Select_SortColumns").val("");
if(this.get_Model().Descending){this.Descending_Click();
}};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.prototype.GetCurrentModel=function(){this.get_Model().FieldName=this.jF(".Select_SortColumns").val();
if(this.get_Model().FieldName.length<1){return null;
}else{return this.get_Model();
}};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.prototype.Descending_Click=function(){this.get_Model().Descending=!this.get_Model().Descending;
if(this.get_Model().Descending){this.jF(".Checkbox_Descending").attr("checked",true);
this.jF(".Div_Descending").addClass("Div_Descending_On");
}else{this.jF(".Checkbox_Descending").removeAttr("checked");
this.jF(".Div_Descending").removeClass("Div_Descending_On");
}};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.GetCssRoot=function(){return"\r\n                .ViewOptions_SortUI { padding-bottom: .2em; }\r\n                .ViewOptions_SortUI .Select_SortColumns { float:left; width: 20em; max-width: 20em; }\r\n                .ViewOptions_SortUI .Div_Descending { float:left; margin-left: .5em; padding: .2em .75em; cursor:pointer; border-radius: .3em; color: #b3c3dc; }\r\n                .ViewOptions_SortUI .Div_Descending:hover { background: #ccc; }\r\n                .ViewOptions_SortUI .Div_Descending_On { color: #093a8c; }\r\n                .ViewOptions_SortUI .Div_Descending .Checkbox_Descending { }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI.prototype.GetHtmlRoot=function(){return"\r\n                <select class='Select_SortColumns'>\r\n                </select>\r\n                <div class='Div_Descending' On_Click='Descending_Click'>\r\n                    ( <input type='checkbox' class='Checkbox_Descending' /> descending )\r\n                </div>\r\n                <div class='clear'></div>\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.ViewOptions_SortUI,ASPdb.FrameworkUI.MRBPattern);
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI=function(){ASPdb.FrameworkUI.MRBPattern.call(this);
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.prototype.Instantiate_Sub=function(){this.jRoot=$("<div class='ViewOptions_FilterUI jRoot'>");
this.jRoot.append(this.GetHtmlRoot());
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.prototype.Open_Sub=function(){var d=this.jF(".Select_FilterColumns").html("").append("<option value=''></option>");
for(var b=0;
b<this.get_ViewModel().AllColumnNames.length;
b++){var c=this.get_ViewModel().AllColumnNames[b];
d.append("<option value='"+c+"'>"+c+"</option>");
}if(this.get_Model().FieldName!=null&&this.get_Model().FieldName.length>0){d.val(this.get_Model().FieldName);
}var a="Equals";
switch(this.get_Model().FilterType){case 1:a="Equals";
break;
case 10:a="Not";
break;
case 2:a="Contains";
break;
case 3:a="StartsWith";
break;
case 4:a="EndsWith";
break;
case 6:a="LessThan";
break;
case 12:a="LessThanOrEqual";
break;
case 11:a="GreaterThanOrEqual";
break;
case 5:a="GreaterThan";
break;
case 8:a="In";
break;
case 9:a="NotIn";
break;
}this.jF(".Select_FilterTypes").val(a);
this.jF(".Txt_FilterValue").val(this.get_Model().Value);
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.prototype.Reset=function(){this.jF(".Select_FilterColumns").val("");
this.jF(".Select_FilterTypes").val("Equals");
this.jF(".Txt_FilterValue").val("");
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.prototype.GetCurrentModel=function(){this.get_Model().FieldName=this.jF(".Select_FilterColumns").val();
switch(this.jF(".Select_FilterTypes").val()){case"Equals":this.get_Model().FilterType=1;
break;
case"Not":this.get_Model().FilterType=10;
break;
case"Contains":this.get_Model().FilterType=2;
break;
case"StartsWith":this.get_Model().FilterType=3;
break;
case"EndsWith":this.get_Model().FilterType=4;
break;
case"LessThan":this.get_Model().FilterType=6;
break;
case"LessThanOrEqual":this.get_Model().FilterType=12;
break;
case"GreaterThanOrEqual":this.get_Model().FilterType=11;
break;
case"GreaterThan":this.get_Model().FilterType=5;
break;
case"In":this.get_Model().FilterType=8;
break;
case"NotIn":this.get_Model().FilterType=9;
break;
default:this.get_Model().FilterType=0;
break;
}this.get_Model().Value=this.jF(".Txt_FilterValue").val();
if(this.get_Model().FieldName.length<1||this.get_Model().FilterType==0||this.get_Model().Value.length<1){return null;
}else{return this.get_Model();
}};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.GetCssTree=function(){var a="";
a+=ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.GetCssRoot();
return a;
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.GetCssRoot=function(){return"\r\n                .ViewOptions_FilterUI { padding-bottom: .3em; }\r\n                .ViewOptions_FilterUI .Select_FilterColumns { float:left; width: 17em; max-width: 17em; margin-right: 1em; }\r\n                .ViewOptions_FilterUI .Select_FilterTypes { float:left; width: 9em; max-width: 9em; margin-right: 1em; }\r\n                .ViewOptions_FilterUI .Txt_FilterValue { width: 20em; max-width: 20em; border: 1px solid #093a79; }\r\n            ";
};
ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI.prototype.GetHtmlRoot=function(){return"\r\n                <select class='Select_FilterColumns'>\r\n                </select>\r\n                <select class='Select_FilterTypes'>\r\n                    <option value='Equals'>&nbsp; ==</span></option>\r\n                    <option value='Not'>&nbsp; Not</span></option>\r\n                    <option value='Contains'>&nbsp; Contains</option>\r\n                    <option value='StartsWith'>&nbsp; Starts With</option>\r\n                    <option value='EndsWith'>&nbsp; Ends With</option>\r\n                    <option value='LessThan'>&nbsp; &lt;</option>\r\n                    <option value='LessThanOrEqual'>&nbsp; &lt;=</option>\r\n                    <option value='GreaterThanOrEqual'>&nbsp; &gt;=</option>\r\n                    <option value='GreaterThan'>&nbsp; &gt;</option>\r\n                    <option value='In'>&nbsp; In (comma separated list)</option>\r\n                    <option value='NotIn'>&nbsp; Not In (comma separated list)</option>\r\n                </select>\r\n                <input type='text' class='Txt_FilterValue' />\r\n            ";
};
$Inherit(ASPdatabaseNET.UI.TableGrid.ViewOptions_FilterUI,ASPdb.FrameworkUI.MRBPattern);
if(typeof(ASPdatabaseNET.Users)=="undefined"){ASPdatabaseNET.Users={};
}ASPdatabaseNET.Users.AllPermissionsInfo=function(){this.UserId=0;
this.IsAdmin=false;
this.PermissionValuesDict=null;
};
ASPdatabaseNET.Users.AllPermissionsInfo.prototype.CheckPermissions=function(a,f,g){if(this.IsAdmin){return(function(){var h=new ASPdatabaseNET.Users.PermissionValues();
h.View=true;
h.Edit=true;
h.Insert=true;
h.Delete=true;
return h;
}).call(this);
}var e=new ASPdatabaseNET.Users.PermissionValues();
if(this.PermissionValuesDict==null){return e;
}var b="C_"+a;
var c="S_"+a+"_"+f.toLowerCase();
var d="T_"+a+"_"+f.toLowerCase()+"_"+g;
if(this.PermissionValuesDict.ContainsKey(b)){this.UpdateTrues_InPermissionValues(this.PermissionValuesDict.get_Item$$TKey(b),e);
}if(this.PermissionValuesDict.ContainsKey(c)){this.UpdateTrues_InPermissionValues(this.PermissionValuesDict.get_Item$$TKey(c),e);
}if(this.PermissionValuesDict.ContainsKey(d)){this.UpdateTrues_InPermissionValues(this.PermissionValuesDict.get_Item$$TKey(d),e);
}if(!e.View){if(e.Edit||e.Insert||e.Delete){e.View=true;
}}return e;
};
ASPdatabaseNET.Users.AllPermissionsInfo.prototype.UpdateTrues_InPermissionValues=function(a,b){if(a.View){b.View=true;
}if(a.Edit){b.Edit=true;
}if(a.Insert){b.Insert=true;
}if(a.Delete){b.Delete=true;
}};
ASPdatabaseNET.Users.PermissionValues=function(){this.View=false;
this.Edit=false;
this.Insert=false;
this.Delete=false;
};
ASPdatabaseNET.Users.UserInfo=function(){this.UserId=0;
this.Username=null;
this.Email=null;
this.FirstName=null;
this.LastName=null;
this.Active=false;
this.IsAdmin=false;
this.AllPermissions=null;
};
ASPdatabaseNET.Users.UserSessionClient=function(){this.UserInfo=null;
this.IsLoggedIn=false;
this.IsAdmin=false;
this.Impersonation_IsAllowed=false;
this.Impersonation_IsOn=false;
this.Impersonation_ActualUser=null;
};
ASPdatabaseNET.Users.UserSessionClient.Set=function(userSessionClient){var value=userSessionClient;
eval("document.ASPdatabaseNET_Users_UserSessionClient = value;");
};
ASPdatabaseNET.Users.UserSessionClient.Get=function(){try{var rtn=null;
eval("rtn = document.ASPdatabaseNET_Users_UserSessionClient;");
return rtn;
}catch($$e23){}return null;
};
if(typeof(ASPdatabaseNET.AjaxService)=="undefined"){ASPdatabaseNET.AjaxService={};
}ASPdatabaseNET.AjaxService.ASPdatabaseService=function(){ASPdb.Ajax.AjaxServiceProxy.call(this);
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.Bind=function(a){return ASPdatabaseNET.AjaxService.ASPdatabaseService.Bind2(a,"AjaxReturn");
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.Bind2=function(b,a){var c=ASPdatabaseNET.AjaxService.ASPdatabaseService.New(b,a);
c.Bind();
return c;
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.New=function(b,a){var c=new ASPdatabaseNET.AjaxService.ASPdatabaseService();
c.SetCallback(b,a,null);
return c;
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.New1=function(c,b,a){var d=new ASPdatabaseNET.AjaxService.ASPdatabaseService();
d.SetCallback(c,b,a);
return d;
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.NoEncryption=function(){this.Ajax.DoEncryption=false;
return this;
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.YesEncryption=function(){this.Ajax.DoEncryption=true;
return this;
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.YesEncryption_IfNotHttps=function(){this.Ajax.DoEncryption=true;
return this;
};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Subscription__GetInfo=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Subscription__GetInfo";
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Subscription.Backend.SubscriptionLogic.GetInfo();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Subscription__SaveKey=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Subscription__SaveKey";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Subscription.Backend.SubscriptionLogic.SetKey(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Subscription__RemoveKey=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Subscription__RemoveKey";
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Subscription.Backend.SubscriptionLogic.RemoveKey();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Subscription__Refresh=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Subscription__Refresh";
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Subscription.Backend.SubscriptionLogic.Refresh();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.PingServerTime=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="PingServerTime";
this.Ajax.Send();
return null;
}else{return System.DateTime.get_Now().toString();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.AboutPage_GetInfo=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="AboutPage_GetInfo";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.About.Backend.AboutPageLogic.Get();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Guid__GetNewGuidString=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Guid__GetNewGuidString";
this.Ajax.Send();
return null;
}else{return System.Guid.NewGuid().toString();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ImportExport__GetUploadedExcelInfo=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="ImportExport__GetUploadedExcelInfo";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.TableGrid.Backend.ImportExportLogic.Get_ImportExcelInfo_ForClient(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Install__GetInstallState=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Install__GetInstallState";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Install.Backend.InstallLogic.GetInstallState();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Install__InstallSQL=function(b,a,d,e,c){if(this.IsClientCode){this.Ajax.RemoteMethod="Install__InstallSQL";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=a;
this.Ajax.Parameters[2]=d;
this.Ajax.Parameters[3]=e;
this.Ajax.Parameters[4]=c;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Install.Backend.InstallLogic.InstallSQL(b,a,d,e,c);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.HomePage__GetInfo=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="HomePage__GetInfo";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.HomePage.Backend.HomePageLogic.GetInfo();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Feedback__GetInfo=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Feedback__GetInfo";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.SendFeedback.Backend.FeedbackLogic.GetInfo();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Feedback__Send=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Feedback__Send";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.SendFeedback.Backend.FeedbackLogic.Send(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.MyAccount__GetInfo=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="MyAccount__GetInfo";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.MyAccount.Backend.MyAccountLogic.GetInfo();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.MyAccount__Save=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="MyAccount__Save";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.UI.PageParts.MyAccount.Backend.MyAccountLogic.Save(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.MyAccount__ResetPassword=function(a,d,b,c){if(this.IsClientCode){this.Ajax.RemoteMethod="MyAccount__ResetPassword";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Parameters[1]=d;
this.Ajax.Parameters[2]=b;
this.Ajax.Parameters[3]=c;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.UI.PageParts.MyAccount.Backend.MyAccountLogic.ResetPassword(a,d,b,c);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Global__GetLogoBoxModel=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Global__GetLogoBoxModel";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.GlobalParts.Backend.LogoBoxLogic.Get();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Global__GetSiteNav=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Global__GetSiteNav";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DataAccess.NavCRUD.GetSiteNav(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableGrid__GetGrid=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableGrid__GetGrid";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.TableGrid.Backend.TableGridLogic.GetGrid(a,true);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableGrid__DeleteRecords=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableGrid__DeleteRecords";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return false;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.TableGrid.Backend.TableGridLogic.DeleteRecords(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Record__Get=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Record__Get";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Record.Backend.RecordLogic.Get(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Record__GetClone=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Record__GetClone";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Record.Backend.RecordLogic.GetClone(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Record__Save=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Record__Save";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Record.Backend.RecordLogic.Save(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.History__GetSummary=function(c,a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="History__GetSummary";
this.Ajax.Parameters[0]=c;
this.Ajax.Parameters[1]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Parameters[2]=b;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Record.Backend.HistoryLogic.Get_HistorySummary(c,a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.History__GetCount=function(b,a){if(this.IsClientCode){this.Ajax.RemoteMethod="History__GetCount";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return -1;
}else{return ASPdatabaseNET.UI.PageParts.Record.Backend.HistoryLogic.Get_HistoryCount(b,a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.History__GetRecords=function(c,a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="History__GetRecords";
this.Ajax.Parameters[0]=c;
this.Ajax.Parameters[1]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Parameters[2]=b;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Record.Backend.HistoryLogic.Get_HistoryRecords(c,a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.History__GetRecord=function(b,a){if(this.IsClientCode){this.Ajax.RemoteMethod="History__GetRecord";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Record.Backend.HistoryLogic.Get_HistoryRecord(b,a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__GetMenuInfo=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__GetMenuInfo";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.GetMenuInfo();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__GetUser=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__GetUser";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.GetUser(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__GetGroup=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__GetGroup";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.GetGroup(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__SaveUser=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__SaveUser";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return -1;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.SaveUser(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__SaveGroup=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__SaveGroup";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return -1;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.SaveGroup(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__DeleteUser=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__DeleteUser";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.DeleteUser(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__DeleteGroup=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__DeleteGroup";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.DeleteGroup(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__SavePassword=function(b,a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__SavePassword";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=a;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.SavePassword$$Int32$$String(b,a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Users__SendPasswordLink=function(b,a){if(this.IsClientCode){this.Ajax.RemoteMethod="Users__SendPasswordLink";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=a;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.UI.PageParts.Users.Backend.UsersLogic.SendPasswordLink$$Int32$$String(b,a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__GetSessionPublicKey=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__GetSessionPublicKey";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.Users.UserSessionLogic.GetSessionPublicKey();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__SendAESKey=function(a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__SendAESKey";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=b;
this.Ajax.Send();
return false;
}else{return ASPdatabaseNET.Users.UserSessionLogic.CaptureAESKey(a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__SendAESTest=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__SendAESTest";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.Users.UserSessionLogic.ReceiveAESTest(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__Login=function(b,a){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__Login";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.Users.UserSessionLogic.Login(b,a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__GetUserSession=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__GetUserSession";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.Users.UserSessionLogic.GetUserSession_ForClient();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__GetImpersonationList=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__GetImpersonationList";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.Users.UserSessionLogic.GetImpersonationList();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__SetImpersonationUser=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__SetImpersonationUser";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return false;
}else{return ASPdatabaseNET.Users.UserSessionLogic.SetImpersonationUser(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.Authentication__IsInDemoMode=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="Authentication__IsInDemoMode";
this.Ajax.Send();
return false;
}else{return ASPdatabaseNET.Users.UserSessionLogic.get_IsInDemoMode();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.DatabaseConnections__GetList=function(){if(this.IsClientCode){this.Ajax.RemoteMethod="DatabaseConnections__GetList";
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DataAccess.DatabaseConnectionsCRUD.GetList();
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.DatabaseConnections__Get=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="DatabaseConnections__Get";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DataAccess.DatabaseConnectionsCRUD.Get(a,this.IsInDemoMode());
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.DatabaseConnections__Test=function(a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="DatabaseConnections__Test";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Parameters[1]=b;
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.DataAccess.DatabaseConnectionsCRUD.Test(a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.DatabaseConnections__Save=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="DatabaseConnections__Save";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.DataAccess.DatabaseConnectionsCRUD.Save(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.DatabaseConnections__Delete=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="DatabaseConnections__Delete";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.DataAccess.DatabaseConnectionsCRUD.Delete(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__GetAssetsLists=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__GetAssetsLists";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DataAccess.ManageAssetsCRUD.GetAssetsLists(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Tables_ShowHide=function(a,c,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Tables_ShowHide";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=c;
this.Ajax.Parameters[2]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DataAccess.SQLObjectsCRUD.ASPdb_Table__ShowHide(a,c,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Tables_Rename=function(a,c,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Tables_Rename";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=c;
this.Ajax.Parameters[2]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DataAccess.SQLObjectsCRUD.ASPdb_Table__Rename(a,c,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Tables_Delete=function(a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Tables_Delete";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DataAccess.SQLObjectsCRUD.ASPdb_Table__Delete(a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Views_ShowHide=function(a,c,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Views_ShowHide";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=c;
this.Ajax.Parameters[2]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DataAccess.SQLObjectsCRUD.ASPdb_View__ShowHide(a,c,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Views_Rename=function(a,c,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Views_Rename";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=c;
this.Ajax.Parameters[2]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DataAccess.SQLObjectsCRUD.ASPdb_View__Rename(a,c,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Schemas__SaveNew=function(a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Schemas__SaveNew";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.GenericInterface.Schemas__SaveNew(a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.ManageAssets__Schemas__Delete=function(a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="ManageAssets__Schemas__Delete";
this.Ajax.Parameters[0]=a;
this.Ajax.Parameters[1]=b;
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.GenericInterface.Schemas__Delete(a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__GetInfo_ForCreateNew=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__GetInfo_ForCreateNew";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DataAccess.TableDesignCRUD.GetInfo_ForCreateNew(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__GetInfo_ForModify=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__GetInfo_ForModify";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DataAccess.TableDesignCRUD.GetInfo_ForModify(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__CreateTable=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__CreateTable";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.DbInterfaces.SQLServerInterface.Table__Create(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__UpdateTable=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__UpdateTable";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{this.CheckForDemoMode();
return ASPdatabaseNET.DbInterfaces.SQLServerInterface.Table__Update(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__PrimaryKey__Get=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__PrimaryKey__Get";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DbInterfaces.SQLServerInterface.PrimaryKey__Get$$Int32(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__PrimaryKey__Create=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__PrimaryKey__Create";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.PrimaryKey__Create(a,true);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__PrimaryKey__Update=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__PrimaryKey__Update";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.PrimaryKey__Update(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__PrimaryKey__Delete=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__PrimaryKey__Delete";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.PrimaryKey__Delete(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__Indexes__Get=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__Indexes__Get";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DbInterfaces.SQLServerInterface.Index__Get(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__Indexes__Create=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__Indexes__Create";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.Index__Create(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__Indexes__Update=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__Indexes__Update";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.Index__Update(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__Indexes__Delete=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__Indexes__Delete";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.Index__Delete(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__ForeignKeys__Get=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__ForeignKeys__Get";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.DbInterfaces.SQLServerInterface.ForeignKey__Get$$TableStructure(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__ForeignKeys__Create=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__ForeignKeys__Create";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.ForeignKey__Create(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__ForeignKeys__Update=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__ForeignKeys__Update";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.ForeignKey__Update(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__ForeignKeys__Delete=function(a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__ForeignKeys__Delete";
this.Ajax.Parameters[0]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
}else{this.CheckForDemoMode();
ASPdatabaseNET.DbInterfaces.SQLServerInterface.ForeignKey__Delete(a);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__AppProperties__Get=function(a,b){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__AppProperties__Get";
this.Ajax.Parameters[0]=a;
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Backend.AppPropertiesLogic.Get(a,b);
}};
ASPdatabaseNET.AjaxService.ASPdatabaseService.prototype.TableDesign__AppProperties__Save=function(b,a){if(this.IsClientCode){this.Ajax.RemoteMethod="TableDesign__AppProperties__Save";
this.Ajax.Parameters[0]=b;
this.Ajax.Parameters[1]=ASPdb.Ajax.AjaxHelper.get_New().ToJson(a);
this.Ajax.Send();
return null;
}else{return ASPdatabaseNET.UI.PageParts.TableDesign.AppProperties.Backend.AppPropertiesLogic.Save(b,a);
}};
$Inherit(ASPdatabaseNET.AjaxService.ASPdatabaseService,ASPdb.Ajax.AjaxServiceProxy);
/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<
32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,
2),16)<<24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data");}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},
q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=x.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this._minBufferSize,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this._doProcessBlock(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return(new n.HMAC.init(a,
e)).finalize(b)}}});var n=d.algo={};return d}(Math);
(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<
l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();
(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),
f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,
m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,
E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/
4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);
(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,
l)}})();
CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},
finalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=
c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,
e,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,
this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,
1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},
decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,
b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();
(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,
16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>
8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=
d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();
var JSEncryptExports = {};
(function(exports) {
function BigInteger(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}function am1(a,b,c,d,e,f){for(;--f>=0;){var g=b*this[a++]+c[d]+e;e=Math.floor(g/67108864),c[d++]=67108863&g}return e}function am2(a,b,c,d,e,f){for(var g=32767&b,h=b>>15;--f>=0;){var i=32767&this[a],j=this[a++]>>15,k=h*i+j*g;i=g*i+((32767&k)<<15)+c[d]+(1073741823&e),e=(i>>>30)+(k>>>15)+h*j+(e>>>30),c[d++]=1073741823&i}return e}function am3(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;i=g*i+((16383&k)<<14)+c[d]+e,e=(i>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e}function int2char(a){return BI_RM.charAt(a)}function intAt(a,b){var c=BI_RC[a.charCodeAt(b)];return null==c?-1:c}function bnpCopyTo(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s}function bnpFromInt(a){this.t=1,this.s=0>a?-1:0,a>0?this[0]=a:-1>a?this[0]=a+DV:this.t=0}function nbv(a){var b=nbi();return b.fromInt(a),b}function bnpFromString(a,b){var c;if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else{if(4!=b)return void this.fromRadix(a,b);c=2}this.t=0,this.s=0;for(var d=a.length,e=!1,f=0;--d>=0;){var g=8==c?255&a[d]:intAt(a,d);0>g?"-"==a.charAt(d)&&(e=!0):(e=!1,0==f?this[this.t++]=g:f+c>this.DB?(this[this.t-1]|=(g&(1<<this.DB-f)-1)<<f,this[this.t++]=g>>this.DB-f):this[this.t-1]|=g<<f,f+=c,f>=this.DB&&(f-=this.DB))}8==c&&0!=(128&a[0])&&(this.s=-1,f>0&&(this[this.t-1]|=(1<<this.DB-f)-1<<f)),this.clamp(),e&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}function bnToString(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var c,d=(1<<b)-1,e=!1,f="",g=this.t,h=this.DB-g*this.DB%b;if(g-->0)for(h<this.DB&&(c=this[g]>>h)>0&&(e=!0,f=int2char(c));g>=0;)b>h?(c=(this[g]&(1<<h)-1)<<b-h,c|=this[--g]>>(h+=this.DB-b)):(c=this[g]>>(h-=b)&d,0>=h&&(h+=this.DB,--g)),c>0&&(e=!0),e&&(f+=int2char(c));return e?f:"0"}function bnNegate(){var a=nbi();return BigInteger.ZERO.subTo(this,a),a}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(b=c-a.t,0!=b)return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0}function nbits(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s}function bnpDRShiftTo(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s}function bnpLShiftTo(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()}function bnpRShiftTo(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)return void(b.t=0);var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}function bnpSubTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0,-1>d?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()}function bnpMultiplyTo(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;--e>=0;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0,b.clamp(),this.s!=a.s&&BigInteger.ZERO.subTo(b,b)}function bnpSquareTo(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()}function bnpDivRemTo(a,b,c){var d=a.abs();if(!(d.t<=0)){var e=this.abs();if(e.t<d.t)return null!=b&&b.fromInt(0),void(null!=c&&this.copyTo(c));null==c&&(c=nbi());var f=nbi(),g=this.s,h=a.s,i=this.DB-nbits(d[d.t-1]);i>0?(d.lShiftTo(i,f),e.lShiftTo(i,c)):(d.copyTo(f),e.copyTo(c));var j=f.t,k=f[j-1];if(0!=k){var l=k*(1<<this.F1)+(j>1?f[j-2]>>this.F2:0),m=this.FV/l,n=(1<<this.F1)/l,o=1<<this.F2,p=c.t,q=p-j,r=null==b?nbi():b;for(f.dlShiftTo(q,r),c.compareTo(r)>=0&&(c[c.t++]=1,c.subTo(r,c)),BigInteger.ONE.dlShiftTo(j,r),r.subTo(f,f);f.t<j;)f[f.t++]=0;for(;--q>=0;){var s=c[--p]==k?this.DM:Math.floor(c[p]*m+(c[p-1]+o)*n);if((c[p]+=f.am(0,s,c,q,0,j))<s)for(f.dlShiftTo(q,r),c.subTo(r,c);c[p]<--s;)c.subTo(r,c)}null!=b&&(c.drShiftTo(j,b),g!=h&&BigInteger.ZERO.subTo(b,b)),c.t=j,c.clamp(),i>0&&c.rShiftTo(i,c),0>g&&BigInteger.ZERO.subTo(c,c)}}}function bnMod(a){var b=nbi();return this.abs().divRemTo(a,null,b),this.s<0&&b.compareTo(BigInteger.ZERO)>0&&a.subTo(b,b),b}function Classic(a){this.m=a}function cConvert(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function cSqrTo(a,b){a.squareTo(b),this.reduce(b)}function bnpInvDigit(){if(this.t<1)return 0;var a=this[0];if(0==(1&a))return 0;var b=3&a;return b=b*(2-(15&a)*b)&15,b=b*(2-(255&a)*b)&255,b=b*(2-((65535&a)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV,b>0?this.DV-b:-b}function Montgomery(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function montConvert(a){var b=nbi();return a.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),a.s<0&&b.compareTo(BigInteger.ZERO)>0&&this.m.subTo(b,b),b}function montRevert(a){var b=nbi();return a.copyTo(b),this.reduce(b),b}function montReduce(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function montSqrTo(a,b){a.squareTo(b),this.reduce(b)}function montMulTo(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(a,b){if(a>4294967295||1>a)return BigInteger.ONE;var c=nbi(),d=nbi(),e=b.convert(this),f=nbits(a)-1;for(e.copyTo(c);--f>=0;)if(b.sqrTo(c,d),(a&1<<f)>0)b.mulTo(d,e,c);else{var g=c;c=d,d=g}return b.revert(c)}function bnModPowInt(a,b){var c;return c=256>a||b.isEven()?new Classic(b):new Montgomery(b),this.exp(a,c)}function bnClone(){var a=nbi();return this.copyTo(a),a}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(a){if(null==a&&(a=10),0==this.signum()||2>a||a>36)return"0";var b=this.chunkSize(a),c=Math.pow(a,b),d=nbv(c),e=nbi(),f=nbi(),g="";for(this.divRemTo(d,e,f);e.signum()>0;)g=(c+f.intValue()).toString(a).substr(1)+g,e.divRemTo(d,e,f);return f.intValue().toString(a)+g}function bnpFromRadix(a,b){this.fromInt(0),null==b&&(b=10);for(var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,f=0,g=0,h=0;h<a.length;++h){var i=intAt(a,h);0>i?"-"==a.charAt(h)&&0==this.signum()&&(e=!0):(g=b*g+i,++f>=c&&(this.dMultiply(d),this.dAddOffset(g,0),f=0,g=0))}f>0&&(this.dMultiply(Math.pow(b,f)),this.dAddOffset(g,0)),e&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(a,b,c){if("number"==typeof b)if(2>a)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{var d=new Array,e=7&a;d.length=(a>>3)+1,b.nextBytes(d),e>0?d[0]&=(1<<e)-1:d[0]=0,this.fromString(d,256)}}function bnToByteArray(){var a=this.t,b=new Array;b[0]=this.s;var c,d=this.DB-a*this.DB%8,e=0;if(a-->0)for(d<this.DB&&(c=this[a]>>d)!=(this.s&this.DM)>>d&&(b[e++]=c|this.s<<this.DB-d);a>=0;)8>d?(c=(this[a]&(1<<d)-1)<<8-d,c|=this[--a]>>(d+=this.DB-8)):(c=this[a]>>(d-=8)&255,0>=d&&(d+=this.DB,--a)),0!=(128&c)&&(c|=-256),0==e&&(128&this.s)!=(128&c)&&++e,(e>0||c!=this.s)&&(b[e++]=c);return b}function bnEquals(a){return 0==this.compareTo(a)}function bnMin(a){return this.compareTo(a)<0?this:a}function bnMax(a){return this.compareTo(a)>0?this:a}function bnpBitwiseTo(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;f>d;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){for(e=a.s&this.DM,d=f;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{for(e=this.s&this.DM,d=f;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s),c.clamp()}function op_and(a,b){return a&b}function bnAnd(a){var b=nbi();return this.bitwiseTo(a,op_and,b),b}function op_or(a,b){return a|b}function bnOr(a){var b=nbi();return this.bitwiseTo(a,op_or,b),b}function op_xor(a,b){return a^b}function bnXor(a){var b=nbi();return this.bitwiseTo(a,op_xor,b),b}function op_andnot(a,b){return a&~b}function bnAndNot(a){var b=nbi();return this.bitwiseTo(a,op_andnot,b),b}function bnNot(){for(var a=nbi(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];return a.t=this.t,a.s=~this.s,a}function bnShiftLeft(a){var b=nbi();return 0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b),b}function bnShiftRight(a){var b=nbi();return 0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b),b}function lbit(a){if(0==a)return-1;var b=0;return 0==(65535&a)&&(a>>=16,b+=16),0==(255&a)&&(a>>=8,b+=8),0==(15&a)&&(a>>=4,b+=4),0==(3&a)&&(a>>=2,b+=2),0==(1&a)&&++b,b}function bnGetLowestSetBit(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+lbit(this[a]);return this.s<0?this.t*this.DB:-1}function cbit(a){for(var b=0;0!=a;)a&=a-1,++b;return b}function bnBitCount(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=cbit(this[c]^b);return a}function bnTestBit(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function bnpChangeBit(a,b){var c=BigInteger.ONE.shiftLeft(a);return this.bitwiseTo(c,b,c),c}function bnSetBit(a){return this.changeBit(a,op_or)}function bnClearBit(a){return this.changeBit(a,op_andnot)}function bnFlipBit(a){return this.changeBit(a,op_xor)}function bnpAddTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0,d>0?b[c++]=d:-1>d&&(b[c++]=this.DV+d),b.t=c,b.clamp()}function bnAdd(a){var b=nbi();return this.addTo(a,b),b}function bnSubtract(a){var b=nbi();return this.subTo(a,b),b}function bnMultiply(a){var b=nbi();return this.multiplyTo(a,b),b}function bnSquare(){var a=nbi();return this.squareTo(a),a}function bnDivide(a){var b=nbi();return this.divRemTo(a,b,null),b}function bnRemainder(a){var b=nbi();return this.divRemTo(a,null,b),b}function bnDivideAndRemainder(a){var b=nbi(),c=nbi();return this.divRemTo(a,b,c),new Array(b,c)}function bnpDMultiply(a){this[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function NullExp(){}function nNop(a){return a}function nMulTo(a,b,c){a.multiplyTo(b,c)}function nSqrTo(a,b){a.squareTo(b)}function bnPow(a){return this.exp(a,new NullExp)}function bnpMultiplyLowerTo(a,b,c){var d=Math.min(this.t+a.t,b);for(c.s=0,c.t=d;d>0;)c[--d]=0;var e;for(e=c.t-this.t;e>d;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);e>d;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function bnpMultiplyUpperTo(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;--d>=0;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp(),c.drShiftTo(1,c)}function Barrett(a){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}function barrettConvert(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var b=nbi();return a.copyTo(b),this.reduce(b),b}function barrettRevert(a){return a}function barrettReduce(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)}function barrettSqrTo(a,b){a.squareTo(b),this.reduce(b)}function barrettMulTo(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function bnModPow(a,b){var c,d,e=a.bitLength(),f=nbv(1);if(0>=e)return f;c=18>e?1:48>e?3:144>e?4:768>e?5:6,d=8>e?new Classic(b):b.isEven()?new Barrett(b):new Montgomery(b);var g=new Array,h=3,i=c-1,j=(1<<c)-1;if(g[1]=d.convert(this),c>1){var k=nbi();for(d.sqrTo(g[1],k);j>=h;)g[h]=nbi(),d.mulTo(k,g[h-2],g[h]),h+=2}var l,m,n=a.t-1,o=!0,p=nbi();for(e=nbits(a[n])-1;n>=0;){for(e>=i?l=a[n]>>e-i&j:(l=(a[n]&(1<<e+1)-1)<<i-e,n>0&&(l|=a[n-1]>>this.DB+e-i)),h=c;0==(1&l);)l>>=1,--h;if((e-=h)<0&&(e+=this.DB,--n),o)g[l].copyTo(f),o=!1;else{for(;h>1;)d.sqrTo(f,p),d.sqrTo(p,f),h-=2;h>0?d.sqrTo(f,p):(m=f,f=p,p=m),d.mulTo(p,g[l],f)}for(;n>=0&&0==(a[n]&1<<e);)d.sqrTo(f,p),m=f,f=p,p=m,--e<0&&(e=this.DB-1,--n)}return d.revert(f)}function bnGCD(a){var b=this.s<0?this.negate():this.clone(),c=a.s<0?a.negate():a.clone();if(b.compareTo(c)<0){var d=b;b=c,c=d}var e=b.getLowestSetBit(),f=c.getLowestSetBit();if(0>f)return b;for(f>e&&(f=e),f>0&&(b.rShiftTo(f,b),c.rShiftTo(f,c));b.signum()>0;)(e=b.getLowestSetBit())>0&&b.rShiftTo(e,b),(e=c.getLowestSetBit())>0&&c.rShiftTo(e,c),b.compareTo(c)>=0?(b.subTo(c,b),b.rShiftTo(1,b)):(c.subTo(b,c),c.rShiftTo(1,c));return f>0&&c.lShiftTo(f,c),c}function bnpModInt(a){if(0>=a)return 0;var b=this.DV%a,c=this.s<0?a-1:0;if(this.t>0)if(0==b)c=this[0]%a;else for(var d=this.t-1;d>=0;--d)c=(b*c+this[d])%a;return c}function bnModInverse(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return BigInteger.ZERO;for(var c=a.clone(),d=this.clone(),e=nbv(1),f=nbv(0),g=nbv(0),h=nbv(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,c),b?(e.isEven()&&f.isEven()||(e.addTo(this,e),f.subTo(a,f)),e.rShiftTo(1,e)):f.isEven()||f.subTo(a,f),f.rShiftTo(1,f);for(;d.isEven();)d.rShiftTo(1,d),b?(g.isEven()&&h.isEven()||(g.addTo(this,g),h.subTo(a,h)),g.rShiftTo(1,g)):h.isEven()||h.subTo(a,h),h.rShiftTo(1,h);c.compareTo(d)>=0?(c.subTo(d,c),b&&e.subTo(g,e),f.subTo(h,f)):(d.subTo(c,d),b&&g.subTo(e,g),h.subTo(f,h))}return 0!=d.compareTo(BigInteger.ONE)?BigInteger.ZERO:h.compareTo(a)>=0?h.subtract(a):h.signum()<0?(h.addTo(a,h),h.signum()<0?h.add(a):h):h}function bnIsProbablePrime(a){var b,c=this.abs();if(1==c.t&&c[0]<=lowprimes[lowprimes.length-1]){for(b=0;b<lowprimes.length;++b)if(c[0]==lowprimes[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<lowprimes.length;){for(var d=lowprimes[b],e=b+1;e<lowprimes.length&&lplim>d;)d*=lowprimes[e++];for(d=c.modInt(d);e>b;)if(d%lowprimes[b++]==0)return!1}return c.millerRabin(a)}function bnpMillerRabin(a){var b=this.subtract(BigInteger.ONE),c=b.getLowestSetBit();if(0>=c)return!1;var d=b.shiftRight(c);a=a+1>>1,a>lowprimes.length&&(a=lowprimes.length);for(var e=nbi(),f=0;a>f;++f){e.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var g=e.modPow(d,this);if(0!=g.compareTo(BigInteger.ONE)&&0!=g.compareTo(b)){for(var h=1;h++<c&&0!=g.compareTo(b);)if(g=g.modPowInt(2,this),0==g.compareTo(BigInteger.ONE))return!1;if(0!=g.compareTo(b))return!1}}return!0}function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(a){var b,c,d;for(b=0;256>b;++b)this.S[b]=b;for(c=0,b=0;256>b;++b)c=c+this.S[b]+a[b%a.length]&255,d=this.S[b],this.S[b]=this.S[c],this.S[c]=d;this.i=0,this.j=0}function ARC4next(){var a;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,a=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=a,this.S[a+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}function rng_get_byte(){if(null==rng_state){for(rng_state=prng_newstate();rng_psize>rng_pptr;){var a=Math.floor(65536*Math.random());rng_pool[rng_pptr++]=255&a}for(rng_state.init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(a){var b;for(b=0;b<a.length;++b)a[b]=rng_get_byte()}function SecureRandom(){}function parseBigInt(a,b){return new BigInteger(a,b)}function linebrk(a,b){for(var c="",d=0;d+b<a.length;)c+=a.substring(d,d+b)+"\n",d+=b;return c+a.substring(d,a.length)}function byte2Hex(a){return 16>a?"0"+a.toString(16):a.toString(16)}function pkcs1pad2(a,b){if(b<a.length+11)return console.error("Message too long for RSA"),null;for(var c=new Array,d=a.length-1;d>=0&&b>0;){var e=a.charCodeAt(d--);128>e?c[--b]=e:e>127&&2048>e?(c[--b]=63&e|128,c[--b]=e>>6|192):(c[--b]=63&e|128,c[--b]=e>>6&63|128,c[--b]=e>>12|224)}c[--b]=0;for(var f=new SecureRandom,g=new Array;b>2;){for(g[0]=0;0==g[0];)f.nextBytes(g);c[--b]=g[0]}return c[--b]=2,c[--b]=0,new BigInteger(c)}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function RSASetPublic(a,b){null!=a&&null!=b&&a.length>0&&b.length>0?(this.n=parseBigInt(a,16),this.e=parseInt(b,16)):console.error("Invalid RSA public key")}function RSADoPublic(a){return a.modPowInt(this.e,this.n)}function RSAEncrypt(a){var b=pkcs1pad2(a,this.n.bitLength()+7>>3);if(null==b)return null;var c=this.doPublic(b);if(null==c)return null;var d=c.toString(16);return 0==(1&d.length)?d:"0"+d}function pkcs1unpad2(a,b){for(var c=a.toByteArray(),d=0;d<c.length&&0==c[d];)++d;if(c.length-d!=b-1||2!=c[d])return null;for(++d;0!=c[d];)if(++d>=c.length)return null;for(var e="";++d<c.length;){var f=255&c[d];128>f?e+=String.fromCharCode(f):f>191&&224>f?(e+=String.fromCharCode((31&f)<<6|63&c[d+1]),++d):(e+=String.fromCharCode((15&f)<<12|(63&c[d+1])<<6|63&c[d+2]),d+=2)}return e}function RSASetPrivate(a,b,c){null!=a&&null!=b&&a.length>0&&b.length>0?(this.n=parseBigInt(a,16),this.e=parseInt(b,16),this.d=parseBigInt(c,16)):console.error("Invalid RSA private key")}function RSASetPrivateEx(a,b,c,d,e,f,g,h){null!=a&&null!=b&&a.length>0&&b.length>0?(this.n=parseBigInt(a,16),this.e=parseInt(b,16),this.d=parseBigInt(c,16),this.p=parseBigInt(d,16),this.q=parseBigInt(e,16),this.dmp1=parseBigInt(f,16),this.dmq1=parseBigInt(g,16),this.coeff=parseBigInt(h,16)):console.error("Invalid RSA private key")}function RSAGenerate(a,b){var c=new SecureRandom,d=a>>1;this.e=parseInt(b,16);for(var e=new BigInteger(b,16);;){for(;this.p=new BigInteger(a-d,1,c),0!=this.p.subtract(BigInteger.ONE).gcd(e).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(d,1,c),0!=this.q.subtract(BigInteger.ONE).gcd(e).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var f=this.p;this.p=this.q,this.q=f}var g=this.p.subtract(BigInteger.ONE),h=this.q.subtract(BigInteger.ONE),i=g.multiply(h);if(0==i.gcd(e).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=e.modInverse(i),this.dmp1=this.d.mod(g),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}}function RSADoPrivate(a){if(null==this.p||null==this.q)return a.modPow(this.d,this.n);for(var b=a.mod(this.p).modPow(this.dmp1,this.p),c=a.mod(this.q).modPow(this.dmq1,this.q);b.compareTo(c)<0;)b=b.add(this.p);return b.subtract(c).multiply(this.coeff).mod(this.p).multiply(this.q).add(c)}function RSADecrypt(a){var b=parseBigInt(a,16),c=this.doPrivate(b);return null==c?null:pkcs1unpad2(c,this.n.bitLength()+7>>3)}function hex2b64(a){var b,c,d="";for(b=0;b+3<=a.length;b+=3)c=parseInt(a.substring(b,b+3),16),d+=b64map.charAt(c>>6)+b64map.charAt(63&c);for(b+1==a.length?(c=parseInt(a.substring(b,b+1),16),d+=b64map.charAt(c<<2)):b+2==a.length&&(c=parseInt(a.substring(b,b+2),16),d+=b64map.charAt(c>>2)+b64map.charAt((3&c)<<4));(3&d.length)>0;)d+=b64pad;return d}function b64tohex(a){var b,c,d="",e=0;for(b=0;b<a.length&&a.charAt(b)!=b64pad;++b)v=b64map.indexOf(a.charAt(b)),0>v||(0==e?(d+=int2char(v>>2),c=3&v,e=1):1==e?(d+=int2char(c<<2|v>>4),c=15&v,e=2):2==e?(d+=int2char(c),d+=int2char(v>>2),c=3&v,e=3):(d+=int2char(c<<2|v>>4),d+=int2char(15&v),e=0));return 1==e&&(d+=int2char(c<<2)),d}function b64toBA(a){var b,c=b64tohex(a),d=new Array;for(b=0;2*b<c.length;++b)d[b]=parseInt(c.substring(2*b,2*b+2),16);return d}var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;for(rr="0".charCodeAt(0),vv=0;9>=vv;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=(1<<26)/lowprimes[lowprimes.length-1];BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,BigInteger.prototype.square=bnSquare,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256,rng_state,rng_pool,rng_pptr;if(null==rng_pool){rng_pool=new Array,rng_pptr=0;var t;if(window.crypto&&window.crypto.getRandomValues){var z=new Uint32Array(256);for(window.crypto.getRandomValues(z),t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z[t]}var onMouseMoveListener=function(a){if(this.count=this.count||0,this.count>=256||rng_pptr>=rng_psize)return void(window.removeEventListener?window.removeEventListener("mousemove",onMouseMoveListener):window.detachEvent&&window.detachEvent("onmousemove",onMouseMoveListener));this.count+=1;var b=a.x+a.y;rng_pool[rng_pptr++]=255&b};window.addEventListener?window.addEventListener("mousemove",onMouseMoveListener):window.attachEvent&&window.attachEvent("onmousemove",onMouseMoveListener)}SecureRandom.prototype.nextBytes=rng_get_bytes,RSAKey.prototype.doPublic=RSADoPublic,RSAKey.prototype.setPublic=RSASetPublic,RSAKey.prototype.encrypt=RSAEncrypt,RSAKey.prototype.doPrivate=RSADoPrivate,RSAKey.prototype.setPrivate=RSASetPrivate,RSAKey.prototype.setPrivateEx=RSASetPrivateEx,RSAKey.prototype.generate=RSAGenerate,RSAKey.prototype.decrypt=RSADecrypt,function(){var a=function(a,b,c){var d=new SecureRandom,e=a>>1;this.e=parseInt(b,16);var f=new BigInteger(b,16),g=this,h=function(){var b=function(){if(g.p.compareTo(g.q)<=0){var a=g.p;g.p=g.q,g.q=a}var b=g.p.subtract(BigInteger.ONE),d=g.q.subtract(BigInteger.ONE),e=b.multiply(d);0==e.gcd(f).compareTo(BigInteger.ONE)?(g.n=g.p.multiply(g.q),g.d=f.modInverse(e),g.dmp1=g.d.mod(b),g.dmq1=g.d.mod(d),g.coeff=g.q.modInverse(g.p),setTimeout(function(){c()},0)):setTimeout(h,0)},i=function(){g.q=nbi(),g.q.fromNumberAsync(e,1,d,function(){g.q.subtract(BigInteger.ONE).gcda(f,function(a){0==a.compareTo(BigInteger.ONE)&&g.q.isProbablePrime(10)?setTimeout(b,0):setTimeout(i,0)})})},j=function(){g.p=nbi(),g.p.fromNumberAsync(a-e,1,d,function(){g.p.subtract(BigInteger.ONE).gcda(f,function(a){0==a.compareTo(BigInteger.ONE)&&g.p.isProbablePrime(10)?setTimeout(i,0):setTimeout(j,0)})})};setTimeout(j,0)};setTimeout(h,0)};RSAKey.prototype.generateAsync=a;var b=function(a,b){var c=this.s<0?this.negate():this.clone(),d=a.s<0?a.negate():a.clone();if(c.compareTo(d)<0){var e=c;c=d,d=e}var f=c.getLowestSetBit(),g=d.getLowestSetBit();if(0>g)return void b(c);g>f&&(g=f),g>0&&(c.rShiftTo(g,c),d.rShiftTo(g,d));var h=function(){(f=c.getLowestSetBit())>0&&c.rShiftTo(f,c),(f=d.getLowestSetBit())>0&&d.rShiftTo(f,d),c.compareTo(d)>=0?(c.subTo(d,c),c.rShiftTo(1,c)):(d.subTo(c,d),d.rShiftTo(1,d)),c.signum()>0?setTimeout(h,0):(g>0&&d.lShiftTo(g,d),setTimeout(function(){b(d)},0))};setTimeout(h,10)};BigInteger.prototype.gcda=b;var c=function(a,b,c,d){if("number"==typeof b)if(2>a)this.fromInt(1);else{this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);var e=this,f=function(){e.dAddOffset(2,0),e.bitLength()>a&&e.subTo(BigInteger.ONE.shiftLeft(a-1),e),e.isProbablePrime(b)?setTimeout(function(){d()},0):setTimeout(f,0)};setTimeout(f,0)}else{var g=new Array,h=7&a;g.length=(a>>3)+1,b.nextBytes(g),h>0?g[0]&=(1<<h)-1:g[0]=0,this.fromString(g,256)}};BigInteger.prototype.fromNumberAsync=c}();var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64pad="=",JSX=JSX||{};JSX.env=JSX.env||{};var L=JSX,OP=Object.prototype,FUNCTION_TOSTRING="[object Function]",ADD=["toString","valueOf"];JSX.env.parseUA=function(a){var b,c=function(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 1==b++?"":"."}))},d=navigator,e={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:d&&d.cajaVersion,secure:!1,os:null},f=a||navigator&&navigator.userAgent,g=window&&window.location,h=g&&g.href;return e.secure=h&&0===h.toLowerCase().indexOf("https"),f&&(/windows|win32/i.test(f)?e.os="windows":/macintosh/i.test(f)?e.os="macintosh":/rhino/i.test(f)&&(e.os="rhino"),/KHTML/.test(f)&&(e.webkit=1),b=f.match(/AppleWebKit\/([^\s]*)/),b&&b[1]&&(e.webkit=c(b[1]),/ Mobile\//.test(f)?(e.mobile="Apple",b=f.match(/OS ([^\s]*)/),b&&b[1]&&(b=c(b[1].replace("_","."))),e.ios=b,e.ipad=e.ipod=e.iphone=0,b=f.match(/iPad|iPod|iPhone/),b&&b[0]&&(e[b[0].toLowerCase()]=e.ios)):(b=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),b&&(e.mobile=b[0]),/webOS/.test(f)&&(e.mobile="WebOS",b=f.match(/webOS\/([^\s]*);/),b&&b[1]&&(e.webos=c(b[1]))),/ Android/.test(f)&&(e.mobile="Android",b=f.match(/Android ([^\s]*);/),b&&b[1]&&(e.android=c(b[1])))),b=f.match(/Chrome\/([^\s]*)/),b&&b[1]?e.chrome=c(b[1]):(b=f.match(/AdobeAIR\/([^\s]*)/),b&&(e.air=b[0]))),e.webkit||(b=f.match(/Opera[\s\/]([^\s]*)/),b&&b[1]?(e.opera=c(b[1]),b=f.match(/Version\/([^\s]*)/),b&&b[1]&&(e.opera=c(b[1])),b=f.match(/Opera Mini[^;]*/),b&&(e.mobile=b[0])):(b=f.match(/MSIE\s([^;]*)/),b&&b[1]?e.ie=c(b[1]):(b=f.match(/Gecko\/([^\s]*)/),b&&(e.gecko=1,b=f.match(/rv:([^\s\)]*)/),b&&b[1]&&(e.gecko=c(b[1]))))))),e},JSX.env.ua=JSX.env.parseUA(),JSX.isFunction=function(a){return"function"==typeof a||OP.toString.apply(a)===FUNCTION_TOSTRING},JSX._IEEnumFix=JSX.env.ua.ie?function(a,b){var c,d,e;for(c=0;c<ADD.length;c+=1)d=ADD[c],e=b[d],L.isFunction(e)&&e!=OP[d]&&(a[d]=e)}:function(){},JSX.extend=function(a,b,c){if(!b||!a)throw new Error("extend failed, please check that all dependencies are included.");var d,e=function(){};if(e.prototype=b.prototype,a.prototype=new e,a.prototype.constructor=a,a.superclass=b.prototype,b.prototype.constructor==OP.constructor&&(b.prototype.constructor=b),c){for(d in c)L.hasOwnProperty(c,d)&&(a.prototype[d]=c[d]);L._IEEnumFix(a.prototype,c)}},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(a){var b=a.toString(16);return b.length%2==1&&(b="0"+b),b},this.bigIntToMinTwosComplementsHex=function(a){var b=a.toString(16);if("-"!=b.substr(0,1))b.length%2==1?b="0"+b:b.match(/^[0-7]/)||(b="00"+b);
else{var c=b.substr(1),d=c.length;d%2==1?d+=1:b.match(/^[0-7]/)||(d+=2);for(var e="",f=0;d>f;f++)e+="f";var g=new BigInteger(e,16),h=g.xor(a).add(BigInteger.ONE);b=h.toString(16).replace(/^-/,"")}return b},this.getPEMStringFromHex=function(a,b){var c=CryptoJS.enc.Hex.parse(a),d=CryptoJS.enc.Base64.stringify(c),e=d.replace(/(.{64})/g,"$1\r\n");return e=e.replace(/\r\n$/,""),"-----BEGIN "+b+"-----\r\n"+e+"\r\n-----END "+b+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var a="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+a.length+",v="+this.hV;var b=this.hV.length/2,c=b.toString(16);if(c.length%2==1&&(c="0"+c),128>b)return c;var d=c.length/2;if(d>15)throw"ASN.1 length too long to represent by 8x: n = "+b.toString(16);var e=128+d;return e.toString(16)+c},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(a){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(a){this.hTLV=null,this.isModified=!0,this.s=a,this.hV=stohex(this.s)},this.setStringHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.str?this.setString(a.str):"undefined"!=typeof a.hex&&this.setStringHex(a.hex))},JSX.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(a){utc=a.getTime()+6e4*a.getTimezoneOffset();var b=new Date(utc);return b},this.formatDate=function(a,b){var c=this.zeroPadding,d=this.localDateToUTC(a),e=String(d.getFullYear());"utc"==b&&(e=e.substr(2,2));var f=c(String(d.getMonth()+1),2),g=c(String(d.getDate()),2),h=c(String(d.getHours()),2),i=c(String(d.getMinutes()),2),j=c(String(d.getSeconds()),2);return e+f+g+h+i+j+"Z"},this.zeroPadding=function(a,b){return a.length>=b?a:new Array(b-a.length+1).join("0")+a},this.getString=function(){return this.s},this.setString=function(a){this.hTLV=null,this.isModified=!0,this.s=a,this.hV=stohex(this.s)},this.setByDateValue=function(a,b,c,d,e,f){var g=new Date(Date.UTC(a,b-1,c,d,e,f,0));this.setByDate(g)},this.getFreshValueHex=function(){return this.hV}},JSX.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(a){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(a){this.hTLV=null,this.isModified=!0,this.asn1Array=a},this.appendASN1Object=function(a){this.hTLV=null,this.isModified=!0,this.asn1Array.push(a)},this.asn1Array=new Array,"undefined"!=typeof a&&"undefined"!=typeof a.array&&(this.asn1Array=a.array)},JSX.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},JSX.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(a){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(a){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(a)},this.setByInteger=function(a){var b=new BigInteger(String(a),10);this.setByBigInteger(b)},this.setValueHex=function(a){this.hV=a},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.bigint?this.setByBigInteger(a.bigint):"undefined"!=typeof a["int"]?this.setByInteger(a["int"]):"undefined"!=typeof a.hex&&this.setValueHex(a.hex))},JSX.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(a){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(a){this.hTLV=null,this.isModified=!0,this.hV=a},this.setUnusedBitsAndHexValue=function(a,b){if(0>a||a>7)throw"unused bits shall be from 0 to 7: u = "+a;var c="0"+a;this.hTLV=null,this.isModified=!0,this.hV=c+b},this.setByBinaryString=function(a){a=a.replace(/0+$/,"");var b=8-a.length%8;8==b&&(b=0);for(var c=0;b>=c;c++)a+="0";for(var d="",c=0;c<a.length-1;c+=8){var e=a.substr(c,8),f=parseInt(e,2).toString(16);1==f.length&&(f="0"+f),d+=f}this.hTLV=null,this.isModified=!0,this.hV="0"+b+d},this.setByBooleanArray=function(a){for(var b="",c=0;c<a.length;c++)b+=1==a[c]?"1":"0";this.setByBinaryString(b)},this.newFalseArray=function(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=!1;return b},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.hex?this.setHexValueIncludingUnusedBits(a.hex):"undefined"!=typeof a.bin?this.setByBinaryString(a.bin):"undefined"!=typeof a.array&&this.setByBooleanArray(a.array))},JSX.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(a){KJUR.asn1.DEROctetString.superclass.constructor.call(this,a),this.hT="04"},JSX.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},JSX.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(a){var b=function(a){var b=a.toString(16);return 1==b.length&&(b="0"+b),b},c=function(a){var c="",d=new BigInteger(a,10),e=d.toString(2),f=7-e.length%7;7==f&&(f=0);for(var g="",h=0;f>h;h++)g+="0";e=g+e;for(var h=0;h<e.length-1;h+=7){var i=e.substr(h,7);h!=e.length-7&&(i="1"+i),c+=b(parseInt(i,2))}return c};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(a){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueOidString=function(a){if(!a.match(/^[0-9.]+$/))throw"malformed oid string: "+a;var d="",e=a.split("."),f=40*parseInt(e[0])+parseInt(e[1]);d+=b(f),e.splice(0,2);for(var g=0;g<e.length;g++)d+=c(e[g]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.setValueName=function(a){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[a])throw"DERObjectIdentifier oidName undefined: "+a;var b=KJUR.asn1.x509.OID.name2oidList[a];this.setValueOidString(b)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.oid?this.setValueOidString(a.oid):"undefined"!=typeof a.hex?this.setValueHex(a.hex):"undefined"!=typeof a.name&&this.setValueName(a.name))},JSX.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(a){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,a),this.hT="0c"},JSX.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(a){KJUR.asn1.DERNumericString.superclass.constructor.call(this,a),this.hT="12"},JSX.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(a){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,a),this.hT="13"},JSX.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(a){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,a),this.hT="14"},JSX.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(a){KJUR.asn1.DERIA5String.superclass.constructor.call(this,a),this.hT="16"},JSX.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(a){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,a),this.hT="17",this.setByDate=function(a){this.hTLV=null,this.isModified=!0,this.date=a,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof a&&("undefined"!=typeof a.str?this.setString(a.str):"undefined"!=typeof a.hex?this.setStringHex(a.hex):"undefined"!=typeof a.date&&this.setByDate(a.date))},JSX.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(a){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,a),this.hT="18",this.setByDate=function(a){this.hTLV=null,this.isModified=!0,this.date=a,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof a&&("undefined"!=typeof a.str?this.setString(a.str):"undefined"!=typeof a.hex?this.setStringHex(a.hex):"undefined"!=typeof a.date&&this.setByDate(a.date))},JSX.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(a){KJUR.asn1.DERSequence.superclass.constructor.call(this,a),this.hT="30",this.getFreshValueHex=function(){for(var a="",b=0;b<this.asn1Array.length;b++){var c=this.asn1Array[b];a+=c.getEncodedHex()}return this.hV=a,this.hV}},JSX.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(a){KJUR.asn1.DERSet.superclass.constructor.call(this,a),this.hT="31",this.getFreshValueHex=function(){for(var a=new Array,b=0;b<this.asn1Array.length;b++){var c=this.asn1Array[b];a.push(c.getEncodedHex())}return a.sort(),this.hV=a.join(""),this.hV}},JSX.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(a){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(a,b,c){this.hT=b,this.isExplicit=a,this.asn1Object=c,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=c.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,b),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof a&&("undefined"!=typeof a.tag&&(this.hT=a.tag),"undefined"!=typeof a.explicit&&(this.isExplicit=a.explicit),"undefined"!=typeof a.obj&&(this.asn1Object=a.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},JSX.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(a){"use strict";var b,c={};c.decode=function(c){var d;if(b===a){var e="0123456789ABCDEF",f=" \f\n\r	Â \u2028\u2029";for(b=[],d=0;16>d;++d)b[e.charAt(d)]=d;for(e=e.toLowerCase(),d=10;16>d;++d)b[e.charAt(d)]=d;for(d=0;d<f.length;++d)b[f.charAt(d)]=-1}var g=[],h=0,i=0;for(d=0;d<c.length;++d){var j=c.charAt(d);if("="==j)break;if(j=b[j],-1!=j){if(j===a)throw"Illegal character at offset "+d;h|=j,++i>=2?(g[g.length]=h,h=0,i=0):h<<=4}}if(i)throw"Hex encoding incomplete: 4 bits missing";return g},window.Hex=c}(),function(a){"use strict";var b,c={};c.decode=function(c){var d;if(b===a){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="= \f\n\r	Â \u2028\u2029";for(b=[],d=0;64>d;++d)b[e.charAt(d)]=d;for(d=0;d<f.length;++d)b[f.charAt(d)]=-1}var g=[],h=0,i=0;for(d=0;d<c.length;++d){var j=c.charAt(d);if("="==j)break;if(j=b[j],-1!=j){if(j===a)throw"Illegal character at offset "+d;h|=j,++i>=4?(g[g.length]=h>>16,g[g.length]=h>>8&255,g[g.length]=255&h,h=0,i=0):h<<=6}}switch(i){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:g[g.length]=h>>10;break;case 3:g[g.length]=h>>16,g[g.length]=h>>8&255}return g},c.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,c.unarmor=function(a){var b=c.re.exec(a);if(b)if(b[1])a=b[1];else{if(!b[2])throw"RegExp out of sync";a=b[2]}return c.decode(a)},window.Base64=c}(),function(a){"use strict";function b(a,c){a instanceof b?(this.enc=a.enc,this.pos=a.pos):(this.enc=a,this.pos=c)}function c(a,b,c,d,e){this.stream=a,this.header=b,this.length=c,this.tag=d,this.sub=e}var d=100,e="â¦",f={tag:function(a,b){var c=document.createElement(a);return c.className=b,c},text:function(a){return document.createTextNode(a)}};b.prototype.get=function(b){if(b===a&&(b=this.pos++),b>=this.enc.length)throw"Requesting byte offset "+b+" on a stream of length "+this.enc.length;return this.enc[b]},b.prototype.hexDigits="0123456789ABCDEF",b.prototype.hexByte=function(a){return this.hexDigits.charAt(a>>4&15)+this.hexDigits.charAt(15&a)},b.prototype.hexDump=function(a,b,c){for(var d="",e=a;b>e;++e)if(d+=this.hexByte(this.get(e)),c!==!0)switch(15&e){case 7:d+="  ";break;case 15:d+="\n";break;default:d+=" "}return d},b.prototype.parseStringISO=function(a,b){for(var c="",d=a;b>d;++d)c+=String.fromCharCode(this.get(d));return c},b.prototype.parseStringUTF=function(a,b){for(var c="",d=a;b>d;){var e=this.get(d++);c+=String.fromCharCode(128>e?e:e>191&&224>e?(31&e)<<6|63&this.get(d++):(15&e)<<12|(63&this.get(d++))<<6|63&this.get(d++))}return c},b.prototype.parseStringBMP=function(a,b){for(var c="",d=a;b>d;d+=2){var e=this.get(d),f=this.get(d+1);c+=String.fromCharCode((e<<8)+f)}return c},b.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,b.prototype.parseTime=function(a,b){var c=this.parseStringISO(a,b),d=this.reTime.exec(c);return d?(c=d[1]+"-"+d[2]+"-"+d[3]+" "+d[4],d[5]&&(c+=":"+d[5],d[6]&&(c+=":"+d[6],d[7]&&(c+="."+d[7]))),d[8]&&(c+=" UTC","Z"!=d[8]&&(c+=d[8],d[9]&&(c+=":"+d[9]))),c):"Unrecognized time: "+c},b.prototype.parseInteger=function(a,b){var c=b-a;if(c>4){c<<=3;var d=this.get(a);if(0===d)c-=8;else for(;128>d;)d<<=1,--c;return"("+c+" bit)"}for(var e=0,f=a;b>f;++f)e=e<<8|this.get(f);return e},b.prototype.parseBitString=function(a,b){var c=this.get(a),d=(b-a-1<<3)-c,e="("+d+" bit)";if(20>=d){var f=c;e+=" ";for(var g=b-1;g>a;--g){for(var h=this.get(g),i=f;8>i;++i)e+=h>>i&1?"1":"0";f=0}}return e},b.prototype.parseOctetString=function(a,b){var c=b-a,f="("+c+" byte) ";c>d&&(b=a+d);for(var g=a;b>g;++g)f+=this.hexByte(this.get(g));return c>d&&(f+=e),f},b.prototype.parseOID=function(a,b){for(var c="",d=0,e=0,f=a;b>f;++f){var g=this.get(f);if(d=d<<7|127&g,e+=7,!(128&g)){if(""===c){var h=80>d?40>d?0:1:2;c=h+"."+(d-40*h)}else c+="."+(e>=31?"bigint":d);d=e=0}}return c},c.prototype.typeName=function(){if(this.tag===a)return"unknown";var b=this.tag>>6,c=(this.tag>>5&1,31&this.tag);switch(b){case 0:switch(c){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+c.toString(16)}case 1:return"Application_"+c.toString(16);case 2:return"["+c+"]";case 3:return"Private_"+c.toString(16)}},c.prototype.reSeemsASCII=/^[ -~]+$/,c.prototype.content=function(){if(this.tag===a)return null;var b=this.tag>>6,c=31&this.tag,f=this.posContent(),g=Math.abs(this.length);if(0!==b){if(null!==this.sub)return"("+this.sub.length+" elem)";var h=this.stream.parseStringISO(f,f+Math.min(g,d));return this.reSeemsASCII.test(h)?h.substring(0,2*d)+(h.length>2*d?e:""):this.stream.parseOctetString(f,f+g)}switch(c){case 1:return 0===this.stream.get(f)?"false":"true";case 2:return this.stream.parseInteger(f,f+g);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(f,f+g);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(f,f+g);case 6:return this.stream.parseOID(f,f+g);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(f,f+g);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(f,f+g);case 30:return this.stream.parseStringBMP(f,f+g);case 23:case 24:return this.stream.parseTime(f,f+g)}return null},c.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},c.prototype.print=function(b){if(b===a&&(b=""),document.writeln(b+this),null!==this.sub){b+="  ";for(var c=0,d=this.sub.length;d>c;++c)this.sub[c].print(b)}},c.prototype.toPrettyString=function(b){b===a&&(b="");var c=b+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(c+="+"),c+=this.length,32&this.tag?c+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(c+=" (encapsulates)"),c+="\n",null!==this.sub){b+="  ";for(var d=0,e=this.sub.length;e>d;++d)c+=this.sub[d].toPrettyString(b)}return c},c.prototype.toDOM=function(){var a=f.tag("div","node");a.asn1=this;var b=f.tag("div","head"),c=this.typeName().replace(/_/g," ");b.innerHTML=c;var d=this.content();if(null!==d){d=String(d).replace(/</g,"&lt;");var e=f.tag("span","preview");e.appendChild(f.text(d)),b.appendChild(e)}a.appendChild(b),this.node=a,this.head=b;var g=f.tag("div","value");if(c="Offset: "+this.stream.pos+"<br/>",c+="Length: "+this.header+"+",c+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?c+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(c+="<br/>(encapsulates)"),null!==d&&(c+="<br/>Value:<br/><b>"+d+"</b>","object"==typeof oids&&6==this.tag)){var h=oids[d];h&&(h.d&&(c+="<br/>"+h.d),h.c&&(c+="<br/>"+h.c),h.w&&(c+="<br/>(warning!)"))}g.innerHTML=c,a.appendChild(g);var i=f.tag("div","sub");if(null!==this.sub)for(var j=0,k=this.sub.length;k>j;++j)i.appendChild(this.sub[j].toDOM());return a.appendChild(i),b.onclick=function(){a.className="node collapsed"==a.className?"node":"node collapsed"},a},c.prototype.posStart=function(){return this.stream.pos},c.prototype.posContent=function(){return this.stream.pos+this.header},c.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},c.prototype.fakeHover=function(a){this.node.className+=" hover",a&&(this.head.className+=" hover")},c.prototype.fakeOut=function(a){var b=/ ?hover/;this.node.className=this.node.className.replace(b,""),a&&(this.head.className=this.head.className.replace(b,""))},c.prototype.toHexDOM_sub=function(a,b,c,d,e){if(!(d>=e)){var g=f.tag("span",b);g.appendChild(f.text(c.hexDump(d,e))),a.appendChild(g)}},c.prototype.toHexDOM=function(b){var c=f.tag("span","hex");if(b===a&&(b=c),this.head.hexNode=c,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},c.asn1=this,c.onmouseover=function(){var a=!b.selected;a&&(b.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(a)},c.onmouseout=function(){var a=b.selected==this.asn1;this.asn1.fakeOut(a),a&&(b.selected=null,this.className="hex")},this.toHexDOM_sub(c,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(c,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)c.appendChild(f.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var d=this.sub[0],e=this.sub[this.sub.length-1];this.toHexDOM_sub(c,"intro",this.stream,this.posContent(),d.posStart());for(var g=0,h=this.sub.length;h>g;++g)c.appendChild(this.sub[g].toHexDOM(b));this.toHexDOM_sub(c,"outro",this.stream,e.posEnd(),this.posEnd())}return c},c.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},c.decodeLength=function(a){var b=a.get(),c=127&b;if(c==b)return c;if(c>3)throw"Length over 24 bits not supported at position "+(a.pos-1);if(0===c)return-1;b=0;for(var d=0;c>d;++d)b=b<<8|a.get();return b},c.hasContent=function(a,d,e){if(32&a)return!0;if(3>a||a>4)return!1;var f=new b(e);3==a&&f.get();var g=f.get();if(g>>6&1)return!1;try{var h=c.decodeLength(f);return f.pos-e.pos+h==d}catch(i){return!1}},c.decode=function(a){a instanceof b||(a=new b(a,0));var d=new b(a),e=a.get(),f=c.decodeLength(a),g=a.pos-d.pos,h=null;if(c.hasContent(e,f,a)){var i=a.pos;if(3==e&&a.get(),h=[],f>=0){for(var j=i+f;a.pos<j;)h[h.length]=c.decode(a);if(a.pos!=j)throw"Content size is not correct for container starting at offset "+i}else try{for(;;){var k=c.decode(a);if(0===k.tag)break;h[h.length]=k}f=i-a.pos}catch(l){throw"Exception while decoding undefined length content: "+l}}else a.pos+=f;return new c(d,g,f,e,h)},c.test=function(){for(var a=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],d=0,e=a.length;e>d;++d){var f=new b(a[d].value,0),g=c.decodeLength(f);g!=a[d].expected&&document.write("In test["+d+"] expected "+a[d].expected+" got "+g+"\n")}},window.ASN1=c}(),ASN1.prototype.getHexStringValue=function(){var a=this.toHexString(),b=2*this.header,c=2*this.length;return a.substr(b,c)},RSAKey.prototype.parseKey=function(a){try{var b=0,c=0,d=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,e=d.test(a)?Hex.decode(a):Base64.unarmor(a),f=ASN1.decode(e);if(9===f.sub.length){b=f.sub[1].getHexStringValue(),this.n=parseBigInt(b,16),c=f.sub[2].getHexStringValue(),this.e=parseInt(c,16);var g=f.sub[3].getHexStringValue();this.d=parseBigInt(g,16);var h=f.sub[4].getHexStringValue();this.p=parseBigInt(h,16);var i=f.sub[5].getHexStringValue();this.q=parseBigInt(i,16);var j=f.sub[6].getHexStringValue();this.dmp1=parseBigInt(j,16);var k=f.sub[7].getHexStringValue();this.dmq1=parseBigInt(k,16);var l=f.sub[8].getHexStringValue();this.coeff=parseBigInt(l,16)}else{if(2!==f.sub.length)return!1;var m=f.sub[1],n=m.sub[0];b=n.sub[0].getHexStringValue(),this.n=parseBigInt(b,16),c=n.sub[1].getHexStringValue(),this.e=parseInt(c,16)}return!0}catch(o){return!1}},RSAKey.prototype.getPrivateBaseKey=function(){var a={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},b=new KJUR.asn1.DERSequence(a);return b.getEncodedHex()},RSAKey.prototype.getPrivateBaseKeyB64=function(){return hex2b64(this.getPrivateBaseKey())},RSAKey.prototype.getPublicBaseKey=function(){var a={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},b=new KJUR.asn1.DERSequence(a);a={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var c=new KJUR.asn1.DERSequence(a);a={hex:"00"+c.getEncodedHex()};var d=new KJUR.asn1.DERBitString(a);a={array:[b,d]};var e=new KJUR.asn1.DERSequence(a);return e.getEncodedHex()},RSAKey.prototype.getPublicBaseKeyB64=function(){return hex2b64(this.getPublicBaseKey())},RSAKey.prototype.wordwrap=function(a,b){if(b=b||64,!a)return a;var c="(.{1,"+b+"})( +|$\n?)|(.{1,"+b+"})";return a.match(RegExp(c,"g")).join("\n")},RSAKey.prototype.getPrivateKey=function(){var a="-----BEGIN RSA PRIVATE KEY-----\n";return a+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",a+="-----END RSA PRIVATE KEY-----"},RSAKey.prototype.getPublicKey=function(){var a="-----BEGIN PUBLIC KEY-----\n";return a+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",a+="-----END PUBLIC KEY-----"},RSAKey.prototype.hasPublicKeyProperty=function(a){return a=a||{},a.hasOwnProperty("n")&&a.hasOwnProperty("e")},RSAKey.prototype.hasPrivateKeyProperty=function(a){return a=a||{},a.hasOwnProperty("n")&&a.hasOwnProperty("e")&&a.hasOwnProperty("d")&&a.hasOwnProperty("p")&&a.hasOwnProperty("q")&&a.hasOwnProperty("dmp1")&&a.hasOwnProperty("dmq1")&&a.hasOwnProperty("coeff")},RSAKey.prototype.parsePropertiesFrom=function(a){this.n=a.n,this.e=a.e,a.hasOwnProperty("d")&&(this.d=a.d,this.p=a.p,this.q=a.q,this.dmp1=a.dmp1,this.dmq1=a.dmq1,this.coeff=a.coeff)};var JSEncryptRSAKey=function(a){RSAKey.call(this),a&&("string"==typeof a?this.parseKey(a):(this.hasPrivateKeyProperty(a)||this.hasPublicKeyProperty(a))&&this.parsePropertiesFrom(a))};JSEncryptRSAKey.prototype=new RSAKey,JSEncryptRSAKey.prototype.constructor=JSEncryptRSAKey;var JSEncrypt=function(a){a=a||{},this.default_key_size=parseInt(a.default_key_size)||1024,this.default_public_exponent=a.default_public_exponent||"010001",this.log=a.log||!1,this.key=null};JSEncrypt.prototype.setKey=function(a){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new JSEncryptRSAKey(a)},JSEncrypt.prototype.setPrivateKey=function(a){this.setKey(a)},JSEncrypt.prototype.setPublicKey=function(a){this.setKey(a)},JSEncrypt.prototype.decrypt=function(a){try{return this.getKey().decrypt(b64tohex(a))}catch(b){return!1}},JSEncrypt.prototype.encrypt=function(a){try{return hex2b64(this.getKey().encrypt(a))}catch(b){return!1}},JSEncrypt.prototype.getKey=function(a){if(!this.key){if(this.key=new JSEncryptRSAKey,a&&"[object Function]"==={}.toString.call(a))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,a);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},JSEncrypt.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},JSEncrypt.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},JSEncrypt.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},JSEncrypt.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()};exports.JSEncrypt = JSEncrypt;
})(JSEncryptExports);
var JSEncrypt = JSEncryptExports.JSEncrypt;
/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
var CryptoJS=CryptoJS||function(g,j){var e={},d=e.lib={},m=function(){},n=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
q=d.WordArray=n.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=j?c:4*a.length},toString:function(a){return(a||l).stringify(this)},concat:function(a){var c=this.words,p=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(p[b>>>2]>>>24-8*(b%4)&255)<<24-8*((f+b)%4);else if(65535<p.length)for(b=0;b<a;b+=4)c[f+b>>>2]=p[b>>>2];else c.push.apply(c,p);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<
32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=n.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*g.random()|0);return new q.init(c,a)}}),b=e.enc={},l=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++){var d=c[f>>>2]>>>24-8*(f%4)&255;b.push((d>>>4).toString(16));b.push((d&15).toString(16))}return b.join("")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,
2),16)<<24-4*(f%8);return new q.init(b,c/2)}},k=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return b.join("")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new q.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(k.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return k.parse(unescape(encodeURIComponent(a)))}},
u=d.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var b=this._data,d=b.words,f=b.sigBytes,l=this.blockSize,e=f/(4*l),e=a?g.ceil(e):g.max((e|0)-this._minBufferSize,0);a=e*l;f=g.min(4*a,f);if(a){for(var h=0;h<a;h+=l)this._doProcessBlock(d,h);h=d.splice(0,a);b.sigBytes-=f}return new q.init(h,f)},clone:function(){var a=n.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=u.extend({cfg:n.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new w.HMAC.init(a,
d)).finalize(b)}}});var w=e.algo={};return e}(Math);
(function(){var g=CryptoJS,j=g.lib,e=j.WordArray,d=j.Hasher,m=[],j=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,l=b[0],k=b[1],h=b[2],g=b[3],j=b[4],a=0;80>a;a++){if(16>a)m[a]=d[e+a]|0;else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(l<<5|l>>>27)+j+m[a];c=20>a?c+((k&h|~k&g)+1518500249):40>a?c+((k^h^g)+1859775393):60>a?c+((k&h|k&g|h&g)-1894007588):c+((k^h^
g)-899497514);j=g;g=h;h=k<<30|k>>>2;k=l;l=c}b[0]=b[0]+l|0;b[1]=b[1]+k|0;b[2]=b[2]+h|0;b[3]=b[3]+g|0;b[4]=b[4]+j|0},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,l=8*d.sigBytes;e[l>>>5]|=128<<24-l%32;e[(l+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(l+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(j);g.HmacSHA1=d._createHmacHelper(j)})();
(function(){var g=CryptoJS,j=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;"string"==typeof d&&(d=j.parse(d));var g=e.blockSize,n=4*g;d.sigBytes>n&&(d=e.finalize(d));d.clamp();for(var q=this._oKey=d.clone(),b=this._iKey=d.clone(),l=q.words,k=b.words,h=0;h<g;h++)l[h]^=1549556828,k[h]^=909522486;q.sigBytes=b.sigBytes=n;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=
this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();
(function(){var g=CryptoJS,j=g.lib,e=j.Base,d=j.WordArray,j=g.algo,m=j.HMAC,n=j.PBKDF2=e.extend({cfg:e.extend({keySize:4,hasher:j.SHA1,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(e,b){for(var g=this.cfg,k=m.create(g.hasher,e),h=d.create(),j=d.create([1]),n=h.words,a=j.words,c=g.keySize,g=g.iterations;n.length<c;){var p=k.update(b).finalize(j);k.reset();for(var f=p.words,v=f.length,s=p,t=1;t<g;t++){s=k.finalize(s);k.reset();for(var x=s.words,r=0;r<v;r++)f[r]^=x[r]}h.concat(p);
a[0]++}h.sigBytes=4*c;return h}});g.PBKDF2=function(d,b,e){return n.create(e).compute(d,b)}})();

